{"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/comment_test.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/comment_test.js","statementMap":{"0":{"start":{"line":3,"column":16},"end":{"line":3,"column":59}},"1":{"start":{"line":5,"column":12},"end":{"line":5,"column":51}},"2":{"start":{"line":7,"column":13},"end":{"line":7,"column":56}},"3":{"start":{"line":9,"column":16},"end":{"line":9,"column":60}},"4":{"start":{"line":11,"column":12},"end":{"line":11,"column":37}},"5":{"start":{"line":13,"column":13},"end":{"line":13,"column":53}},"6":{"start":{"line":15,"column":12},"end":{"line":15,"column":37}},"7":{"start":{"line":17,"column":39},"end":{"line":17,"column":93}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":27}},"9":{"start":{"line":24,"column":0},"end":{"line":24,"column":23}},"10":{"start":{"line":26,"column":0},"end":{"line":26,"column":37}},"11":{"start":{"line":28,"column":0},"end":{"line":209,"column":3}},"12":{"start":{"line":29,"column":2},"end":{"line":42,"column":5}},"13":{"start":{"line":31,"column":18},"end":{"line":31,"column":161}},"14":{"start":{"line":33,"column":4},"end":{"line":41,"column":7}},"15":{"start":{"line":37,"column":6},"end":{"line":37,"column":35}},"16":{"start":{"line":38,"column":6},"end":{"line":38,"column":13}},"17":{"start":{"line":40,"column":6},"end":{"line":40,"column":25}},"18":{"start":{"line":47,"column":2},"end":{"line":133,"column":5}},"19":{"start":{"line":48,"column":4},"end":{"line":52,"column":7}},"20":{"start":{"line":49,"column":6},"end":{"line":49,"column":59}},"21":{"start":{"line":51,"column":6},"end":{"line":51,"column":62}},"22":{"start":{"line":54,"column":4},"end":{"line":67,"column":7}},"23":{"start":{"line":55,"column":22},"end":{"line":59,"column":8}},"24":{"start":{"line":61,"column":6},"end":{"line":66,"column":9}},"25":{"start":{"line":62,"column":8},"end":{"line":62,"column":41}},"26":{"start":{"line":63,"column":8},"end":{"line":63,"column":44}},"27":{"start":{"line":64,"column":8},"end":{"line":64,"column":75}},"28":{"start":{"line":65,"column":8},"end":{"line":65,"column":15}},"29":{"start":{"line":69,"column":22},"end":{"line":72,"column":5}},"30":{"start":{"line":73,"column":4},"end":{"line":84,"column":7}},"31":{"start":{"line":74,"column":6},"end":{"line":83,"column":9}},"32":{"start":{"line":78,"column":8},"end":{"line":78,"column":34}},"33":{"start":{"line":78,"column":17},"end":{"line":78,"column":34}},"34":{"start":{"line":79,"column":8},"end":{"line":79,"column":41}},"35":{"start":{"line":80,"column":8},"end":{"line":80,"column":44}},"36":{"start":{"line":81,"column":8},"end":{"line":81,"column":39}},"37":{"start":{"line":82,"column":8},"end":{"line":82,"column":15}},"38":{"start":{"line":86,"column":4},"end":{"line":102,"column":7}},"39":{"start":{"line":87,"column":24},"end":{"line":87,"column":44}},"40":{"start":{"line":88,"column":19},"end":{"line":91,"column":8}},"41":{"start":{"line":92,"column":6},"end":{"line":92,"column":18}},"42":{"start":{"line":94,"column":6},"end":{"line":101,"column":9}},"43":{"start":{"line":96,"column":8},"end":{"line":96,"column":41}},"44":{"start":{"line":97,"column":8},"end":{"line":97,"column":44}},"45":{"start":{"line":98,"column":8},"end":{"line":98,"column":85}},"46":{"start":{"line":99,"column":8},"end":{"line":99,"column":21}},"47":{"start":{"line":100,"column":8},"end":{"line":100,"column":15}},"48":{"start":{"line":103,"column":4},"end":{"line":118,"column":7}},"49":{"start":{"line":104,"column":21},"end":{"line":104,"column":23}},"50":{"start":{"line":105,"column":25},"end":{"line":108,"column":8}},"51":{"start":{"line":109,"column":6},"end":{"line":109,"column":24}},"52":{"start":{"line":111,"column":6},"end":{"line":117,"column":9}},"53":{"start":{"line":112,"column":8},"end":{"line":112,"column":41}},"54":{"start":{"line":113,"column":8},"end":{"line":113,"column":44}},"55":{"start":{"line":114,"column":8},"end":{"line":114,"column":54}},"56":{"start":{"line":115,"column":8},"end":{"line":115,"column":28}},"57":{"start":{"line":116,"column":8},"end":{"line":116,"column":15}},"58":{"start":{"line":119,"column":4},"end":{"line":132,"column":7}},"59":{"start":{"line":120,"column":21},"end":{"line":120,"column":47}},"60":{"start":{"line":121,"column":25},"end":{"line":124,"column":7}},"61":{"start":{"line":126,"column":6},"end":{"line":131,"column":9}},"62":{"start":{"line":127,"column":8},"end":{"line":127,"column":41}},"63":{"start":{"line":128,"column":8},"end":{"line":128,"column":44}},"64":{"start":{"line":129,"column":8},"end":{"line":129,"column":80}},"65":{"start":{"line":130,"column":8},"end":{"line":130,"column":15}},"66":{"start":{"line":138,"column":2},"end":{"line":185,"column":5}},"67":{"start":{"line":139,"column":4},"end":{"line":149,"column":7}},"68":{"start":{"line":140,"column":21},"end":{"line":140,"column":23}},"69":{"start":{"line":142,"column":6},"end":{"line":148,"column":9}},"70":{"start":{"line":145,"column":8},"end":{"line":145,"column":41}},"71":{"start":{"line":146,"column":8},"end":{"line":146,"column":46}},"72":{"start":{"line":147,"column":8},"end":{"line":147,"column":15}},"73":{"start":{"line":150,"column":4},"end":{"line":160,"column":7}},"74":{"start":{"line":151,"column":21},"end":{"line":151,"column":47}},"75":{"start":{"line":153,"column":6},"end":{"line":159,"column":9}},"76":{"start":{"line":156,"column":8},"end":{"line":156,"column":41}},"77":{"start":{"line":157,"column":8},"end":{"line":157,"column":76}},"78":{"start":{"line":158,"column":8},"end":{"line":158,"column":15}},"79":{"start":{"line":161,"column":4},"end":{"line":172,"column":7}},"80":{"start":{"line":162,"column":24},"end":{"line":162,"column":27}},"81":{"start":{"line":164,"column":6},"end":{"line":171,"column":9}},"82":{"start":{"line":167,"column":8},"end":{"line":167,"column":41}},"83":{"start":{"line":168,"column":8},"end":{"line":168,"column":44}},"84":{"start":{"line":169,"column":8},"end":{"line":169,"column":54}},"85":{"start":{"line":170,"column":8},"end":{"line":170,"column":15}},"86":{"start":{"line":173,"column":4},"end":{"line":184,"column":7}},"87":{"start":{"line":174,"column":24},"end":{"line":174,"column":50}},"88":{"start":{"line":176,"column":6},"end":{"line":183,"column":9}},"89":{"start":{"line":179,"column":8},"end":{"line":179,"column":41}},"90":{"start":{"line":180,"column":8},"end":{"line":180,"column":44}},"91":{"start":{"line":181,"column":8},"end":{"line":181,"column":84}},"92":{"start":{"line":182,"column":8},"end":{"line":182,"column":15}},"93":{"start":{"line":190,"column":2},"end":{"line":208,"column":5}},"94":{"start":{"line":191,"column":4},"end":{"line":198,"column":7}},"95":{"start":{"line":192,"column":24},"end":{"line":192,"column":27}},"96":{"start":{"line":194,"column":6},"end":{"line":197,"column":9}},"97":{"start":{"line":195,"column":8},"end":{"line":195,"column":41}},"98":{"start":{"line":196,"column":8},"end":{"line":196,"column":15}},"99":{"start":{"line":199,"column":4},"end":{"line":207,"column":7}},"100":{"start":{"line":200,"column":24},"end":{"line":200,"column":50}},"101":{"start":{"line":202,"column":6},"end":{"line":206,"column":9}},"102":{"start":{"line":203,"column":8},"end":{"line":203,"column":41}},"103":{"start":{"line":204,"column":8},"end":{"line":204,"column":83}},"104":{"start":{"line":205,"column":8},"end":{"line":205,"column":15}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":17,"column":9},"end":{"line":17,"column":31}},"loc":{"start":{"line":17,"column":37},"end":{"line":17,"column":95}},"line":17},"1":{"name":"(anonymous_1)","decl":{"start":{"line":28,"column":39},"end":{"line":28,"column":40}},"loc":{"start":{"line":28,"column":45},"end":{"line":209,"column":1}},"line":28},"2":{"name":"(anonymous_2)","decl":{"start":{"line":29,"column":9},"end":{"line":29,"column":10}},"loc":{"start":{"line":29,"column":25},"end":{"line":42,"column":3}},"line":29},"3":{"name":"(anonymous_3)","decl":{"start":{"line":36,"column":12},"end":{"line":36,"column":13}},"loc":{"start":{"line":36,"column":27},"end":{"line":39,"column":5}},"line":36},"4":{"name":"(anonymous_4)","decl":{"start":{"line":39,"column":13},"end":{"line":39,"column":14}},"loc":{"start":{"line":39,"column":22},"end":{"line":41,"column":5}},"line":39},"5":{"name":"(anonymous_5)","decl":{"start":{"line":47,"column":42},"end":{"line":47,"column":43}},"loc":{"start":{"line":47,"column":48},"end":{"line":133,"column":3}},"line":47},"6":{"name":"(anonymous_6)","decl":{"start":{"line":48,"column":11},"end":{"line":48,"column":12}},"loc":{"start":{"line":48,"column":17},"end":{"line":52,"column":5}},"line":48},"7":{"name":"(anonymous_7)","decl":{"start":{"line":54,"column":28},"end":{"line":54,"column":29}},"loc":{"start":{"line":54,"column":36},"end":{"line":67,"column":5}},"line":54},"8":{"name":"(anonymous_8)","decl":{"start":{"line":61,"column":81},"end":{"line":61,"column":82}},"loc":{"start":{"line":61,"column":100},"end":{"line":66,"column":7}},"line":61},"9":{"name":"(anonymous_9)","decl":{"start":{"line":73,"column":23},"end":{"line":73,"column":24}},"loc":{"start":{"line":73,"column":31},"end":{"line":84,"column":5}},"line":73},"10":{"name":"(anonymous_10)","decl":{"start":{"line":77,"column":13},"end":{"line":77,"column":14}},"loc":{"start":{"line":77,"column":38},"end":{"line":83,"column":7}},"line":77},"11":{"name":"(anonymous_11)","decl":{"start":{"line":86,"column":29},"end":{"line":86,"column":30}},"loc":{"start":{"line":86,"column":37},"end":{"line":102,"column":5}},"line":86},"12":{"name":"(anonymous_12)","decl":{"start":{"line":95,"column":65},"end":{"line":95,"column":66}},"loc":{"start":{"line":95,"column":92},"end":{"line":101,"column":7}},"line":95},"13":{"name":"(anonymous_13)","decl":{"start":{"line":103,"column":28},"end":{"line":103,"column":29}},"loc":{"start":{"line":103,"column":36},"end":{"line":118,"column":5}},"line":103},"14":{"name":"(anonymous_14)","decl":{"start":{"line":111,"column":145},"end":{"line":111,"column":146}},"loc":{"start":{"line":111,"column":164},"end":{"line":117,"column":7}},"line":111},"15":{"name":"(anonymous_15)","decl":{"start":{"line":119,"column":64},"end":{"line":119,"column":65}},"loc":{"start":{"line":119,"column":72},"end":{"line":132,"column":5}},"line":119},"16":{"name":"(anonymous_16)","decl":{"start":{"line":126,"column":145},"end":{"line":126,"column":146}},"loc":{"start":{"line":126,"column":164},"end":{"line":131,"column":7}},"line":126},"17":{"name":"(anonymous_17)","decl":{"start":{"line":138,"column":41},"end":{"line":138,"column":42}},"loc":{"start":{"line":138,"column":47},"end":{"line":185,"column":3}},"line":138},"18":{"name":"(anonymous_18)","decl":{"start":{"line":139,"column":54},"end":{"line":139,"column":55}},"loc":{"start":{"line":139,"column":62},"end":{"line":149,"column":5}},"line":139},"19":{"name":"(anonymous_19)","decl":{"start":{"line":144,"column":13},"end":{"line":144,"column":14}},"loc":{"start":{"line":144,"column":32},"end":{"line":148,"column":7}},"line":144},"20":{"name":"(anonymous_20)","decl":{"start":{"line":150,"column":49},"end":{"line":150,"column":50}},"loc":{"start":{"line":150,"column":57},"end":{"line":160,"column":5}},"line":150},"21":{"name":"(anonymous_21)","decl":{"start":{"line":155,"column":13},"end":{"line":155,"column":14}},"loc":{"start":{"line":155,"column":32},"end":{"line":159,"column":7}},"line":155},"22":{"name":"(anonymous_22)","decl":{"start":{"line":161,"column":35},"end":{"line":161,"column":36}},"loc":{"start":{"line":161,"column":43},"end":{"line":172,"column":5}},"line":161},"23":{"name":"(anonymous_23)","decl":{"start":{"line":166,"column":13},"end":{"line":166,"column":14}},"loc":{"start":{"line":166,"column":32},"end":{"line":171,"column":7}},"line":166},"24":{"name":"(anonymous_24)","decl":{"start":{"line":173,"column":47},"end":{"line":173,"column":48}},"loc":{"start":{"line":173,"column":55},"end":{"line":184,"column":5}},"line":173},"25":{"name":"(anonymous_25)","decl":{"start":{"line":178,"column":13},"end":{"line":178,"column":14}},"loc":{"start":{"line":178,"column":32},"end":{"line":183,"column":7}},"line":178},"26":{"name":"(anonymous_26)","decl":{"start":{"line":190,"column":39},"end":{"line":190,"column":40}},"loc":{"start":{"line":190,"column":45},"end":{"line":208,"column":3}},"line":190},"27":{"name":"(anonymous_27)","decl":{"start":{"line":191,"column":36},"end":{"line":191,"column":37}},"loc":{"start":{"line":191,"column":44},"end":{"line":198,"column":5}},"line":191},"28":{"name":"(anonymous_28)","decl":{"start":{"line":194,"column":128},"end":{"line":194,"column":129}},"loc":{"start":{"line":194,"column":147},"end":{"line":197,"column":7}},"line":194},"29":{"name":"(anonymous_29)","decl":{"start":{"line":199,"column":63},"end":{"line":199,"column":64}},"loc":{"start":{"line":199,"column":71},"end":{"line":207,"column":5}},"line":199},"30":{"name":"(anonymous_30)","decl":{"start":{"line":202,"column":128},"end":{"line":202,"column":129}},"loc":{"start":{"line":202,"column":147},"end":{"line":206,"column":7}},"line":202}},"branchMap":{"0":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":92}},"type":"cond-expr","locations":[{"start":{"line":17,"column":70},"end":{"line":17,"column":73}},{"start":{"line":17,"column":76},"end":{"line":17,"column":92}}],"line":17},"1":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":67}},"type":"binary-expr","locations":[{"start":{"line":17,"column":46},"end":{"line":17,"column":49}},{"start":{"line":17,"column":53},"end":{"line":17,"column":67}}],"line":17},"2":{"loc":{"start":{"line":78,"column":8},"end":{"line":78,"column":34}},"type":"if","locations":[{"start":{"line":78,"column":8},"end":{"line":78,"column":34}},{"start":{"line":78,"column":8},"end":{"line":78,"column":34}}],"line":78}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":5,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":0,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1},"f":{"0":5,"1":1,"2":1,"3":1,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1},"b":{"0":[1,4],"1":[5,5],"2":[0,1]},"inputSourceMap":{"version":3,"sources":["comment_test.js"],"names":["require","config","user","autToken","id","cId","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","logInUser","Token","userToken","Post","title","content","save","set","postId","newComment","Comment","description","get","commentId","delete"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post,Comment} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport sinon from 'sinon'\nimport { User } from '../models/User';\n\nlet user, autToken, id, cId;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Comment Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });  \n\n    /**\n    * POST comment route\n    */\n\n     describe('POST /api/posts/:id/comment', ()=>{\n         before(()=>{\n             mongoose.connection.dropCollection('users')\n             mongoose.connection.dropCollection('comments')\n         })\n\n        // create user and login \n    it('creates new user ', (done)=>{\n\n        const newUser = new User({\n            username:\"menase\",\n            email:\"menase@mail.com\",\n            password:\"password test\"\n       \n        })\n\n        chai.request(server)\n        .post(\"/api/users\")\n        .send(newUser)\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"user created!\");\n        done();   \n        })\n    })\n\n    // login\n    const logInUser = {\n        username:'menase',\n        password:'password test'\n    }\n\n    it('login a user', (done)=>{\n        chai.request(server)\n        .post('/api/users/login')\n        .send({username:logInUser.username, password:logInUser.password})\n        .end(function(err, response) {\n            if (err) return done(err);\n\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            autToken = response.body.Token\n            \n            done();\n        });\n\n    })\n\n    //post creation\n    it(\"creates a new post\", (done)=>{\n        const userToken = 'Bearer ' + autToken\n        \n        const post = new Post({\n            title: \"unit testing\",\n            content: \"I am testing nodejs api using mocha with chai assertion library\"\n            \n        })\n        post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n    \n        //set the auth header with our token\n        .set('Authorization', 'Bearer ' + autToken)\n        .send(post)\n        .end(function(error, response) {\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post Saved successfully\");\n\n            id= post.id\n        done();  \n        });\n    })\n\n\n    it('comment on a post', (done)=>{\n        const postId = id;\n        const newComment = new Comment({\n            postId,\n            description:\"testing a comment\"\n        });\n\n        newComment.save()\n\n        chai.request(server)\n        .post(`/api/posts/${postId}/comment`)\n        .send(newComment)\n        .set('Authorization', 'Bearer ' + autToken )\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('comment')\n            \n            cId = newComment.id\n        done();\n        })\n    })\n\n\n    it('handles when you want to comment on non existing post', (done)=>{\n        const postId = \"62597f8412f8da13b4e0a385\"\n        const newComment ={\n            postId,\n            description:\"testing a comment\"\n        };\n        chai.request(server)\n        .post(`/api/posts/${postId}/comment`)\n        .send(newComment)\n        .set('Authorization', 'Bearer ' + autToken )\n        .end((err, response)=>{\n            response.should.have.status(404);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post not available\");\n        done();\n        })\n    })\n\n    })\n  \n    /**\n     * GET comment route\n    */\n\n    describe('GET /api/posts/:id/comment', ()=>{\n\n    it('shows all comments related to specific post', (done)=>{\n            const postId = id\n            chai.request(server)\n            .get(`/api/posts/${postId}/comment`)\n            .send({postId})\n            .end((err, response)=>{\n                response.should.have.status(200);\n                response.body.should.have.a('object')\n            done();\n            })\n    })\n\n    it('show error when that post in not in DB', (done)=>{\n        \n        const postId = \"625b07c93cc2f2b0163f1a75\"\n        chai.request(server)\n        .get(`/api/posts/${postId}/comment`)\n        .send({postId})\n        .end((err, response)=>{\n            response.should.have.status(404);\n            response.body.should.have.property('message').eql(\"post not found\")\n        done();\n        })\n    })\n\n    \n\n        \n    it('shows individual comment', (done)=>{\n        const commentId = cId\n        chai.request(server)\n        .get(`/api/comments/${commentId}`)\n        .send({commentId})\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.be.a('object')\n            response.body.should.have.property('comment')\n        done();\n        })\n    })\n\n    it('shows error for non existing comment', (done)=>{\n        const commentId = \"625943e64e9dd47477f9be96\"\n        chai.request(server)\n        .get(`/api/comments/${commentId}`)\n        .send({commentId})\n        .end((err, response)=>{\n            response.should.have.status(404);\n            response.body.should.be.a('object')\n            response.body.should.have.property('comment').eql(\"Comment Doesn't Exists\")\n        done();\n        })\n    })\n\n        \n        \n    })\n\n\n    /**\n     * DELETE comment route\n     */\n\n    describe('DELETE /api/comments/:id', ()=>{\n        it('deletes comment on a post', (done)=>{\n            const commentId = cId\n            chai.request(server)\n            .delete(`/api/comments/${commentId}`)\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(200);\n                \n            done();\n            })\n        })\n\n        it('handles when you want to delete non existing comment', (done)=>{\n            const commentId = \"625943e64e9dd47477f9be96\"\n            chai.request(server)\n            .delete(`/api/comments/${commentId}`)\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(404);\n                response.body.should.have.property('message').eql(\"Comment doesn't exist\")\n            done();\n            })\n        })\n\n    })\n})    "]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"782e89ce800fddf3841eed765b904bdc0278bcd1","contentHash":"3096506ec614fd534faafb7ec6522b0ccacf766f9eb5c7839815420aa09d4f36"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/index.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":51}},"4":{"start":{"line":12,"column":14},"end":{"line":12,"column":55}},"5":{"start":{"line":14,"column":24},"end":{"line":14,"column":77}},"6":{"start":{"line":16,"column":15},"end":{"line":16,"column":65}},"7":{"start":{"line":18,"column":16},"end":{"line":18,"column":35}},"8":{"start":{"line":20,"column":18},"end":{"line":20,"column":72}},"9":{"start":{"line":22,"column":18},"end":{"line":22,"column":72}},"10":{"start":{"line":24,"column":21},"end":{"line":24,"column":78}},"11":{"start":{"line":26,"column":21},"end":{"line":26,"column":78}},"12":{"start":{"line":28,"column":18},"end":{"line":28,"column":72}},"13":{"start":{"line":30,"column":39},"end":{"line":30,"column":93}},"14":{"start":{"line":32,"column":0},"end":{"line":32,"column":27}},"15":{"start":{"line":35,"column":12},"end":{"line":35,"column":35}},"16":{"start":{"line":36,"column":13},"end":{"line":36,"column":37}},"17":{"start":{"line":38,"column":0},"end":{"line":38,"column":33}},"18":{"start":{"line":40,"column":0},"end":{"line":40,"column":37}},"19":{"start":{"line":41,"column":0},"end":{"line":41,"column":37}},"20":{"start":{"line":42,"column":0},"end":{"line":42,"column":40}},"21":{"start":{"line":43,"column":0},"end":{"line":43,"column":40}},"22":{"start":{"line":44,"column":0},"end":{"line":44,"column":37}},"23":{"start":{"line":46,"column":0},"end":{"line":46,"column":37}},"24":{"start":{"line":47,"column":0},"end":{"line":47,"column":128}},"25":{"start":{"line":48,"column":0},"end":{"line":50,"column":4}},"26":{"start":{"line":51,"column":0},"end":{"line":55,"column":3}},"27":{"start":{"line":52,"column":2},"end":{"line":54,"column":5}},"28":{"start":{"line":57,"column":0},"end":{"line":57,"column":67}},"29":{"start":{"line":58,"column":0},"end":{"line":60,"column":4}},"30":{"start":{"line":61,"column":0},"end":{"line":61,"column":30}},"31":{"start":{"line":63,"column":14},"end":{"line":63,"column":157}},"32":{"start":{"line":65,"column":0},"end":{"line":72,"column":3}},"33":{"start":{"line":69,"column":2},"end":{"line":69,"column":31}},"34":{"start":{"line":71,"column":2},"end":{"line":71,"column":21}},"35":{"start":{"line":75,"column":15},"end":{"line":77,"column":2}},"36":{"start":{"line":76,"column":2},"end":{"line":76,"column":53}},"37":{"start":{"line":79,"column":0},"end":{"line":79,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":30,"column":9},"end":{"line":30,"column":31}},"loc":{"start":{"line":30,"column":37},"end":{"line":30,"column":95}},"line":30},"1":{"name":"(anonymous_1)","decl":{"start":{"line":51,"column":13},"end":{"line":51,"column":14}},"loc":{"start":{"line":51,"column":33},"end":{"line":55,"column":1}},"line":51},"2":{"name":"(anonymous_2)","decl":{"start":{"line":68,"column":8},"end":{"line":68,"column":9}},"loc":{"start":{"line":68,"column":18},"end":{"line":70,"column":1}},"line":68},"3":{"name":"(anonymous_3)","decl":{"start":{"line":70,"column":9},"end":{"line":70,"column":10}},"loc":{"start":{"line":70,"column":18},"end":{"line":72,"column":1}},"line":70},"4":{"name":"(anonymous_4)","decl":{"start":{"line":75,"column":32},"end":{"line":75,"column":33}},"loc":{"start":{"line":75,"column":38},"end":{"line":77,"column":1}},"line":75}},"branchMap":{"0":{"loc":{"start":{"line":30,"column":46},"end":{"line":30,"column":92}},"type":"cond-expr","locations":[{"start":{"line":30,"column":70},"end":{"line":30,"column":73}},{"start":{"line":30,"column":76},"end":{"line":30,"column":92}}],"line":30},"1":{"loc":{"start":{"line":30,"column":46},"end":{"line":30,"column":67}},"type":"binary-expr","locations":[{"start":{"line":30,"column":46},"end":{"line":30,"column":49}},{"start":{"line":30,"column":53},"end":{"line":30,"column":67}}],"line":30},"2":{"loc":{"start":{"line":36,"column":13},"end":{"line":36,"column":37}},"type":"binary-expr","locations":[{"start":{"line":36,"column":13},"end":{"line":36,"column":29}},{"start":{"line":36,"column":33},"end":{"line":36,"column":37}}],"line":36}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":10,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":2,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":0,"35":1,"36":1,"37":1},"f":{"0":10,"1":2,"2":1,"3":0,"4":1},"b":{"0":[5,5],"1":[10,10],"2":[1,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["require","config","app","port","process","env","PORT","use","express","json","routes","userroutes","contactroutes","commentroutes","likeroutes","swaggerUI","serve","setup","swaggerDoc","explorer","req","res","next","status","error","static","urlencoded","extended","dbURI","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","result","console","log","catch","listen"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAGA;;AACA;;AACA;;AACA;;AACA;;;;AAVAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAYA;AACA,MAAMC,GAAG,GAAE,uBAAX;AAEA,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC,C,CAEA;;AACAJ,GAAG,CAACK,GAAJ,CAAQC,iBAAQC,IAAR,EAAR,E,CAIA;;AACAP,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBG,mBAAhB;AACAR,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBI,mBAAhB;AACAT,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBK,sBAAhB;AACAV,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBM,sBAAhB;AACAX,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBO,mBAAhB,E,CAGA;;AACAZ,GAAG,CAACK,GAAJ,CAAQ,qBAAO,KAAP,CAAR;AACAL,GAAG,CAACK,GAAJ,CAAQ,OAAR,EAAiBG,mBAAjB,EAAyBC,mBAAzB,EAAqCC,sBAArC,EAAoDC,sBAApD,EAAmEC,mBAAnE;AACAZ,GAAG,CAACK,GAAJ,CACC,WADD,EAECQ,0BAAUC,KAFX,EAGCD,0BAAUE,KAAV,CAAgBC,gBAAhB,EAA4B;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAA5B,CAHD;AAMAjB,GAAG,CAACK,GAAJ,CAAQ,GAAR,EAAa,CAACa,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAChCD,EAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBd,IAAhB,CAAqB;AACpBe,IAAAA,KAAK,EAAE;AADa,GAArB;AAGA,CAJD,E,CAOA;;AACAtB,GAAG,CAACK,GAAJ,CAAQ,SAAR,EAAmBC,iBAAQiB,MAAR,CAAe,qBAAf,CAAnB;AAEAvB,GAAG,CAACK,GAAJ,CAAQC,iBAAQkB,UAAR,CAAmB;AAACC,EAAAA,QAAQ,EAAC;AAAV,CAAnB,CAAR;AAEAzB,GAAG,CAACK,GAAJ,CAAQ,oBAAR,E,CAGA;;AACA,MAAMqB,KAAK,GAAG,iBAAgBxB,OAAO,CAACC,GAAR,CAAYwB,OAAQ,IAAGzB,OAAO,CAACC,GAAR,CAAYyB,WAAY,gFAA7E;;AACAC,mBAASC,OAAT,CAAiBJ,KAAjB,EAAuB;AAACK,EAAAA,eAAe,EAAC,IAAjB;AAAuBC,EAAAA,kBAAkB,EAAC;AAA1C,CAAvB,EAAwEC,IAAxE,CAA8EC,MAAD,IAAU;AAE/EC,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AAEH,CAJL,EAIOC,KAJP,CAIcf,KAAD,IAAS;AACda,EAAAA,OAAO,CAACC,GAAR,CAAYd,KAAZ;AACH,CANL,E,CAQA;;;eACetB,GAAG,CAACsC,MAAJ,CAAWrC,IAAX,EAAiB,MAAI;AAChCkC,EAAAA,OAAO,CAACC,GAAR,CAAY,iCAAiCnC,IAA7C;AAEH,CAHc,C","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/","sourcesContent":["import express from 'express'\nimport cors from 'cors'\nimport morgan from \"morgan\";\nrequire(\"dotenv\").config();\nimport swaggerUI from 'swagger-ui-express'\nimport swaggerDoc from \"../swagger.json\";\nimport {mongoose} from 'mongoose'\n\n// getting routes\nimport routes from \"./routes/PostRoutes\"\nimport userroutes from \"./routes/UserRoutes\"\nimport contactroutes from \"./routes/MessageRoutes\"\nimport commentroutes from \"./routes/CommentRoutes\"\nimport likeroutes from \"./routes/LikeRoutes\"\n\n//creating express app\nconst app =express();\n\nconst port = process.env.PORT || 3000\n\n// allow to pass json into body\napp.use(express.json());\n\n\n\n//routing routes\napp.use(\"/api\", routes);\napp.use(\"/api\", userroutes);\napp.use(\"/api\", contactroutes);\napp.use(\"/api\", commentroutes);\napp.use(\"/api\", likeroutes);\n\n\n//swagger documentation\napp.use(morgan(\"dev\"));\napp.use(\"/api/\", routes, userroutes, contactroutes, commentroutes, likeroutes);\napp.use(\n\t\"/api-docs\",\n\tswaggerUI.serve,\n\tswaggerUI.setup(swaggerDoc, { explorer: true })\n);\n\napp.use(\"*\", (req, res, next) => {\n\tres.status(404).json({\n\t\terror: \"NOT FOUND\",\n\t});\n});\n\n\n//serve static images\napp.use(\"/poster\", express.static(\"uploads/blog/images\"))\n\napp.use(express.urlencoded({extended:true}))\n\napp.use(cors())\n\n\n// Connect to MongoDB database\nconst dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\nmongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((result)=>{\n\n        console.log('Db Connected!')\n\t\t\n    }).catch((error)=>{\n        console.log(error)\n    })\n    \n//listening to the request on server\nexport default app.listen(port, ()=>{\n    console.log('Server started listening on ' + port)\n  \n});    "]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"de679d4868db6c860f9f9c5258afa79cc57792c6","contentHash":"3d74d0c960c8adaacd662d4f49d1a16cc3a6058b15b81edd4bda6c39444b28cc"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/PostRoutes.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/PostRoutes.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":20},"end":{"line":10,"column":70}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":71}},"5":{"start":{"line":14,"column":23},"end":{"line":14,"column":64}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":93}},"7":{"start":{"line":18,"column":15},"end":{"line":18,"column":40}},"8":{"start":{"line":21,"column":0},"end":{"line":21,"column":52}},"9":{"start":{"line":23,"column":0},"end":{"line":23,"column":130}},"10":{"start":{"line":25,"column":0},"end":{"line":25,"column":56}},"11":{"start":{"line":27,"column":0},"end":{"line":27,"column":135}},"12":{"start":{"line":29,"column":0},"end":{"line":29,"column":58}},"13":{"start":{"line":30,"column":15},"end":{"line":30,"column":21}},"14":{"start":{"line":31,"column":0},"end":{"line":31,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":95}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":92}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":92}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{"0":2},"b":{"0":[1,1],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["PostRoutes.js"],"names":["router","express","Router","get","post_get_all","post","upload","single","authenticateToken","post_create","post_get_one","patch","post_update","delete","post_delete"],"mappings":";;;;;;;AAAA;;AAIA;;AAEA;;AAEA;;;;AANA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AASA;AACAF,MAAM,CAACG,GAAP,CAAW,QAAX,EAAqBC,6BAArB,E,CAEA;;AACAJ,MAAM,CAACK,IAAP,CAAY,QAAZ,EAAsBC,sBAAOC,MAAP,CAAc,QAAd,CAAtB,EAA+CC,oCAA/C,EAAkEC,4BAAlE,E,CAEA;;AACAT,MAAM,CAACG,GAAP,CAAW,YAAX,EAAyBO,6BAAzB,E,CAEA;;AACAV,MAAM,CAACW,KAAP,CAAa,YAAb,EAA2BL,sBAAOC,MAAP,CAAc,QAAd,CAA3B,EAAoDC,oCAApD,EAAuEI,4BAAvE,E,CAEA;;AACAZ,MAAM,CAACa,MAAP,CAAc,YAAd,EAA4BC,4BAA5B;eAKed,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport upload from '../uploadConfig';\n\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\"\n\nimport {post_get_all, post_create, post_get_one, post_update, post_delete, post_like,post_unlike} from '../controllers/postControllers'\n\n\n// Get all posts\nrouter.get(\"/posts\", post_get_all);\n\n// create post\nrouter.post(\"/posts\", upload.single('poster'), authenticateToken, post_create);\n\n// getting individual post\nrouter.get(\"/posts/:id\", post_get_one)\n\n// updating post\nrouter.patch(\"/posts/:id\", upload.single('poster'), authenticateToken, post_update)\n\n// delete post\nrouter.delete(\"/posts/:id\", post_delete)\n\n\n\n\nexport default router\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7e28e392b691891c75bf3970f5d2168f57a8dcf1","contentHash":"11cc8fb055899c4358526430933fd472b0dd1b86775790594e6eca9340036fb2"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/uploadConfig.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/uploadConfig.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":55}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":51}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":15,"column":16},"end":{"line":20,"column":2}},"6":{"start":{"line":18,"column":4},"end":{"line":18,"column":98}},"7":{"start":{"line":23,"column":15},"end":{"line":25,"column":2}},"8":{"start":{"line":32,"column":15},"end":{"line":32,"column":21}},"9":{"start":{"line":33,"column":0},"end":{"line":33,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":12},"end":{"line":17,"column":13}},"loc":{"start":{"line":17,"column":31},"end":{"line":19,"column":3}},"line":17}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":0,"7":1,"8":1,"9":1},"f":{"0":2,"1":0},"b":{"0":[0,2],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["uploadConfig.js"],"names":["storage","multer","diskStorage","destination","filename","req","file","cb","fieldname","Date","now","path","extname","originalname","upload"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA;AACA,MAAMA,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,EAAC,uBADmB;AAE/BC,EAAAA,QAAQ,EAAC,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAiB;AACtB,WAAOA,EAAE,CAAC,IAAD,EAAQ,GAAED,IAAI,CAACE,SAAU,IAAGC,IAAI,CAACC,GAAL,EAAW,GAAEC,cAAKC,OAAL,CAAaN,IAAI,CAACO,YAAlB,CAAgC,EAAzE,CAAT;AACH;AAJ8B,CAAnB,CAAhB,C,CAOA;;;AACA,MAAMC,MAAM,GAAG,qBAAO;AACrBd,EAAAA,OAAO,EAACA;AADa,CAAP,CAAf,C,CAKA;AACA;AACA;AACA;AACA;AACA;;eAEec,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/","sourcesContent":["import multer from 'multer';\nimport path from 'path';\n\n//storage engine\nconst storage = multer.diskStorage({\n    destination:'./uploads/blog/images',\n    filename:(req, file, cb)=>{\n        return cb(null, `${file.fieldname}_${Date.now()}${path.extname(file.originalname)}`)\n    }\n})\n\n//upload image\nconst upload = multer({\n\tstorage:storage\n})\n\n\n// app.post('/upload', upload.single('poster'), (req, res)=>{\n// \tres.json({\n//         success:1,\n//         posterUrl:`http://localhost:3000/poster/${req.file.filename}`\n//     })\n// })    \n\nexport default upload"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"aa5a2fdc64fc432ba85c65f307078336e371af0e","contentHash":"df2169f12582209c2e1c4f5e987899ca35602b865462c02e61dfe4c84972b4d1"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/AuthMiddleWare/AuthenticateToken.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/AuthMiddleWare/AuthenticateToken.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":46}},"2":{"start":{"line":8,"column":20},"end":{"line":8,"column":67}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":13,"column":21},"end":{"line":13,"column":49}},"5":{"start":{"line":14,"column":16},"end":{"line":14,"column":54}},"6":{"start":{"line":15,"column":2},"end":{"line":17,"column":5}},"7":{"start":{"line":15,"column":21},"end":{"line":17,"column":5}},"8":{"start":{"line":19,"column":2},"end":{"line":25,"column":5}},"9":{"start":{"line":20,"column":4},"end":{"line":22,"column":7}},"10":{"start":{"line":20,"column":15},"end":{"line":22,"column":7}},"11":{"start":{"line":23,"column":4},"end":{"line":23,"column":20}},"12":{"start":{"line":24,"column":4},"end":{"line":24,"column":11}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"authenticateToken","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":26}},"loc":{"start":{"line":12,"column":43},"end":{"line":26,"column":1}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":71},"end":{"line":19,"column":72}},"loc":{"start":{"line":19,"column":88},"end":{"line":25,"column":3}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":14,"column":16},"end":{"line":14,"column":54}},"type":"binary-expr","locations":[{"start":{"line":14,"column":16},"end":{"line":14,"column":26}},{"start":{"line":14,"column":30},"end":{"line":14,"column":54}}],"line":14},"3":{"loc":{"start":{"line":15,"column":2},"end":{"line":17,"column":5}},"type":"if","locations":[{"start":{"line":15,"column":2},"end":{"line":17,"column":5}},{"start":{"line":15,"column":2},"end":{"line":17,"column":5}}],"line":15},"4":{"loc":{"start":{"line":20,"column":4},"end":{"line":22,"column":7}},"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":22,"column":7}},{"start":{"line":20,"column":4},"end":{"line":22,"column":7}}],"line":20}},"s":{"0":1,"1":1,"2":1,"3":1,"4":10,"5":10,"6":10,"7":0,"8":10,"9":10,"10":1,"11":9,"12":9},"f":{"0":1,"1":10,"2":10},"b":{"0":[0,1],"1":[1,1],"2":[10,10],"3":[0,10],"4":[1,9]},"inputSourceMap":{"version":3,"sources":["AuthenticateToken.js"],"names":["authenticateToken","req","res","next","authHeader","headers","token","split","status","json","message","jwt","verify","process","env","ACCESS_TOKEN_SECRET","error","user"],"mappings":";;;;;;;AAAA;;;;AAGO,SAASA,iBAAT,CAA2BC,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA0C;AAChD,QAAMC,UAAU,GAAGH,GAAG,CAACI,OAAJ,CAAY,eAAZ,CAAnB;AACA,QAAMC,KAAK,GAAGF,UAAU,IAAIA,UAAU,CAACG,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAA5B;AACA,MAAGD,KAAK,IAAI,IAAZ,EAAkB,OAAOJ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,IAAAA,OAAO,EAAC;AAAT,GAArB,CAAP;;AAElBC,wBAAIC,MAAJ,CAAWN,KAAX,EAAkBO,OAAO,CAACC,GAAR,CAAYC,mBAA9B,EAAmD,CAACC,KAAD,EAAQC,IAAR,KAAe;AACjE,QAAGD,KAAH,EAAU,OAAOd,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AAEVT,IAAAA,GAAG,CAACgB,IAAJ,GAASA,IAAT;AAEAd,IAAAA,IAAI;AACJ,GAND;AAOA","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/AuthMiddleWare/","sourcesContent":["import jwt from 'jsonwebtoken'\n\n\nexport function authenticateToken(req, res, next){\n\tconst authHeader = req.headers['authorization']\n\tconst token = authHeader && authHeader.split(' ')[1]\n\tif(token == null) return res.status(401).json({message:'Token is required'})\n\n\tjwt.verify(token, process.env.ACCESS_TOKEN_SECRET, (error, user)=>{\n\t\tif(error) return res.status(403).json({message:\"Invalid token\"})\n\n\t\treq.user=user;\n\n\t\tnext();\n\t})\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e09a16dfc620b5c39d684345506158a4a5958b67","contentHash":"34bc9a2892ce198635e4bf0eeb4bdea03f6fa3a3bf2c6a53ddfa2db3a4f2db2c"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/postControllers.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/postControllers.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":119}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":37}},"3":{"start":{"line":12,"column":21},"end":{"line":21,"column":1}},"4":{"start":{"line":13,"column":16},"end":{"line":15,"column":4}},"5":{"start":{"line":16,"column":2},"end":{"line":20,"column":5}},"6":{"start":{"line":24,"column":0},"end":{"line":24,"column":36}},"7":{"start":{"line":26,"column":20},"end":{"line":48,"column":1}},"8":{"start":{"line":27,"column":2},"end":{"line":47,"column":3}},"9":{"start":{"line":28,"column":4},"end":{"line":42,"column":5}},"10":{"start":{"line":29,"column":6},"end":{"line":31,"column":9}},"11":{"start":{"line":33,"column":19},"end":{"line":36,"column":8}},"12":{"start":{"line":37,"column":6},"end":{"line":37,"column":24}},"13":{"start":{"line":38,"column":6},"end":{"line":41,"column":9}},"14":{"start":{"line":44,"column":4},"end":{"line":46,"column":7}},"15":{"start":{"line":51,"column":0},"end":{"line":51,"column":34}},"16":{"start":{"line":53,"column":21},"end":{"line":74,"column":1}},"17":{"start":{"line":54,"column":2},"end":{"line":73,"column":3}},"18":{"start":{"line":55,"column":17},"end":{"line":57,"column":6}},"19":{"start":{"line":59,"column":4},"end":{"line":63,"column":5}},"20":{"start":{"line":60,"column":6},"end":{"line":62,"column":9}},"21":{"start":{"line":65,"column":4},"end":{"line":68,"column":7}},"22":{"start":{"line":70,"column":4},"end":{"line":72,"column":7}},"23":{"start":{"line":77,"column":0},"end":{"line":77,"column":36}},"24":{"start":{"line":79,"column":20},"end":{"line":101,"column":1}},"25":{"start":{"line":80,"column":2},"end":{"line":100,"column":3}},"26":{"start":{"line":81,"column":17},"end":{"line":83,"column":6}},"27":{"start":{"line":85,"column":4},"end":{"line":95,"column":5}},"28":{"start":{"line":86,"column":6},"end":{"line":86,"column":67}},"29":{"start":{"line":87,"column":6},"end":{"line":87,"column":24}},"30":{"start":{"line":88,"column":6},"end":{"line":90,"column":9}},"31":{"start":{"line":92,"column":6},"end":{"line":94,"column":9}},"32":{"start":{"line":97,"column":4},"end":{"line":99,"column":7}},"33":{"start":{"line":104,"column":0},"end":{"line":104,"column":34}},"34":{"start":{"line":106,"column":20},"end":{"line":125,"column":1}},"35":{"start":{"line":107,"column":2},"end":{"line":124,"column":3}},"36":{"start":{"line":108,"column":17},"end":{"line":108,"column":57}},"37":{"start":{"line":110,"column":4},"end":{"line":119,"column":5}},"38":{"start":{"line":111,"column":6},"end":{"line":111,"column":26}},"39":{"start":{"line":112,"column":6},"end":{"line":114,"column":9}},"40":{"start":{"line":116,"column":6},"end":{"line":118,"column":9}},"41":{"start":{"line":121,"column":4},"end":{"line":123,"column":7}},"42":{"start":{"line":127,"column":0},"end":{"line":127,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":12,"column":21},"end":{"line":12,"column":22}},"loc":{"start":{"line":12,"column":41},"end":{"line":21,"column":1}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":26,"column":20},"end":{"line":26,"column":21}},"loc":{"start":{"line":26,"column":40},"end":{"line":48,"column":1}},"line":26},"2":{"name":"(anonymous_2)","decl":{"start":{"line":53,"column":21},"end":{"line":53,"column":22}},"loc":{"start":{"line":53,"column":41},"end":{"line":74,"column":1}},"line":53},"3":{"name":"(anonymous_3)","decl":{"start":{"line":79,"column":20},"end":{"line":79,"column":21}},"loc":{"start":{"line":79,"column":40},"end":{"line":101,"column":1}},"line":79},"4":{"name":"(anonymous_4)","decl":{"start":{"line":106,"column":20},"end":{"line":106,"column":21}},"loc":{"start":{"line":106,"column":40},"end":{"line":125,"column":1}},"line":106}},"branchMap":{"0":{"loc":{"start":{"line":28,"column":4},"end":{"line":42,"column":5}},"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":42,"column":5}},{"start":{"line":28,"column":4},"end":{"line":42,"column":5}}],"line":28},"1":{"loc":{"start":{"line":28,"column":8},"end":{"line":28,"column":56}},"type":"binary-expr","locations":[{"start":{"line":28,"column":8},"end":{"line":28,"column":29}},{"start":{"line":28,"column":33},"end":{"line":28,"column":56}}],"line":28},"2":{"loc":{"start":{"line":59,"column":4},"end":{"line":63,"column":5}},"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":63,"column":5}},{"start":{"line":59,"column":4},"end":{"line":63,"column":5}}],"line":59},"3":{"loc":{"start":{"line":85,"column":4},"end":{"line":95,"column":5}},"type":"if","locations":[{"start":{"line":85,"column":4},"end":{"line":95,"column":5}},{"start":{"line":85,"column":4},"end":{"line":95,"column":5}}],"line":85},"4":{"loc":{"start":{"line":85,"column":8},"end":{"line":85,"column":64}},"type":"binary-expr","locations":[{"start":{"line":85,"column":8},"end":{"line":85,"column":33}},{"start":{"line":85,"column":37},"end":{"line":85,"column":64}}],"line":85},"5":{"loc":{"start":{"line":110,"column":4},"end":{"line":119,"column":5}},"type":"if","locations":[{"start":{"line":110,"column":4},"end":{"line":119,"column":5}},{"start":{"line":110,"column":4},"end":{"line":119,"column":5}}],"line":110}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":3,"9":3,"10":1,"11":2,"12":2,"13":2,"14":0,"15":1,"16":1,"17":2,"18":2,"19":1,"20":0,"21":1,"22":1,"23":1,"24":1,"25":2,"26":2,"27":2,"28":1,"29":1,"30":1,"31":1,"32":0,"33":1,"34":1,"35":2,"36":2,"37":2,"38":1,"39":1,"40":1,"41":0,"42":1},"f":{"0":1,"1":3,"2":2,"3":2,"4":2},"b":{"0":[1,2],"1":[3,2],"2":[0,1],"3":[1,1],"4":[2,2],"5":[1,1]},"inputSourceMap":{"version":3,"sources":["postControllers.js"],"names":["post_get_all","req","res","posts","Post","find","sort","createdAt","json","data","status","message","post_create","body","title","content","post","save","error","post_get_one","findOne","_id","params","id","post_update","length","post_delete","findById","remove"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["// import models\nimport {Post} from '../models/Post'\n\n\n\n// get all posts\nconst post_get_all = async (req, res) => {\n\tconst posts = await Post.find().sort({createdAt: -1})\n\treturn res.json({data:posts, status:200, message:\"Fetched successfully\"})\n}\n\n// create new post\nconst post_create = async (req, res) => {\n\ttry {\n\t\tif(req.body.title === '' || req.body.content === ''){\n\t\t\treturn res.status(400).json({message:\"Title and content are required\"})\n\t\t}\n\t\telse{\n\t\t\tconst post = new Post({\n\t\t\t\ttitle: req.body.title,\n\t\t\t\tcontent: req.body.content\n\t\t\t\t\n\t\t\n\t\t\t})\n\t\t\tawait post.save()\n\t\n\t\t\treturn res.status(201).json({status:201, message:\"Post Saved successfully\"})\n\t\t}\n\t} catch (error) {\n\t\treturn res.status(403).json({message:\"Invalid token\"})\n\t}\n\t\n\t\n}\n\n// get individual post\nconst post_get_one = async (req, res) => {\n\ttry {\n\t\tconst post = await Post.findOne({ _id: req.params.id })\n\n\t\tif(post === null){\n\t\t\treturn res.status(404).json({message:\"Post of that id is not available\"});\n\t\t}\n\n\t\treturn res.status(200).json({data:post, message:\"successfully fetched\"});\n\n\t} catch {\n\t\treturn res.status(404).json({error: \"Post does not exist!\"})\n\t}\n}\n\n// update a post\nconst post_update = async (req, res) => {\n\ttry {\n\t\tconst post = await Post.findOne({ _id: req.params.id })\n\n\t\tif (req.body.title.length > 0 && req.body.content.length > 0) {\n\t\t\tpost.title = req.body.title,\n\t\t\tpost.content = req.body.content\n\n\n\t\t\tawait post.save()\n\t\t\treturn res.status(200).json({message:\"Post successfully updated!\"});\n\t\t}\n\t\telse{\n\t\t\treturn res.status(400).json({message:\"Title and content need value!\"});\n\t\t}\n\n\t} catch {\n\t\treturn res.status(404).json({error: \"Post doesn't exist!\"})\n\t}\n}\n\n// delete a post\nconst post_delete = async (req, res) => {\n\ttry {\n\t\tconst post = await Post.findById(req.params.id)\n\t\tif(post != null){\n\n\t\t\tawait post.remove();\n\t\t\treturn res.status(200).json({message: \"Post deleted successfully!\"})\n\t\t}\n\t\telse{\n\t\t\treturn res.status(404).json({error: \"Post doesn't exist!\"})\n\t\t}\n\n\t\t\n\t} catch {\n\t\treturn res.status(500).json({error: \"Server error\"})\n\t}\n}\n\n\n\nexport {post_get_all, post_create, post_get_one, post_update, post_delete}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8ae6d1b6002bb003f8f3b74dd8c8bf14a21ed60c","contentHash":"39fa0df1a5d5af2a8e97f94c75f22d10436d27e08295e621ecfa22f86ff02203"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/Post.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/Post.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":35}},"3":{"start":{"line":10,"column":22},"end":{"line":16,"column":2}},"4":{"start":{"line":17,"column":19},"end":{"line":26,"column":2}},"5":{"start":{"line":27,"column":15},"end":{"line":45,"column":2}},"6":{"start":{"line":47,"column":16},"end":{"line":47,"column":66}},"7":{"start":{"line":49,"column":0},"end":{"line":49,"column":26}},"8":{"start":{"line":51,"column":13},"end":{"line":51,"column":53}},"9":{"start":{"line":53,"column":0},"end":{"line":53,"column":20}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["Post.js"],"names":["commentSchema","mongoose","Schema","postId","type","Types","ObjectId","ref","description","String","likeSchema","userId","schema","title","required","content","image","comments","likes","postedBy","timestamps","Comment","model","Post"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,aAAa,GAAG,IAAIC,mBAASC,MAAb,CAAoB;AACzCC,EAAAA,MAAM,EAAC;AACNC,IAAAA,IAAI,EAACH,mBAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QADrB;AAENC,IAAAA,GAAG,EAAC;AAFE,GADkC;AAKtCC,EAAAA,WAAW,EAACC;AAL0B,CAApB,CAAtB;AAQA,MAAMC,UAAU,GAAG,IAAIT,mBAASC,MAAb,CAAoB;AACtCC,EAAAA,MAAM,EAAC;AACNC,IAAAA,IAAI,EAACH,mBAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QADrB;AAENC,IAAAA,GAAG,EAAC;AAFE,GAD+B;AAKtCI,EAAAA,MAAM,EAAC;AACNP,IAAAA,IAAI,EAACH,mBAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QADrB;AAENC,IAAAA,GAAG,EAAC;AAFE;AAL+B,CAApB,CAAnB;AAeA,MAAMK,MAAM,GAAG,IAAIX,mBAASC,MAAb,CAAoB;AAClCW,EAAAA,KAAK,EAAE;AACNT,IAAAA,IAAI,EAACK,MADC;AAENK,IAAAA,QAAQ,EAAC;AAFH,GAD2B;AAKlCC,EAAAA,OAAO,EAAE;AACRX,IAAAA,IAAI,EAACK,MADG;AAERK,IAAAA,QAAQ,EAAC;AAFD,GALyB;AASlCE,EAAAA,KAAK,EAACP,MAT4B;AAWlCQ,EAAAA,QAAQ,EAAC,CAACjB,aAAD,CAXyB;AAalCkB,EAAAA,KAAK,EAAC,CAACR,UAAD,CAb4B;AAelCS,EAAAA,QAAQ,EAAC;AACRf,IAAAA,IAAI,EAACH,mBAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QADnB;AAERC,IAAAA,GAAG,EAAC;AAFI;AAfyB,CAApB,EAoBb;AAACa,EAAAA,UAAU,EAAC;AAAZ,CApBa,CAAf;;AAuBO,MAAMC,OAAO,GAAGpB,mBAASqB,KAAT,CAAe,SAAf,EAA0BtB,aAA1B,CAAhB;;;;AACA,MAAMuB,IAAI,GAAGtB,mBAASqB,KAAT,CAAe,MAAf,EAAuBV,MAAvB,CAAb","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/","sourcesContent":["import {mongoose} from \"mongoose\"\n\nconst commentSchema = new mongoose.Schema({\n\tpostId:{\n\t\ttype:mongoose.Schema.Types.ObjectId,\n\t\tref:'Post'\n\t},\n    description:String\n})\n\nconst likeSchema = new mongoose.Schema({\n\tpostId:{\n\t\ttype:mongoose.Schema.Types.ObjectId,\n\t\tref:'Post'\n\t},\n\tuserId:{\n\t\ttype:mongoose.Schema.Types.ObjectId,\n\t\tref:'User'\n\t}\n    \n})\n\n\n\n\nconst schema = new mongoose.Schema({\n\ttitle: {\n\t\ttype:String,\n\t\trequired:true\n\t},\n\tcontent: {\n\t\ttype:String,\n\t\trequired:true\n\t},\n\timage:String,\n\n\tcomments:[commentSchema],\n\n\tlikes:[likeSchema],\n\n\tpostedBy:{\n\t\ttype:mongoose.Schema.Types.ObjectId,\n\t\tref:'User'\n\t}\n\n},{timestamps:true})\n\n\nexport const Comment = mongoose.model(\"Comment\", commentSchema)\nexport const Post = mongoose.model(\"Post\", schema)\n\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6ecf48195b296607df64d838fd669994e284a9cf","contentHash":"4f6307d60392d3598e4cc7080634e92b8b602b0a108bc87f843445ffbe43b6de"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/UserRoutes.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/UserRoutes.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":23},"end":{"line":10,"column":64}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":15},"end":{"line":14,"column":40}},"6":{"start":{"line":17,"column":0},"end":{"line":17,"column":53}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":52}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":61}},"9":{"start":{"line":21,"column":15},"end":{"line":21,"column":21}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["UserRoutes.js"],"names":["router","express","Router","get","users_get_all","post","user_create","user_get_token"],"mappings":";;;;;;;AAAA;;AAIA;;;;AAFA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AASA;AACAF,MAAM,CAACG,GAAP,CAAW,QAAX,EAAqBC,8BAArB;AAEAJ,MAAM,CAACK,IAAP,CAAY,QAAZ,EAAsBC,4BAAtB,E,CAEA;;AACAN,MAAM,CAACK,IAAP,CAAY,cAAZ,EAA4BE,+BAA5B;eAEeP,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport { users_get_all, user_create, user_get_token } from '../controllers/userControllers'\n\n\n\n\n\n\n//users//\nrouter.get(\"/users\", users_get_all)\n\nrouter.post(\"/users\", user_create)\n\n//login user\nrouter.post(\"/users/login\", user_get_token)\n\nexport default router\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"05fa5d512a417b42edc80802d2af574ce8fe7a5a","contentHash":"84196e1765fa98617035c4e5de14c63772fe59110937c091b7477d9c5aae07c1"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/userControllers.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/userControllers.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":78}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":37}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":55}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":67}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":18,"column":22},"end":{"line":24,"column":1}},"7":{"start":{"line":19,"column":16},"end":{"line":23,"column":4}},"8":{"start":{"line":20,"column":4},"end":{"line":22,"column":7}},"9":{"start":{"line":27,"column":0},"end":{"line":27,"column":38}},"10":{"start":{"line":29,"column":20},"end":{"line":57,"column":1}},"11":{"start":{"line":30,"column":2},"end":{"line":56,"column":3}},"12":{"start":{"line":31,"column":4},"end":{"line":35,"column":5}},"13":{"start":{"line":32,"column":6},"end":{"line":34,"column":9}},"14":{"start":{"line":37,"column":17},"end":{"line":37,"column":48}},"15":{"start":{"line":38,"column":27},"end":{"line":38,"column":78}},"16":{"start":{"line":39,"column":22},"end":{"line":39,"column":71}},"17":{"start":{"line":40,"column":4},"end":{"line":42,"column":7}},"18":{"start":{"line":40,"column":20},"end":{"line":42,"column":7}},"19":{"start":{"line":43,"column":17},"end":{"line":47,"column":6}},"20":{"start":{"line":48,"column":4},"end":{"line":48,"column":22}},"21":{"start":{"line":49,"column":4},"end":{"line":51,"column":7}},"22":{"start":{"line":53,"column":4},"end":{"line":55,"column":7}},"23":{"start":{"line":60,"column":0},"end":{"line":60,"column":34}},"24":{"start":{"line":62,"column":23},"end":{"line":99,"column":1}},"25":{"start":{"line":63,"column":2},"end":{"line":98,"column":3}},"26":{"start":{"line":64,"column":17},"end":{"line":66,"column":6}},"27":{"start":{"line":68,"column":4},"end":{"line":93,"column":5}},"28":{"start":{"line":69,"column":20},"end":{"line":69,"column":83}},"29":{"start":{"line":71,"column":6},"end":{"line":88,"column":7}},"30":{"start":{"line":73,"column":21},"end":{"line":75,"column":9}},"31":{"start":{"line":77,"column":27},"end":{"line":79,"column":10}},"32":{"start":{"line":81,"column":8},"end":{"line":83,"column":11}},"33":{"start":{"line":85,"column":8},"end":{"line":87,"column":11}},"34":{"start":{"line":90,"column":6},"end":{"line":92,"column":9}},"35":{"start":{"line":95,"column":4},"end":{"line":97,"column":7}},"36":{"start":{"line":101,"column":0},"end":{"line":101,"column":40}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":22},"end":{"line":18,"column":23}},"loc":{"start":{"line":18,"column":36},"end":{"line":24,"column":1}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":39},"end":{"line":19,"column":40}},"loc":{"start":{"line":19,"column":49},"end":{"line":23,"column":3}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":29,"column":20},"end":{"line":29,"column":21}},"loc":{"start":{"line":29,"column":40},"end":{"line":57,"column":1}},"line":29},"4":{"name":"(anonymous_4)","decl":{"start":{"line":62,"column":23},"end":{"line":62,"column":24}},"loc":{"start":{"line":62,"column":43},"end":{"line":99,"column":1}},"line":62}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":31,"column":4},"end":{"line":35,"column":5}},"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":35,"column":5}},{"start":{"line":31,"column":4},"end":{"line":35,"column":5}}],"line":31},"3":{"loc":{"start":{"line":31,"column":8},"end":{"line":31,"column":85}},"type":"binary-expr","locations":[{"start":{"line":31,"column":8},"end":{"line":31,"column":32}},{"start":{"line":31,"column":36},"end":{"line":31,"column":57}},{"start":{"line":31,"column":61},"end":{"line":31,"column":85}}],"line":31},"4":{"loc":{"start":{"line":40,"column":4},"end":{"line":42,"column":7}},"type":"if","locations":[{"start":{"line":40,"column":4},"end":{"line":42,"column":7}},{"start":{"line":40,"column":4},"end":{"line":42,"column":7}}],"line":40},"5":{"loc":{"start":{"line":68,"column":4},"end":{"line":93,"column":5}},"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":93,"column":5}},{"start":{"line":68,"column":4},"end":{"line":93,"column":5}}],"line":68},"6":{"loc":{"start":{"line":71,"column":6},"end":{"line":88,"column":7}},"type":"if","locations":[{"start":{"line":71,"column":6},"end":{"line":88,"column":7}},{"start":{"line":71,"column":6},"end":{"line":88,"column":7}}],"line":71}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":1,"7":0,"8":0,"9":1,"10":1,"11":5,"12":5,"13":1,"14":4,"15":4,"16":4,"17":4,"18":1,"19":3,"20":3,"21":3,"22":0,"23":1,"24":1,"25":5,"26":5,"27":5,"28":4,"29":4,"30":3,"31":3,"32":3,"33":1,"34":1,"35":0,"36":1},"f":{"0":2,"1":0,"2":0,"3":5,"4":5},"b":{"0":[0,2],"1":[2,2],"2":[1,4],"3":[5,4,4],"4":[1,3],"5":[4,1],"6":[3,1]},"inputSourceMap":{"version":3,"sources":["userControllers.js"],"names":["users_get_all","req","res","users","User","find","then","result","status","json","data","user_create","body","username","email","password","message","salt","bcrypt","genSalt","hashedPassword","hash","isNewUser","isThisEmailInUSe","user","save","error","user_get_token","findOne","match","passwordComparison","accesToken","jwt","sign","process","env","ACCESS_TOKEN_SECRET","expiresIn","Token"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["// import models\nimport {User} from '../models/User'\nimport bcrypt from 'bcrypt'\nimport jwt from 'jsonwebtoken'\n\n//listing all users\nconst users_get_all= (req, res)=>{\n\t\n\tconst users = User.find().then((result)=>{\n\t\treturn res.status(200).json({data:result})\n\t})\n}\n\n// creating a new user\nconst user_create = async (req, res)=>{\n\ttry {\n\t\tif(req.body.username === '' || req.body.email === '' || req.body.password === ''){\n\t\t\treturn res.status(403).json({message:\"All fields are required\"})\n\t\t}\n\n\t\tconst salt = await bcrypt.genSalt()\n\t\tconst hashedPassword = await bcrypt.hash(req.body.password, salt)\n\n\t\tconst isNewUser = await User.isThisEmailInUSe(req.body.email);\n\t\tif(!isNewUser) return res.status(403).json({message:\"user already exists\"});\n\n\t\tconst user = await new User({\n\t\t\tusername:req.body.username,\n\t\t\temail:req.body.email,\n\t\t\tpassword:hashedPassword\n\t\t})\n\t\n\t\tawait user.save()\n\t\n\t\treturn res.status(201).json({message:\"user created!\"})\n\t\t\n\t} catch (error) {\n\t\treturn res.status(500).json({error:error.message})\n\t}\n\n\t\n}\n\n//login user\nconst user_get_token= async (req, res)=>{\n\ttry {\n\t\tconst user = await User.findOne({ username: req.body.username });\n\n\t\tif (user) {\n\t\t  const match = await user.passwordComparison(req.body.password, user.password);\n\t\t  if (match) {\n\t\t\t//further code to maintain jwt authentication\n\t\t\t\n\t\t\tconst user = {\n\t\t\t\tusername : req.body.username\n\t\t\t\t\n\t\t\t}\n\t\t\tconst accesToken = jwt.sign(user, process.env.ACCESS_TOKEN_SECRET, {expiresIn: '30m'});\n\t\t\t\n\t\t\treturn res.status(200).json({Token:accesToken});\n\t\t  } else {\n\t\t\tres.status(403).json({message:\"Invalid username or password.\"});\n\t\t  }\n\n\t\t} else {\n\t\t  res.status(400).json({message:\"Not User.\"});\n\t\t}\n        \n\t  } catch (error) {\n\t\t\n\t\tres.status(500).json({message:\"Internal Server error occured\"});\n\t  }\n\n}\n\nexport {users_get_all, user_create, user_get_token}\n\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b7ef31732ea2ade8d99397ecd59bf3cdb25cfe4d","contentHash":"91a75047bda655a5a91df2bc623808b552621a5bf4025254f076177e99fe635d"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/User.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/User.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":22}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":55}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":19},"end":{"line":26,"column":2}},"6":{"start":{"line":28,"column":0},"end":{"line":43,"column":2}},"7":{"start":{"line":29,"column":2},"end":{"line":42,"column":3}},"8":{"start":{"line":30,"column":17},"end":{"line":32,"column":6}},"9":{"start":{"line":34,"column":4},"end":{"line":38,"column":5}},"10":{"start":{"line":35,"column":6},"end":{"line":35,"column":19}},"11":{"start":{"line":37,"column":6},"end":{"line":37,"column":18}},"12":{"start":{"line":40,"column":4},"end":{"line":40,"column":40}},"13":{"start":{"line":41,"column":4},"end":{"line":41,"column":17}},"14":{"start":{"line":45,"column":0},"end":{"line":48,"column":2}},"15":{"start":{"line":46,"column":13},"end":{"line":46,"column":17}},"16":{"start":{"line":47,"column":2},"end":{"line":47,"column":63}},"17":{"start":{"line":50,"column":0},"end":{"line":54,"column":2}},"18":{"start":{"line":51,"column":2},"end":{"line":53,"column":5}},"19":{"start":{"line":56,"column":13},"end":{"line":56,"column":56}},"20":{"start":{"line":58,"column":0},"end":{"line":58,"column":20}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":28,"column":38},"end":{"line":28,"column":39}},"loc":{"start":{"line":28,"column":61},"end":{"line":43,"column":1}},"line":28},"2":{"name":"(anonymous_2)","decl":{"start":{"line":45,"column":40},"end":{"line":45,"column":41}},"loc":{"start":{"line":45,"column":65},"end":{"line":48,"column":1}},"line":45},"3":{"name":"(anonymous_3)","decl":{"start":{"line":50,"column":29},"end":{"line":50,"column":30}},"loc":{"start":{"line":50,"column":49},"end":{"line":54,"column":1}},"line":50}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":34,"column":4},"end":{"line":38,"column":5}},"type":"if","locations":[{"start":{"line":34,"column":4},"end":{"line":38,"column":5}},{"start":{"line":34,"column":4},"end":{"line":38,"column":5}}],"line":34}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":1,"7":4,"8":4,"9":4,"10":1,"11":3,"12":0,"13":0,"14":1,"15":4,"16":4,"17":1,"18":0,"19":1,"20":1},"f":{"0":2,"1":4,"2":4,"3":0},"b":{"0":[0,2],"1":[2,2],"2":[1,3]},"inputSourceMap":{"version":3,"sources":["User.js"],"names":["userSchema","mongoose","Schema","username","type","String","required","email","password","statics","isThisEmailInUSe","user","findOne","error","console","log","message","methods","passwordComparison","inputPassword","bcrypt","compare","getUser","find","User","model"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACtCC,EAAAA,QAAQ,EAAC;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GAD6B;AAKtCC,EAAAA,KAAK,EAAC;AACLH,IAAAA,IAAI,EAAEC;AADD,GALgC;AAQtCG,EAAAA,QAAQ,EAAC;AACRJ,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF;AAR6B,CAApB,CAAnB;;AAeAN,UAAU,CAACS,OAAX,CAAmBC,gBAAnB,GAAsC,gBAAeH,KAAf,EAAqB;AAC1D,MAAI;AACH,UAAMI,IAAI,GAAG,MAAM,KAAKC,OAAL,CAAa;AAACL,MAAAA;AAAD,KAAb,CAAnB;;AACA,QAAGI,IAAH,EAAS;AACR,aAAO,KAAP;AACA,KAFD,MAEK;AACJ,aAAO,IAAP;AACA;AAGD,GATD,CASE,OAAOE,KAAP,EAAc;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAAK,CAACG,OAA3B;AACA,WAAO,KAAP;AAEA;AAGD,CAjBD;;AAmBAhB,UAAU,CAACiB,OAAX,CAAmBC,kBAAnB,GAAwC,UAASC,aAAT,EAAuB;AAC/D,MAAIR,IAAI,GAAG,IAAX;AACE,SAAOS,gBAAOC,OAAP,CAAeF,aAAf,EAA8BR,IAAI,CAACH,QAAnC,CAAP;AACD,CAHD;;AAKAR,UAAU,CAACS,OAAX,CAAmBa,OAAnB,GAA6B,UAAUnB,QAAV,EAAoB;AAChD,SAAO,KAAKoB,IAAL,CAAU;AAAEpB,IAAAA,QAAQ,EAAEA;AAAZ,GAAV,CAAP;AACA,CAFD;;AAIO,MAAMqB,IAAI,GAAEvB,kBAASwB,KAAT,CAAe,MAAf,EAAuBzB,UAAvB,CAAZ","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/","sourcesContent":["import mongoose from \"mongoose\"\nimport bcrypt from 'bcrypt'\n\nconst userSchema = new mongoose.Schema({\n\tusername:{\n\t\ttype: String,\n\t\trequired: true\n\t},\n\temail:{\n\t\ttype: String\n\t},\n\tpassword:{\n\t\ttype: String,\n\t\trequired: true\n\t}\n\n})\n\nuserSchema.statics.isThisEmailInUSe = async function(email){\n\ttry {\n\t\tconst user = await this.findOne({email})\n\t\tif(user) {\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t\n\t} catch (error) {\n\t\tconsole.log('error', error.message);\n\t\treturn false;\n\t\t\n\t}\n\n\t\n}\n\nuserSchema.methods.passwordComparison = function(inputPassword){\nlet user = this;\n  return bcrypt.compare(inputPassword, user.password);\n};\n\nuserSchema.statics.getUser = function (username) {\n\treturn this.find({ username: username });\n}\n\nexport const User =mongoose.model(\"User\", userSchema)"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"74d75ac76b7cf864edd274622d64e339656e099f","contentHash":"0cdf894b54a7a2d1eab3cf8e21cdff56fa33046c9eddf613974b70b8e7911429"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/MessageRoutes.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/MessageRoutes.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":26},"end":{"line":10,"column":70}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":15},"end":{"line":14,"column":40}},"6":{"start":{"line":17,"column":0},"end":{"line":17,"column":62}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":61}},"8":{"start":{"line":19,"column":15},"end":{"line":19,"column":21}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["MessageRoutes.js"],"names":["router","express","Router","get","messages_get_all","post","message_create"],"mappings":";;;;;;;AAAA;;AAGA;;;;AAFA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAKA;AACAF,MAAM,CAACG,GAAP,CAAW,WAAX,EAAwBC,oCAAxB;AAEAJ,MAAM,CAACK,IAAP,CAAY,WAAZ,EAAyBC,kCAAzB;eAEeN,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\nconst router = express.Router();\n\nimport {messages_get_all, message_create} from \"../controllers/messageControllers\"\n\n\n//Contact or Messages\nrouter.get(\"/messages\", messages_get_all)\n\nrouter.post(\"/messages\", message_create)\n\nexport default router"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"27264fcd5cdfa50065efe62dc0eaa1fe0b5bcb23","contentHash":"049b5f69db63e1ee2b71ebf2578c1801671206ab48d5fa3ef2b7577049560f3f"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/messageControllers.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/messageControllers.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":59}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":43}},"3":{"start":{"line":11,"column":25},"end":{"line":19,"column":1}},"4":{"start":{"line":12,"column":19},"end":{"line":18,"column":4}},"5":{"start":{"line":13,"column":4},"end":{"line":15,"column":7}},"6":{"start":{"line":17,"column":4},"end":{"line":17,"column":23}},"7":{"start":{"line":21,"column":0},"end":{"line":21,"column":44}},"8":{"start":{"line":23,"column":23},"end":{"line":39,"column":1}},"9":{"start":{"line":24,"column":2},"end":{"line":38,"column":3}},"10":{"start":{"line":25,"column":4},"end":{"line":27,"column":7}},"11":{"start":{"line":29,"column":20},"end":{"line":33,"column":6}},"12":{"start":{"line":34,"column":4},"end":{"line":34,"column":25}},"13":{"start":{"line":35,"column":4},"end":{"line":37,"column":7}},"14":{"start":{"line":41,"column":0},"end":{"line":41,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":25},"end":{"line":11,"column":26}},"loc":{"start":{"line":11,"column":39},"end":{"line":19,"column":1}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":48},"end":{"line":12,"column":49}},"loc":{"start":{"line":12,"column":58},"end":{"line":16,"column":3}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":11},"end":{"line":16,"column":12}},"loc":{"start":{"line":16,"column":20},"end":{"line":18,"column":3}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":23},"end":{"line":23,"column":24}},"loc":{"start":{"line":23,"column":43},"end":{"line":39,"column":1}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":24,"column":2},"end":{"line":38,"column":3}},"type":"if","locations":[{"start":{"line":24,"column":2},"end":{"line":38,"column":3}},{"start":{"line":24,"column":2},"end":{"line":38,"column":3}}],"line":24},"1":{"loc":{"start":{"line":24,"column":6},"end":{"line":24,"column":55}},"type":"binary-expr","locations":[{"start":{"line":24,"column":6},"end":{"line":24,"column":28}},{"start":{"line":24,"column":32},"end":{"line":24,"column":55}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":1,"9":2,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{"0":1,"1":1,"2":0,"3":2},"b":{"0":[1,1],"1":[2,1]},"inputSourceMap":{"version":3,"sources":["messageControllers.js"],"names":["messages_get_all","req","res","messages","Contact","find","then","result","status","json","message","catch","error","console","log","message_create","body","sender","name","save"],"mappings":";;;;;;;AAAA;;AAEA;AACA,MAAMA,gBAAgB,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAY;AACjC,QAAMC,QAAQ,GAAGC,iBAAQC,IAAR,GAAeC,IAAf,CAAqBC,MAAD,IAAU;AAC3C,WAAOL,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AACH,GAFgB,EAEdC,KAFc,CAERC,KAAK,IAAG;AACbC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,GAJgB,CAAjB;AAKC,CANL;;;;AAQA,MAAMG,cAAc,GAAG,OAAMd,GAAN,EAAWC,GAAX,KAAiB;AACpC,MAAGD,GAAG,CAACe,IAAJ,CAASC,MAAT,KAAoB,EAApB,IAA0BhB,GAAG,CAACe,IAAJ,CAASN,OAAT,KAAqB,EAAlD,EAAqD;AACjD,WAAOR,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AACH,GAFD,MAGI;AACA,UAAMA,OAAO,GAAG,IAAIN,gBAAJ,CAAY;AACxBa,MAAAA,MAAM,EAAEhB,GAAG,CAACe,IAAJ,CAASC,MADO;AAExBC,MAAAA,IAAI,EAACjB,GAAG,CAACe,IAAJ,CAASE,IAFU;AAGxBR,MAAAA,OAAO,EAAET,GAAG,CAACe,IAAJ,CAASN;AAHM,KAAZ,CAAhB;AAMA,UAAMA,OAAO,CAACS,IAAR,EAAN;AAEA,WAAOjB,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AACH;AACJ,CAfD","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import {Contact} from '../models/Contact'\n\n//contact or mesages\nconst messages_get_all = (req, res)=>{\n    const messages = Contact.find().then((result)=>{\n        return res.status(200).json({message:\"contacts fetched!\"})\n    }).catch(error =>{\n        console.log(error)\n    })\n    }\n    \nconst message_create = async(req, res)=>{\n    if(req.body.sender === '' || req.body.message === ''){\n        return res.status(403).json({message:\"sender and message are required\"})\n    }\n    else{\n        const message = new Contact({\n            sender: req.body.sender,\n            name:req.body.name,\n            message: req.body.message,\n    \n        })\n        await message.save()\n\n        return res.status(201).json({message:\"Message Sent successfully\"})\n    }\n}\n\nexport {messages_get_all, message_create}    "]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"545f2279657e996a14c084468ffaa04765ad98f1","contentHash":"39cd71d201b8d13f3694e4385b2e4188f2d1c652e7773880dc0e18ca2efb6fb9"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/Contact.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/Contact.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":35}},"3":{"start":{"line":10,"column":22},"end":{"line":22,"column":2}},"4":{"start":{"line":24,"column":16},"end":{"line":24,"column":66}},"5":{"start":{"line":26,"column":0},"end":{"line":26,"column":26}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["Contact.js"],"names":["contactSchema","mongoose","Schema","sender","type","String","name","message","timestamps","Contact","model"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,aAAa,GAAG,IAAIC,mBAASC,MAAb,CAAoB;AACzCC,EAAAA,MAAM,EAAC;AACNC,IAAAA,IAAI,EAACC;AADC,GADkC;AAItCC,EAAAA,IAAI,EAAC;AACDF,IAAAA,IAAI,EAACC;AADJ,GAJiC;AAOzCE,EAAAA,OAAO,EAAC;AACPH,IAAAA,IAAI,EAACC;AADE;AAPiC,CAApB,EAUpB;AAACG,EAAAA,UAAU,EAAC;AAAZ,CAVoB,CAAtB;;AAaO,MAAMC,OAAO,GAAGR,mBAASS,KAAT,CAAe,SAAf,EAA0BV,aAA1B,CAAhB","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/","sourcesContent":["import {mongoose} from \"mongoose\"\n\nconst contactSchema = new mongoose.Schema({\n\tsender:{\n\t\ttype:String\n\t},\n    name:{\n        type:String\n    },\n\tmessage:{\n\t\ttype:String\n\t}\n},{timestamps:true})\n\n\nexport const Contact = mongoose.model(\"Message\", contactSchema)"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d43d4faa63f4a1eb875fa52c8bf6c1e53c39db6d","contentHash":"7bf6130065ca47d604ecb532e9468fb07a628e28fe6fb76339a71b8ccc9ccd27"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/CommentRoutes.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/CommentRoutes.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":25},"end":{"line":10,"column":71}},"4":{"start":{"line":12,"column":26},"end":{"line":12,"column":70}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":15},"end":{"line":16,"column":40}},"7":{"start":{"line":19,"column":0},"end":{"line":19,"column":105}},"8":{"start":{"line":21,"column":0},"end":{"line":21,"column":70}},"9":{"start":{"line":23,"column":0},"end":{"line":23,"column":65}},"10":{"start":{"line":25,"column":0},"end":{"line":25,"column":105}},"11":{"start":{"line":26,"column":15},"end":{"line":26,"column":21}},"12":{"start":{"line":27,"column":0},"end":{"line":27,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["CommentRoutes.js"],"names":["router","express","Router","post","authenticateToken","comment_one","get","comment_get_all","comment_get_one","delete","comment_delete"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf,C,CAEA;;;AACAF,MAAM,CAACG,IAAP,CAAY,oBAAZ,EAAkCC,oCAAlC,EAAqDC,+BAArD,E,CAEA;;AACAL,MAAM,CAACM,GAAP,CAAW,oBAAX,EAAiCC,mCAAjC,E,CAEA;;AACAP,MAAM,CAACM,GAAP,CAAW,eAAX,EAA4BE,mCAA5B,E,CAEA;;AACAR,MAAM,CAACS,MAAP,CAAc,eAAd,EAA+BL,oCAA/B,EAAkDM,kCAAlD;eAIeV,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\";\nimport {comment_one, comment_get_all, comment_get_one,comment_delete} from '../controllers/commentControllers';\n\nconst router = express.Router(); \n\n//add comment\nrouter.post(\"/posts/:id/comment\", authenticateToken, comment_one)\n\n// get all comment of a post\nrouter.get(\"/posts/:id/comment\", comment_get_all)\n\n// get one comment\nrouter.get(\"/comments/:id\", comment_get_one)\n\n// delete comment \nrouter.delete(\"/comments/:id\", authenticateToken, comment_delete)\n\n\n\nexport default router"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"573e480bc3c5389e53e3e42247c5eaa8d8038833","contentHash":"613939e414c434e62e33827cb5fc2cca67a15bb129f45580bc05de86f0ca911b"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/commentControllers.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/commentControllers.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":106}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":37}},"3":{"start":{"line":11,"column":20},"end":{"line":31,"column":1}},"4":{"start":{"line":12,"column":13},"end":{"line":12,"column":26}},"5":{"start":{"line":13,"column":15},"end":{"line":13,"column":44}},"6":{"start":{"line":15,"column":2},"end":{"line":30,"column":3}},"7":{"start":{"line":17,"column":23},"end":{"line":20,"column":6}},"8":{"start":{"line":21,"column":4},"end":{"line":21,"column":35}},"9":{"start":{"line":22,"column":4},"end":{"line":22,"column":22}},"10":{"start":{"line":23,"column":4},"end":{"line":25,"column":7}},"11":{"start":{"line":27,"column":4},"end":{"line":29,"column":7}},"12":{"start":{"line":34,"column":0},"end":{"line":34,"column":34}},"13":{"start":{"line":36,"column":24},"end":{"line":61,"column":1}},"14":{"start":{"line":37,"column":2},"end":{"line":60,"column":3}},"15":{"start":{"line":38,"column":19},"end":{"line":38,"column":32}},"16":{"start":{"line":39,"column":17},"end":{"line":39,"column":50}},"17":{"start":{"line":40,"column":4},"end":{"line":42,"column":7}},"18":{"start":{"line":40,"column":22},"end":{"line":42,"column":7}},"19":{"start":{"line":43,"column":21},"end":{"line":45,"column":6}},"20":{"start":{"line":47,"column":4},"end":{"line":55,"column":5}},"21":{"start":{"line":48,"column":6},"end":{"line":50,"column":9}},"22":{"start":{"line":52,"column":6},"end":{"line":54,"column":9}},"23":{"start":{"line":57,"column":4},"end":{"line":59,"column":7}},"24":{"start":{"line":64,"column":0},"end":{"line":64,"column":42}},"25":{"start":{"line":66,"column":24},"end":{"line":85,"column":1}},"26":{"start":{"line":67,"column":2},"end":{"line":84,"column":3}},"27":{"start":{"line":68,"column":22},"end":{"line":68,"column":35}},"28":{"start":{"line":69,"column":20},"end":{"line":69,"column":59}},"29":{"start":{"line":71,"column":4},"end":{"line":75,"column":5}},"30":{"start":{"line":72,"column":6},"end":{"line":74,"column":9}},"31":{"start":{"line":77,"column":4},"end":{"line":79,"column":7}},"32":{"start":{"line":81,"column":4},"end":{"line":83,"column":7}},"33":{"start":{"line":88,"column":0},"end":{"line":88,"column":42}},"34":{"start":{"line":90,"column":23},"end":{"line":111,"column":1}},"35":{"start":{"line":91,"column":2},"end":{"line":110,"column":3}},"36":{"start":{"line":92,"column":22},"end":{"line":92,"column":35}},"37":{"start":{"line":93,"column":20},"end":{"line":93,"column":59}},"38":{"start":{"line":95,"column":4},"end":{"line":101,"column":5}},"39":{"start":{"line":97,"column":6},"end":{"line":97,"column":45}},"40":{"start":{"line":98,"column":6},"end":{"line":100,"column":9}},"41":{"start":{"line":103,"column":4},"end":{"line":105,"column":7}},"42":{"start":{"line":107,"column":4},"end":{"line":109,"column":7}},"43":{"start":{"line":113,"column":0},"end":{"line":113,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":20},"end":{"line":11,"column":21}},"loc":{"start":{"line":11,"column":40},"end":{"line":31,"column":1}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":36,"column":24},"end":{"line":36,"column":25}},"loc":{"start":{"line":36,"column":44},"end":{"line":61,"column":1}},"line":36},"2":{"name":"(anonymous_2)","decl":{"start":{"line":66,"column":24},"end":{"line":66,"column":25}},"loc":{"start":{"line":66,"column":44},"end":{"line":85,"column":1}},"line":66},"3":{"name":"(anonymous_3)","decl":{"start":{"line":90,"column":23},"end":{"line":90,"column":24}},"loc":{"start":{"line":90,"column":43},"end":{"line":111,"column":1}},"line":90}},"branchMap":{"0":{"loc":{"start":{"line":15,"column":2},"end":{"line":30,"column":3}},"type":"if","locations":[{"start":{"line":15,"column":2},"end":{"line":30,"column":3}},{"start":{"line":15,"column":2},"end":{"line":30,"column":3}}],"line":15},"1":{"loc":{"start":{"line":40,"column":4},"end":{"line":42,"column":7}},"type":"if","locations":[{"start":{"line":40,"column":4},"end":{"line":42,"column":7}},{"start":{"line":40,"column":4},"end":{"line":42,"column":7}}],"line":40},"2":{"loc":{"start":{"line":47,"column":4},"end":{"line":55,"column":5}},"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":55,"column":5}},{"start":{"line":47,"column":4},"end":{"line":55,"column":5}}],"line":47},"3":{"loc":{"start":{"line":71,"column":4},"end":{"line":75,"column":5}},"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":75,"column":5}},{"start":{"line":71,"column":4},"end":{"line":75,"column":5}}],"line":71},"4":{"loc":{"start":{"line":95,"column":4},"end":{"line":101,"column":5}},"type":"if","locations":[{"start":{"line":95,"column":4},"end":{"line":101,"column":5}},{"start":{"line":95,"column":4},"end":{"line":101,"column":5}}],"line":95}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":2,"6":2,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":2,"15":2,"16":2,"17":2,"18":1,"19":1,"20":1,"21":1,"22":0,"23":0,"24":1,"25":1,"26":2,"27":2,"28":2,"29":2,"30":1,"31":1,"32":0,"33":1,"34":1,"35":2,"36":2,"37":2,"38":2,"39":1,"40":1,"41":1,"42":0,"43":1},"f":{"0":2,"1":2,"2":2,"3":2},"b":{"0":[1,1],"1":[1,1],"2":[1,0],"3":[1,1],"4":[1,1]},"inputSourceMap":{"version":3,"sources":["commentControllers.js"],"names":["comment_one","req","res","id","params","post","Post","findById","newComment","Comment","create","postId","description","body","comment","comments","push","save","status","json","message","comment_get_all","find","length","error","comment_get_one","commentId","comment_delete","deleteOne"],"mappings":";;;;;;;AAAA;;AAGA;AACA,MAAMA,WAAW,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAkB;AACrC,QAAMC,EAAE,GAAGF,GAAG,CAACG,MAAJ,CAAWD,EAAtB;AACA,QAAME,IAAI,GAAG,MAAMC,WAAKC,QAAL,CAAcJ,EAAd,CAAnB;;AAEA,MAAIE,IAAI,KAAK,IAAb,EAAkB;AACjB;AACA,UAAMG,UAAU,GAAG,MAAMC,cAAQC,MAAR,CAAe;AACvCC,MAAAA,MAAM,EAACR,EADgC;AAEvCS,MAAAA,WAAW,EAAEX,GAAG,CAACY,IAAJ,CAASC;AAFiB,KAAf,CAAzB;AAKAT,IAAAA,IAAI,CAACU,QAAL,CAAcC,IAAd,CAAmBR,UAAnB;AACA,UAAMH,IAAI,CAACY,IAAL,EAAN;AACA,WAAOf,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACL,MAAAA,OAAO,EAACN;AAAT,KAArB,CAAP;AAEA,GAXD,MAWK;AACJ,WAAON,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AACA;AACD,CAlBD,C,CAoBA;;;;;AACA,MAAMC,eAAe,GAAG,OAAOpB,GAAP,EAAYC,GAAZ,KAAkB;AACzC,MAAI;AACH,UAAMS,MAAM,GAAEV,GAAG,CAACG,MAAJ,CAAWD,EAAzB;AACA,UAAME,IAAI,GAAG,MAAMC,WAAKC,QAAL,CAAcI,MAAd,CAAnB;AACA,QAAGN,IAAI,IAAI,IAAX,EAAiB,OAAOH,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AAEjB,UAAML,QAAQ,GAAG,MAAMN,cAAQa,IAAR,CAAa;AAACX,MAAAA,MAAM,EAACA;AAAR,KAAb,CAAvB;;AAEA,QAAGI,QAAQ,CAACQ,MAAT,GAAkB,CAArB,EAAuB;AAEtB,aAAOrB,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACJ,QAAAA;AAAD,OAArB,CAAP;AACA,KAHD,MAGK;AACJ,aAAOb,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACL,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AACA;AAED,GAdD,CAcE,OAAOU,KAAP,EAAc;AACf,WAAOtB,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAACI,KAAK,CAACJ;AAAf,KAArB,CAAP;AACA;AAED,CAnBD,C,CAqBA;;;;;AACA,MAAMK,eAAe,GAAG,OAAOxB,GAAP,EAAYC,GAAZ,KAAkB;AAEzC,MAAI;AACH,UAAMwB,SAAS,GAAGzB,GAAG,CAACG,MAAJ,CAAWD,EAA7B;AACA,UAAMW,OAAO,GAAG,MAAML,cAAQF,QAAR,CAAiBmB,SAAjB,CAAtB;;AACA,QAAGZ,OAAO,IAAI,IAAd,EAAoB;AACnB,aAAOZ,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACL,QAAAA;AAAD,OAArB,CAAP;AACA;;AAED,WAAOZ,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACL,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AAEA,GATD,CASE,OAAOU,KAAP,EAAc;AACf,WAAOtB,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACL,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AACA;AAGD,CAhBD,C,CAkBA;;;;;AACA,MAAMa,cAAc,GAAG,OAAO1B,GAAP,EAAYC,GAAZ,KAAkB;AAExC,MAAI;AACH,UAAMwB,SAAS,GAAGzB,GAAG,CAACG,MAAJ,CAAWD,EAA7B;AACA,UAAMW,OAAO,GAAG,MAAML,cAAQF,QAAR,CAAiBmB,SAAjB,CAAtB;;AACA,QAAGZ,OAAO,IAAI,IAAd,EAAoB;AAEnB;AACA,YAAML,cAAQmB,SAAR,CAAkBd,OAAlB,CAAN;AAEA,aAAOZ,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AAEA;;AAED,WAAOlB,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AAGA,GAfD,CAeE,OAAOI,KAAP,EAAc;AACf,WAAOtB,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACL,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AACA;AAGD,CAtBD","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import {Post,Comment} from '../models/Post'\n\n\n//comment on a post\nconst comment_one = async (req, res)=>{\n\tconst id = req.params.id;\n\tconst post = await Post.findById(id);\n\n\tif (post !== null){\n\t\t//create comment\n\t\tconst newComment = await Comment.create({\n\t\t\tpostId:id,\n\t\t\tdescription: req.body.comment\n\t\t});\n\n\t\tpost.comments.push(newComment);\n\t\tawait post.save()\n\t\treturn res.status(201).json({comment:newComment})\n\t\t\n\t}else{\n\t\treturn res.status(404).json({message:\"Post not available\"})\n\t}\n}\n\n// get all comments of a post\nconst comment_get_all = async (req, res)=>{\n\ttry {\n\t\tconst postId= req.params.id;\n\t\tconst post = await Post.findById(postId);\n\t\tif(post == null) return res.status(404).json({message:\"post not found\"});\n\t\t\n\t\tconst comments = await Comment.find({postId:postId});\n\n\t\tif(comments.length > 0){\n            \n\t\t\treturn res.status(200).json({comments});\n\t\t}else{\n\t\t\treturn res.status(404).json({comment:\"no comments related to this post\"});\n\t\t}\n\t\n\t} catch (error) {\n\t\treturn res.status(404).json({message:error.message})\n\t}\n\t\n}\n\n// get one comment\nconst comment_get_one = async (req, res)=>{\n\t\n\ttry {\n\t\tconst commentId = req.params.id;\n\t\tconst comment = await Comment.findById(commentId)\n\t\tif(comment != null ){\n\t\t\treturn res.status(200).json({comment})\n\t\t}\n\n\t\treturn res.status(404).json({comment:\"Comment Doesn't Exists\"})\n\n\t} catch (error) {\n\t\treturn res.status(404).json({comment:\"Comment Doesn't Exists\"})\n\t}\n\t\n\n}\n\n// delete a comment\nconst comment_delete = async (req, res)=>{\n\t\n\ttry {\n\t\tconst commentId = req.params.id;\n\t\tconst comment = await Comment.findById(commentId)\n\t\tif(comment != null ){\n\n\t\t\t// delete a comment\n\t\t\tawait Comment.deleteOne(comment)\n\n\t\t\treturn res.status(200).json({message:\"Comment deleted\"})\n\t\t\t\n\t\t}\n\t\t\n\t\treturn res.status(404).json({message:\"Comment doesn't exist\"})\n\t\t\n\n\t} catch (error) {\n\t\treturn res.status(500).json({comment:\"Internal server error\"})\n\t}\n\t\n\n}\n\nexport {comment_one,comment_get_all,comment_get_one,comment_delete}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2e35d8e543a1f60cbb5052563092a62be805202b","contentHash":"cb76ab2361caa408895e254dacfdef9f4e09f7cdacde5553f5d80962e1893762"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/LikeRoutes.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/LikeRoutes.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":23},"end":{"line":10,"column":64}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":71}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":15},"end":{"line":16,"column":40}},"7":{"start":{"line":19,"column":0},"end":{"line":19,"column":92}},"8":{"start":{"line":21,"column":0},"end":{"line":21,"column":100}},"9":{"start":{"line":22,"column":15},"end":{"line":22,"column":21}},"10":{"start":{"line":23,"column":0},"end":{"line":23,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["LikeRoutes.js"],"names":["router","express","Router","put","authenticateToken","post_like","post_unlike"],"mappings":";;;;;;;AAAA;;AAIA;;AAEA;;;;AAJA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAOA;AACAF,MAAM,CAACG,GAAP,CAAW,aAAX,EAA0BC,oCAA1B,EAA6CC,0BAA7C,E,CAEA;;AACAL,MAAM,CAACG,GAAP,CAAW,mBAAX,EAAgCC,oCAAhC,EAAmDE,4BAAnD;eAGeN,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport {post_like,post_unlike} from '../controllers/likeControllers'\n\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\"\n\n\n//like a post\nrouter.put(\"/posts/like\", authenticateToken, post_like)\n\n//unlike a post\nrouter.put(\"/posts/:id/unlike\", authenticateToken, post_unlike)\n\n\nexport default router"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5111b3f56cee9bc10752c494b0dc99c37cb3b23f","contentHash":"a278af7d0cf608649352a788d7b93e778ef3ea2d86291d0ba8d4e0cd39e2653e"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/likeControllers.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/likeControllers.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":49}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":37}},"3":{"start":{"line":11,"column":18},"end":{"line":34,"column":1}},"4":{"start":{"line":12,"column":13},"end":{"line":12,"column":28}},"5":{"start":{"line":14,"column":2},"end":{"line":33,"column":5}},"6":{"start":{"line":24,"column":4},"end":{"line":32,"column":5}},"7":{"start":{"line":25,"column":6},"end":{"line":27,"column":9}},"8":{"start":{"line":29,"column":6},"end":{"line":31,"column":9}},"9":{"start":{"line":37,"column":0},"end":{"line":37,"column":30}},"10":{"start":{"line":39,"column":20},"end":{"line":62,"column":1}},"11":{"start":{"line":40,"column":13},"end":{"line":40,"column":26}},"12":{"start":{"line":42,"column":2},"end":{"line":61,"column":5}},"13":{"start":{"line":52,"column":4},"end":{"line":60,"column":5}},"14":{"start":{"line":53,"column":6},"end":{"line":55,"column":9}},"15":{"start":{"line":57,"column":6},"end":{"line":59,"column":9}},"16":{"start":{"line":64,"column":0},"end":{"line":64,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":18},"end":{"line":11,"column":19}},"loc":{"start":{"line":11,"column":38},"end":{"line":34,"column":1}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":23,"column":10},"end":{"line":23,"column":11}},"loc":{"start":{"line":23,"column":27},"end":{"line":33,"column":3}},"line":23},"2":{"name":"(anonymous_2)","decl":{"start":{"line":39,"column":20},"end":{"line":39,"column":21}},"loc":{"start":{"line":39,"column":34},"end":{"line":62,"column":1}},"line":39},"3":{"name":"(anonymous_3)","decl":{"start":{"line":51,"column":10},"end":{"line":51,"column":11}},"loc":{"start":{"line":51,"column":27},"end":{"line":61,"column":3}},"line":51}},"branchMap":{"0":{"loc":{"start":{"line":24,"column":4},"end":{"line":32,"column":5}},"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":32,"column":5}},{"start":{"line":24,"column":4},"end":{"line":32,"column":5}}],"line":24},"1":{"loc":{"start":{"line":52,"column":4},"end":{"line":60,"column":5}},"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":60,"column":5}},{"start":{"line":52,"column":4},"end":{"line":60,"column":5}}],"line":52}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1},"f":{"0":0,"1":0,"2":0,"3":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"sources":["likeControllers.js"],"names":["post_like","req","res","id","body","postId","Post","findByIdAndUpdate","$push","likes","userId","user","new","exec","err","result","status","json","message","post_unlike","params","$pull"],"mappings":";;;;;;;AAAA;;AAGA;AACA,MAAMA,SAAS,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAkB;AACnC,QAAMC,EAAE,GAAGF,GAAG,CAACG,IAAJ,CAASC,MAApB;;AAEAC,aAAKC,iBAAL,CAAuBJ,EAAvB,EAA0B;AACzBK,IAAAA,KAAK,EAAC;AAACC,MAAAA,KAAK,EAAC;AAACJ,QAAAA,MAAM,EAACF,EAAR;AAAYO,QAAAA,MAAM,EAACT,GAAG,CAACU,IAAJ,CAASR;AAA5B;AAAP;AADmB,GAA1B,EACgD;AAC9CS,IAAAA,GAAG,EAAC;AAD0C,GADhD,EAGIC,IAHJ,CAGS,CAACC,GAAD,EAAMC,MAAN,KAAe;AACtB,QAAGD,GAAH,EAAO;AACN,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACH,QAAAA,GAAG,EAACA;AAAL,OAArB,CAAP;AACA,KAFD,MAGI;AACH,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AACA;AACD,GAVF;AAWA,CAdD,C,CAgBA;;;;;AACA,MAAMC,WAAW,GAAG,CAAClB,GAAD,EAAMC,GAAN,KAAY;AAC/B,QAAMC,EAAE,GAAGF,GAAG,CAACmB,MAAJ,CAAWjB,EAAtB;;AACAG,aAAKC,iBAAL,CAAuBJ,EAAvB,EAA0B;AACzBkB,IAAAA,KAAK,EAAC;AAACZ,MAAAA,KAAK,EAAC;AAACJ,QAAAA,MAAM,EAACF,EAAR;AAAYO,QAAAA,MAAM,EAACT,GAAG,CAACU,IAAJ,CAASR;AAA5B;AAAP;AADmB,GAA1B,EACgD;AAC9CS,IAAAA,GAAG,EAAC;AAD0C,GADhD,EAGIC,IAHJ,CAGS,CAACC,GAAD,EAAMC,MAAN,KAAe;AACtB,QAAGD,GAAH,EAAO;AACN,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACH,QAAAA,GAAG,EAACA;AAAL,OAArB,CAAP;AACA,KAFD,MAGI;AACH,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AACA;AACD,GAVF;AAWA,CAbD","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import { Post } from \"../models/Post\"\n\n\n// like a post\nconst post_like = async (req, res)=>{\n\tconst id = req.body.postId\n\n\tPost.findByIdAndUpdate(id,{\n\t\t$push:{likes:{postId:id, userId:req.user.id}}},{\n\t\t\tnew:true\n\t\t}).exec((err, result)=>{\n\t\t\tif(err){\n\t\t\t\treturn res.status(422).json({err:err})\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn res.status(200).json({message:\"post liked!\"})\n\t\t\t}\n\t\t})\n}\n\n//unlike a post\nconst post_unlike = (req, res)=>{\n\tconst id = req.params.id\n\tPost.findByIdAndUpdate(id,{\n\t\t$pull:{likes:{postId:id, userId:req.user.id}}},{\n\t\t\tnew:true\n\t\t}).exec((err, result)=>{\n\t\t\tif(err){\n\t\t\t\treturn res.status(422).json({err:err})\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn res.status(200).json({message:\"unliked post!\"})\n\t\t\t}\n\t\t})\n}\n\n\nexport {post_like, post_unlike,}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"36a865f9066ed290360419d55c3bd71bd285b70b","contentHash":"645cbb1215ec03fb2c4b5b58eeb58cb9b6913fd407d28f44e0e0ece748d5acae"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/contact_test.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/contact_test.js","statementMap":{"0":{"start":{"line":3,"column":16},"end":{"line":3,"column":59}},"1":{"start":{"line":5,"column":12},"end":{"line":5,"column":51}},"2":{"start":{"line":7,"column":13},"end":{"line":7,"column":56}},"3":{"start":{"line":9,"column":16},"end":{"line":9,"column":60}},"4":{"start":{"line":11,"column":12},"end":{"line":11,"column":37}},"5":{"start":{"line":13,"column":13},"end":{"line":13,"column":53}},"6":{"start":{"line":15,"column":12},"end":{"line":15,"column":37}},"7":{"start":{"line":17,"column":39},"end":{"line":17,"column":93}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":27}},"9":{"start":{"line":24,"column":0},"end":{"line":24,"column":23}},"10":{"start":{"line":26,"column":0},"end":{"line":26,"column":37}},"11":{"start":{"line":28,"column":0},"end":{"line":100,"column":3}},"12":{"start":{"line":29,"column":2},"end":{"line":42,"column":5}},"13":{"start":{"line":31,"column":18},"end":{"line":31,"column":161}},"14":{"start":{"line":33,"column":4},"end":{"line":41,"column":7}},"15":{"start":{"line":37,"column":6},"end":{"line":37,"column":35}},"16":{"start":{"line":38,"column":6},"end":{"line":38,"column":13}},"17":{"start":{"line":40,"column":6},"end":{"line":40,"column":25}},"18":{"start":{"line":47,"column":2},"end":{"line":77,"column":5}},"19":{"start":{"line":48,"column":4},"end":{"line":50,"column":7}},"20":{"start":{"line":49,"column":6},"end":{"line":49,"column":62}},"21":{"start":{"line":51,"column":4},"end":{"line":63,"column":7}},"22":{"start":{"line":52,"column":22},"end":{"line":56,"column":7}},"23":{"start":{"line":58,"column":6},"end":{"line":62,"column":9}},"24":{"start":{"line":59,"column":8},"end":{"line":59,"column":41}},"25":{"start":{"line":60,"column":8},"end":{"line":60,"column":82}},"26":{"start":{"line":61,"column":8},"end":{"line":61,"column":15}},"27":{"start":{"line":64,"column":4},"end":{"line":76,"column":7}},"28":{"start":{"line":65,"column":22},"end":{"line":69,"column":7}},"29":{"start":{"line":71,"column":6},"end":{"line":75,"column":9}},"30":{"start":{"line":72,"column":8},"end":{"line":72,"column":41}},"31":{"start":{"line":73,"column":8},"end":{"line":73,"column":88}},"32":{"start":{"line":74,"column":8},"end":{"line":74,"column":15}},"33":{"start":{"line":82,"column":2},"end":{"line":99,"column":5}},"34":{"start":{"line":83,"column":4},"end":{"line":85,"column":7}},"35":{"start":{"line":84,"column":6},"end":{"line":84,"column":62}},"36":{"start":{"line":86,"column":4},"end":{"line":92,"column":7}},"37":{"start":{"line":87,"column":6},"end":{"line":91,"column":9}},"38":{"start":{"line":88,"column":8},"end":{"line":88,"column":41}},"39":{"start":{"line":89,"column":8},"end":{"line":89,"column":74}},"40":{"start":{"line":90,"column":8},"end":{"line":90,"column":15}},"41":{"start":{"line":93,"column":4},"end":{"line":98,"column":7}},"42":{"start":{"line":94,"column":6},"end":{"line":97,"column":9}},"43":{"start":{"line":95,"column":8},"end":{"line":95,"column":41}},"44":{"start":{"line":96,"column":8},"end":{"line":96,"column":15}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":17,"column":9},"end":{"line":17,"column":31}},"loc":{"start":{"line":17,"column":37},"end":{"line":17,"column":95}},"line":17},"1":{"name":"(anonymous_1)","decl":{"start":{"line":28,"column":39},"end":{"line":28,"column":40}},"loc":{"start":{"line":28,"column":45},"end":{"line":100,"column":1}},"line":28},"2":{"name":"(anonymous_2)","decl":{"start":{"line":29,"column":9},"end":{"line":29,"column":10}},"loc":{"start":{"line":29,"column":25},"end":{"line":42,"column":3}},"line":29},"3":{"name":"(anonymous_3)","decl":{"start":{"line":36,"column":12},"end":{"line":36,"column":13}},"loc":{"start":{"line":36,"column":27},"end":{"line":39,"column":5}},"line":36},"4":{"name":"(anonymous_4)","decl":{"start":{"line":39,"column":13},"end":{"line":39,"column":14}},"loc":{"start":{"line":39,"column":22},"end":{"line":41,"column":5}},"line":39},"5":{"name":"(anonymous_5)","decl":{"start":{"line":47,"column":33},"end":{"line":47,"column":34}},"loc":{"start":{"line":47,"column":39},"end":{"line":77,"column":3}},"line":47},"6":{"name":"(anonymous_6)","decl":{"start":{"line":48,"column":11},"end":{"line":48,"column":12}},"loc":{"start":{"line":48,"column":17},"end":{"line":50,"column":5}},"line":48},"7":{"name":"(anonymous_7)","decl":{"start":{"line":51,"column":24},"end":{"line":51,"column":25}},"loc":{"start":{"line":51,"column":32},"end":{"line":63,"column":5}},"line":51},"8":{"name":"(anonymous_8)","decl":{"start":{"line":58,"column":84},"end":{"line":58,"column":85}},"loc":{"start":{"line":58,"column":103},"end":{"line":62,"column":7}},"line":58},"9":{"name":"(anonymous_9)","decl":{"start":{"line":64,"column":75},"end":{"line":64,"column":76}},"loc":{"start":{"line":64,"column":83},"end":{"line":76,"column":5}},"line":64},"10":{"name":"(anonymous_10)","decl":{"start":{"line":71,"column":84},"end":{"line":71,"column":85}},"loc":{"start":{"line":71,"column":103},"end":{"line":75,"column":7}},"line":71},"11":{"name":"(anonymous_11)","decl":{"start":{"line":82,"column":32},"end":{"line":82,"column":33}},"loc":{"start":{"line":82,"column":38},"end":{"line":99,"column":3}},"line":82},"12":{"name":"(anonymous_12)","decl":{"start":{"line":83,"column":10},"end":{"line":83,"column":11}},"loc":{"start":{"line":83,"column":16},"end":{"line":85,"column":5}},"line":83},"13":{"name":"(anonymous_13)","decl":{"start":{"line":86,"column":27},"end":{"line":86,"column":28}},"loc":{"start":{"line":86,"column":35},"end":{"line":92,"column":5}},"line":86},"14":{"name":"(anonymous_14)","decl":{"start":{"line":87,"column":69},"end":{"line":87,"column":70}},"loc":{"start":{"line":87,"column":88},"end":{"line":91,"column":7}},"line":87},"15":{"name":"(anonymous_15)","decl":{"start":{"line":93,"column":36},"end":{"line":93,"column":37}},"loc":{"start":{"line":93,"column":44},"end":{"line":98,"column":5}},"line":93},"16":{"name":"(anonymous_16)","decl":{"start":{"line":94,"column":68},"end":{"line":94,"column":69}},"loc":{"start":{"line":94,"column":87},"end":{"line":97,"column":7}},"line":94}},"branchMap":{"0":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":92}},"type":"cond-expr","locations":[{"start":{"line":17,"column":70},"end":{"line":17,"column":73}},{"start":{"line":17,"column":76},"end":{"line":17,"column":92}}],"line":17},"1":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":67}},"type":"binary-expr","locations":[{"start":{"line":17,"column":46},"end":{"line":17,"column":49}},{"start":{"line":17,"column":53},"end":{"line":17,"column":67}}],"line":17}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":5,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1},"f":{"0":5,"1":1,"2":1,"3":1,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1},"b":{"0":[1,4],"1":[5,5]},"inputSourceMap":{"version":3,"sources":["contact_test.js"],"names":["require","config","user","autToken","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","message","sender","name","request","server","post","send","end","err","response","have","status","body","property","eql","after","get"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport sinon from 'sinon'\nimport { User } from '../models/User';\n\nlet user, autToken;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Message Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });     \n    \n\n    /**\n * POST Contact route\n */\n\ndescribe('POST /api/messages', ()=>{\n    before(()=>{\n        mongoose.connection.dropCollection('messages')\n    })\n\n    it('Send messages', (done)=>{\n        const message = {\n            sender: 'test@mail.com',\n            name:\"Eric gasana\",\n            message: \"I would like to thank you for those valuable posts\",\n    \n        }\n        chai.request(server)\n        .post(\"/api/messages\")\n        .send(message)\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.property('message').eql(\"Message Sent successfully\")\n        done();\n        })\n    })\n\n    it('dont send a message when sender, message content is not provided', (done)=>{\n        const message = {\n            sender: '',\n            name:\"sawa\",\n            message: \"\",\n    \n        }\n        chai.request(server)\n        .post(\"/api/messages\")\n        .send(message)\n        .end((err, response)=>{\n            response.should.have.status(403);\n            response.body.should.property('message').eql(\"sender and message are required\")\n        done();\n        })\n    \n    })\n})\n\n    /**\n     * GET Contact route\n     */\n\n describe('GET /api/messages', ()=>{\n    after(()=>{\n        mongoose.connection.dropCollection('messages')\n    })\n    it('get all messages', (done)=>{\n        chai.request(server)\n        .get(\"/api/messages\")\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.property('message').eql(\"contacts fetched!\")\n        done();\n        })\n    })\n\n    it('don\\'t return any message', (done)=>{\n        chai.request(server)\n        .get(\"/api/message\")\n        .end((err, response)=>{\n            response.should.have.status(404);\n        done();\n        })\n    })\n})\n\n\n})"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"42fe74754d5401b46dcb63dd44878141259e250a","contentHash":"14492f7eb0659a7201688d6e076e7e0187617553c687046a2bff9355debe0787"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/post_test.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/post_test.js","statementMap":{"0":{"start":{"line":3,"column":16},"end":{"line":3,"column":59}},"1":{"start":{"line":5,"column":12},"end":{"line":5,"column":51}},"2":{"start":{"line":7,"column":13},"end":{"line":7,"column":56}},"3":{"start":{"line":9,"column":16},"end":{"line":9,"column":60}},"4":{"start":{"line":11,"column":12},"end":{"line":11,"column":37}},"5":{"start":{"line":13,"column":13},"end":{"line":13,"column":53}},"6":{"start":{"line":15,"column":12},"end":{"line":15,"column":37}},"7":{"start":{"line":17,"column":39},"end":{"line":17,"column":93}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":27}},"9":{"start":{"line":24,"column":0},"end":{"line":24,"column":23}},"10":{"start":{"line":26,"column":0},"end":{"line":26,"column":37}},"11":{"start":{"line":28,"column":0},"end":{"line":236,"column":3}},"12":{"start":{"line":29,"column":2},"end":{"line":42,"column":5}},"13":{"start":{"line":31,"column":18},"end":{"line":31,"column":161}},"14":{"start":{"line":33,"column":4},"end":{"line":41,"column":7}},"15":{"start":{"line":37,"column":6},"end":{"line":37,"column":35}},"16":{"start":{"line":38,"column":6},"end":{"line":38,"column":13}},"17":{"start":{"line":40,"column":6},"end":{"line":40,"column":25}},"18":{"start":{"line":47,"column":2},"end":{"line":129,"column":5}},"19":{"start":{"line":48,"column":4},"end":{"line":52,"column":7}},"20":{"start":{"line":49,"column":6},"end":{"line":49,"column":59}},"21":{"start":{"line":51,"column":6},"end":{"line":51,"column":59}},"22":{"start":{"line":54,"column":4},"end":{"line":67,"column":7}},"23":{"start":{"line":55,"column":22},"end":{"line":59,"column":8}},"24":{"start":{"line":61,"column":6},"end":{"line":66,"column":9}},"25":{"start":{"line":62,"column":8},"end":{"line":62,"column":41}},"26":{"start":{"line":63,"column":8},"end":{"line":63,"column":44}},"27":{"start":{"line":64,"column":8},"end":{"line":64,"column":75}},"28":{"start":{"line":65,"column":8},"end":{"line":65,"column":15}},"29":{"start":{"line":69,"column":22},"end":{"line":72,"column":5}},"30":{"start":{"line":73,"column":4},"end":{"line":84,"column":7}},"31":{"start":{"line":74,"column":6},"end":{"line":83,"column":9}},"32":{"start":{"line":78,"column":8},"end":{"line":78,"column":34}},"33":{"start":{"line":78,"column":17},"end":{"line":78,"column":34}},"34":{"start":{"line":79,"column":8},"end":{"line":79,"column":41}},"35":{"start":{"line":80,"column":8},"end":{"line":80,"column":44}},"36":{"start":{"line":81,"column":8},"end":{"line":81,"column":39}},"37":{"start":{"line":82,"column":8},"end":{"line":82,"column":15}},"38":{"start":{"line":85,"column":4},"end":{"line":101,"column":7}},"39":{"start":{"line":86,"column":24},"end":{"line":86,"column":44}},"40":{"start":{"line":87,"column":19},"end":{"line":90,"column":8}},"41":{"start":{"line":91,"column":6},"end":{"line":91,"column":18}},"42":{"start":{"line":93,"column":6},"end":{"line":100,"column":9}},"43":{"start":{"line":95,"column":8},"end":{"line":95,"column":41}},"44":{"start":{"line":96,"column":8},"end":{"line":96,"column":44}},"45":{"start":{"line":97,"column":8},"end":{"line":97,"column":85}},"46":{"start":{"line":98,"column":8},"end":{"line":98,"column":21}},"47":{"start":{"line":99,"column":8},"end":{"line":99,"column":15}},"48":{"start":{"line":102,"column":22},"end":{"line":102,"column":42}},"49":{"start":{"line":103,"column":4},"end":{"line":115,"column":7}},"50":{"start":{"line":104,"column":19},"end":{"line":107,"column":8}},"51":{"start":{"line":109,"column":6},"end":{"line":114,"column":9}},"52":{"start":{"line":111,"column":8},"end":{"line":111,"column":41}},"53":{"start":{"line":112,"column":8},"end":{"line":112,"column":75}},"54":{"start":{"line":113,"column":8},"end":{"line":113,"column":15}},"55":{"start":{"line":116,"column":4},"end":{"line":128,"column":7}},"56":{"start":{"line":117,"column":19},"end":{"line":120,"column":8}},"57":{"start":{"line":122,"column":6},"end":{"line":127,"column":9}},"58":{"start":{"line":124,"column":8},"end":{"line":124,"column":41}},"59":{"start":{"line":125,"column":8},"end":{"line":125,"column":92}},"60":{"start":{"line":126,"column":8},"end":{"line":126,"column":15}},"61":{"start":{"line":134,"column":2},"end":{"line":148,"column":5}},"62":{"start":{"line":135,"column":4},"end":{"line":141,"column":7}},"63":{"start":{"line":136,"column":6},"end":{"line":140,"column":9}},"64":{"start":{"line":137,"column":8},"end":{"line":137,"column":41}},"65":{"start":{"line":138,"column":8},"end":{"line":138,"column":67}},"66":{"start":{"line":139,"column":8},"end":{"line":139,"column":15}},"67":{"start":{"line":142,"column":4},"end":{"line":147,"column":7}},"68":{"start":{"line":143,"column":6},"end":{"line":146,"column":9}},"69":{"start":{"line":144,"column":8},"end":{"line":144,"column":41}},"70":{"start":{"line":145,"column":8},"end":{"line":145,"column":15}},"71":{"start":{"line":153,"column":2},"end":{"line":173,"column":5}},"72":{"start":{"line":154,"column":4},"end":{"line":163,"column":7}},"73":{"start":{"line":155,"column":21},"end":{"line":155,"column":23}},"74":{"start":{"line":157,"column":6},"end":{"line":162,"column":9}},"75":{"start":{"line":158,"column":8},"end":{"line":158,"column":41}},"76":{"start":{"line":159,"column":8},"end":{"line":159,"column":44}},"77":{"start":{"line":160,"column":8},"end":{"line":160,"column":67}},"78":{"start":{"line":161,"column":8},"end":{"line":161,"column":15}},"79":{"start":{"line":164,"column":4},"end":{"line":172,"column":7}},"80":{"start":{"line":165,"column":21},"end":{"line":165,"column":25}},"81":{"start":{"line":167,"column":6},"end":{"line":171,"column":9}},"82":{"start":{"line":168,"column":8},"end":{"line":168,"column":46}},"83":{"start":{"line":169,"column":8},"end":{"line":169,"column":70}},"84":{"start":{"line":170,"column":8},"end":{"line":170,"column":15}},"85":{"start":{"line":178,"column":2},"end":{"line":207,"column":5}},"86":{"start":{"line":179,"column":4},"end":{"line":192,"column":7}},"87":{"start":{"line":180,"column":21},"end":{"line":180,"column":23}},"88":{"start":{"line":181,"column":19},"end":{"line":184,"column":7}},"89":{"start":{"line":186,"column":6},"end":{"line":191,"column":9}},"90":{"start":{"line":187,"column":8},"end":{"line":187,"column":41}},"91":{"start":{"line":188,"column":8},"end":{"line":188,"column":44}},"92":{"start":{"line":189,"column":8},"end":{"line":189,"column":88}},"93":{"start":{"line":190,"column":8},"end":{"line":190,"column":15}},"94":{"start":{"line":193,"column":4},"end":{"line":206,"column":7}},"95":{"start":{"line":194,"column":21},"end":{"line":194,"column":23}},"96":{"start":{"line":195,"column":19},"end":{"line":198,"column":7}},"97":{"start":{"line":200,"column":6},"end":{"line":205,"column":9}},"98":{"start":{"line":201,"column":8},"end":{"line":201,"column":41}},"99":{"start":{"line":202,"column":8},"end":{"line":202,"column":44}},"100":{"start":{"line":203,"column":8},"end":{"line":203,"column":91}},"101":{"start":{"line":204,"column":8},"end":{"line":204,"column":15}},"102":{"start":{"line":212,"column":2},"end":{"line":235,"column":5}},"103":{"start":{"line":213,"column":4},"end":{"line":217,"column":7}},"104":{"start":{"line":214,"column":6},"end":{"line":214,"column":59}},"105":{"start":{"line":216,"column":6},"end":{"line":216,"column":59}},"106":{"start":{"line":218,"column":4},"end":{"line":225,"column":7}},"107":{"start":{"line":219,"column":21},"end":{"line":219,"column":23}},"108":{"start":{"line":221,"column":6},"end":{"line":224,"column":9}},"109":{"start":{"line":222,"column":8},"end":{"line":222,"column":41}},"110":{"start":{"line":223,"column":8},"end":{"line":223,"column":15}},"111":{"start":{"line":226,"column":4},"end":{"line":234,"column":7}},"112":{"start":{"line":227,"column":21},"end":{"line":227,"column":23}},"113":{"start":{"line":229,"column":6},"end":{"line":233,"column":9}},"114":{"start":{"line":230,"column":8},"end":{"line":230,"column":41}},"115":{"start":{"line":231,"column":8},"end":{"line":231,"column":79}},"116":{"start":{"line":232,"column":8},"end":{"line":232,"column":15}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":17,"column":9},"end":{"line":17,"column":31}},"loc":{"start":{"line":17,"column":37},"end":{"line":17,"column":95}},"line":17},"1":{"name":"(anonymous_1)","decl":{"start":{"line":28,"column":36},"end":{"line":28,"column":37}},"loc":{"start":{"line":28,"column":42},"end":{"line":236,"column":1}},"line":28},"2":{"name":"(anonymous_2)","decl":{"start":{"line":29,"column":9},"end":{"line":29,"column":10}},"loc":{"start":{"line":29,"column":25},"end":{"line":42,"column":3}},"line":29},"3":{"name":"(anonymous_3)","decl":{"start":{"line":36,"column":12},"end":{"line":36,"column":13}},"loc":{"start":{"line":36,"column":27},"end":{"line":39,"column":5}},"line":36},"4":{"name":"(anonymous_4)","decl":{"start":{"line":39,"column":13},"end":{"line":39,"column":14}},"loc":{"start":{"line":39,"column":22},"end":{"line":41,"column":5}},"line":39},"5":{"name":"(anonymous_5)","decl":{"start":{"line":47,"column":30},"end":{"line":47,"column":31}},"loc":{"start":{"line":47,"column":36},"end":{"line":129,"column":3}},"line":47},"6":{"name":"(anonymous_6)","decl":{"start":{"line":48,"column":11},"end":{"line":48,"column":12}},"loc":{"start":{"line":48,"column":17},"end":{"line":52,"column":5}},"line":48},"7":{"name":"(anonymous_7)","decl":{"start":{"line":54,"column":28},"end":{"line":54,"column":29}},"loc":{"start":{"line":54,"column":36},"end":{"line":67,"column":5}},"line":54},"8":{"name":"(anonymous_8)","decl":{"start":{"line":61,"column":81},"end":{"line":61,"column":82}},"loc":{"start":{"line":61,"column":100},"end":{"line":66,"column":7}},"line":61},"9":{"name":"(anonymous_9)","decl":{"start":{"line":73,"column":23},"end":{"line":73,"column":24}},"loc":{"start":{"line":73,"column":31},"end":{"line":84,"column":5}},"line":73},"10":{"name":"(anonymous_10)","decl":{"start":{"line":77,"column":13},"end":{"line":77,"column":14}},"loc":{"start":{"line":77,"column":38},"end":{"line":83,"column":7}},"line":77},"11":{"name":"(anonymous_11)","decl":{"start":{"line":85,"column":29},"end":{"line":85,"column":30}},"loc":{"start":{"line":85,"column":37},"end":{"line":101,"column":5}},"line":85},"12":{"name":"(anonymous_12)","decl":{"start":{"line":94,"column":65},"end":{"line":94,"column":66}},"loc":{"start":{"line":94,"column":92},"end":{"line":100,"column":7}},"line":94},"13":{"name":"(anonymous_13)","decl":{"start":{"line":103,"column":57},"end":{"line":103,"column":58}},"loc":{"start":{"line":103,"column":65},"end":{"line":115,"column":5}},"line":103},"14":{"name":"(anonymous_14)","decl":{"start":{"line":110,"column":43},"end":{"line":110,"column":44}},"loc":{"start":{"line":110,"column":70},"end":{"line":114,"column":7}},"line":110},"15":{"name":"(anonymous_15)","decl":{"start":{"line":116,"column":57},"end":{"line":116,"column":58}},"loc":{"start":{"line":116,"column":65},"end":{"line":128,"column":5}},"line":116},"16":{"name":"(anonymous_16)","decl":{"start":{"line":123,"column":65},"end":{"line":123,"column":66}},"loc":{"start":{"line":123,"column":92},"end":{"line":127,"column":7}},"line":123},"17":{"name":"(anonymous_17)","decl":{"start":{"line":134,"column":29},"end":{"line":134,"column":30}},"loc":{"start":{"line":134,"column":35},"end":{"line":148,"column":3}},"line":134},"18":{"name":"(anonymous_18)","decl":{"start":{"line":135,"column":28},"end":{"line":135,"column":29}},"loc":{"start":{"line":135,"column":36},"end":{"line":141,"column":5}},"line":135},"19":{"name":"(anonymous_19)","decl":{"start":{"line":136,"column":66},"end":{"line":136,"column":67}},"loc":{"start":{"line":136,"column":85},"end":{"line":140,"column":7}},"line":136},"20":{"name":"(anonymous_20)","decl":{"start":{"line":142,"column":32},"end":{"line":142,"column":33}},"loc":{"start":{"line":142,"column":40},"end":{"line":147,"column":5}},"line":142},"21":{"name":"(anonymous_21)","decl":{"start":{"line":143,"column":65},"end":{"line":143,"column":66}},"loc":{"start":{"line":143,"column":84},"end":{"line":146,"column":7}},"line":143},"22":{"name":"(anonymous_22)","decl":{"start":{"line":153,"column":33},"end":{"line":153,"column":34}},"loc":{"start":{"line":153,"column":39},"end":{"line":173,"column":3}},"line":153},"23":{"name":"(anonymous_23)","decl":{"start":{"line":154,"column":32},"end":{"line":154,"column":33}},"loc":{"start":{"line":154,"column":40},"end":{"line":163,"column":5}},"line":154},"24":{"name":"(anonymous_24)","decl":{"start":{"line":157,"column":76},"end":{"line":157,"column":77}},"loc":{"start":{"line":157,"column":95},"end":{"line":162,"column":7}},"line":157},"25":{"name":"(anonymous_25)","decl":{"start":{"line":164,"column":47},"end":{"line":164,"column":48}},"loc":{"start":{"line":164,"column":55},"end":{"line":172,"column":5}},"line":164},"26":{"name":"(anonymous_26)","decl":{"start":{"line":167,"column":76},"end":{"line":167,"column":77}},"loc":{"start":{"line":167,"column":100},"end":{"line":171,"column":7}},"line":167},"27":{"name":"(anonymous_27)","decl":{"start":{"line":178,"column":33},"end":{"line":178,"column":34}},"loc":{"start":{"line":178,"column":39},"end":{"line":207,"column":3}},"line":178},"28":{"name":"(anonymous_28)","decl":{"start":{"line":179,"column":25},"end":{"line":179,"column":26}},"loc":{"start":{"line":179,"column":33},"end":{"line":192,"column":5}},"line":179},"29":{"name":"(anonymous_29)","decl":{"start":{"line":186,"column":132},"end":{"line":186,"column":133}},"loc":{"start":{"line":186,"column":151},"end":{"line":191,"column":7}},"line":186},"30":{"name":"(anonymous_30)","decl":{"start":{"line":193,"column":63},"end":{"line":193,"column":64}},"loc":{"start":{"line":193,"column":71},"end":{"line":206,"column":5}},"line":193},"31":{"name":"(anonymous_31)","decl":{"start":{"line":200,"column":132},"end":{"line":200,"column":133}},"loc":{"start":{"line":200,"column":151},"end":{"line":205,"column":7}},"line":200},"32":{"name":"(anonymous_32)","decl":{"start":{"line":212,"column":36},"end":{"line":212,"column":37}},"loc":{"start":{"line":212,"column":42},"end":{"line":235,"column":3}},"line":212},"33":{"name":"(anonymous_33)","decl":{"start":{"line":213,"column":10},"end":{"line":213,"column":11}},"loc":{"start":{"line":213,"column":16},"end":{"line":217,"column":5}},"line":213},"34":{"name":"(anonymous_34)","decl":{"start":{"line":218,"column":28},"end":{"line":218,"column":29}},"loc":{"start":{"line":218,"column":36},"end":{"line":225,"column":5}},"line":218},"35":{"name":"(anonymous_35)","decl":{"start":{"line":221,"column":122},"end":{"line":221,"column":123}},"loc":{"start":{"line":221,"column":141},"end":{"line":224,"column":7}},"line":221},"36":{"name":"(anonymous_36)","decl":{"start":{"line":226,"column":62},"end":{"line":226,"column":63}},"loc":{"start":{"line":226,"column":70},"end":{"line":234,"column":5}},"line":226},"37":{"name":"(anonymous_37)","decl":{"start":{"line":229,"column":122},"end":{"line":229,"column":123}},"loc":{"start":{"line":229,"column":141},"end":{"line":233,"column":7}},"line":229}},"branchMap":{"0":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":92}},"type":"cond-expr","locations":[{"start":{"line":17,"column":70},"end":{"line":17,"column":73}},{"start":{"line":17,"column":76},"end":{"line":17,"column":92}}],"line":17},"1":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":67}},"type":"binary-expr","locations":[{"start":{"line":17,"column":46},"end":{"line":17,"column":49}},{"start":{"line":17,"column":53},"end":{"line":17,"column":67}}],"line":17},"2":{"loc":{"start":{"line":78,"column":8},"end":{"line":78,"column":34}},"type":"if","locations":[{"start":{"line":78,"column":8},"end":{"line":78,"column":34}},{"start":{"line":78,"column":8},"end":{"line":78,"column":34}}],"line":78}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":5,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":0,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1},"f":{"0":5,"1":1,"2":1,"3":1,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1},"b":{"0":[1,4],"1":[5,5],"2":[0,1]},"inputSourceMap":{"version":3,"sources":["post_test.js"],"names":["require","config","user","autToken","id","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","logInUser","Token","userToken","Post","title","content","save","set","get","message","eq","postId","responseponse","patch","after","delete"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport sinon from 'sinon'\nimport { User } from '../models/User';\n\nlet user, autToken, id;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Post Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });   \n    \n    \n    /**\n     * POST a post route\n     */\n\ndescribe(\"POST /api/posts\", ()=>{\n    before(()=>{\n        mongoose.connection.dropCollection('users')\n        mongoose.connection.dropCollection('posts')\n    })\n   \n    \n\n    // create user and login \n    it('creates new user ', (done)=>{\n\n        const newUser = new User({\n            username:\"menase\",\n            email:\"menase@mail.com\",\n            password:\"password test\"\n       \n        })\n\n        chai.request(server)\n        .post(\"/api/users\")\n        .send(newUser)\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"user created!\");\n        done();   \n        })\n    })\n\n\n    // login\n    const logInUser = {\n        username:'menase',\n        password:'password test'\n    }\n\n    it('login a user', (done)=>{\n        chai.request(server)\n        .post('/api/users/login')\n        .send({username:logInUser.username, password:logInUser.password})\n        .end(function(err, response) {\n            if (err) return done(err);\n\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            autToken = response.body.Token\n            \n            done();\n        });\n\n    })\n\n    it(\"creates a new post\", (done)=>{\n        const userToken = 'Bearer ' + autToken\n        \n        const post = new Post({\n            title: \"unit testing\",\n            content: \"I am testing nodejs api using mocha with chai assertion library\"\n            \n        })\n        post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n    \n        //set the auth header with our token\n        .set('Authorization', 'Bearer ' + autToken)\n        .send(post)\n        .end(function(error, response) {\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post Saved successfully\");\n\n            id= post.id\n        done();  \n        });\n    })\n        \n\n    const userToken = 'Bearer ' + autToken\n\n    it(\"fails to create a post due to unathorized user\", (done)=>{\n\n        const post = new Post({\n            title: \"keza testing \",\n            content: \"unit testing with mocha and user keza\"\n            \n        })\n        // post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n        .send(post)\n        //set the auth header with our token\n        .set('Authorization', userToken)\n        .end(function(error, response) {\n            response.should.have.status(403);\n            response.body.should.have.property('message').eql(\"Invalid token\");\n        done();  \n        });\n       \n        \n    }) \n\n    it(\"do not create a post without title and content\", (done)=>{\n\n        const post = new Post({\n            title: \"\",\n            content: \"\"\n            \n        })\n        // post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n    \n        //set the auth header with our token\n        .set('Authorization', 'Bearer ' + autToken)\n        .send(post)\n        .end(function(error, response) {\n            response.should.have.status(400);\n            response.body.should.have.property('message').eql(\"Title and content are required\")\n        done();  \n        });\n    })\n\n        \n}) \n    \n    \n    /**\n     * test GET posts route\n     */\n\n  describe(\"GET /api/posts\", ()=>{\n        \n    it(\"returns all posts\", (done)=>{\n        chai.request(server)\n        .get(\"/api/posts\")\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.message.should.be.eq(\"Fetched successfully\")\n        done();\n        })\n        \n    })\n\n    it(\"not returns all posts\", (done)=>{\n        chai.request(server)\n        .get(\"/api/post\")\n        .end((err, response)=>{\n            response.should.have.status(404);\n\n        done();\n        })\n        \n    })\n\n    \n});\n\n/**\n * test GET(by id) post route\n */\n\ndescribe(\"GET /api/posts/:id\", ()=>{\n    \n    it(\"returns a single post\", (done)=>{\n        const postId = id;\n        chai.request(server)\n        .get(`/api/posts/${postId}`)\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            response.body.message.should.be.eq(\"successfully fetched\")\n            \n        done();\n        })\n        \n    });\n\n    \n    it(\"not returns a single post at this id\", (done)=>{\n        const postId = 1234;\n        chai.request(server)\n        .get(`/api/posts/${postId}`)\n        .end((err, responseponse)=>{\n            responseponse.should.have.status(404);\n            responseponse.body.error.should.be.eq(\"Post does not exist!\")\n            \n        done();\n        })\n        \n    })\n})\n\n\n\n    /**\n     * PUT a post route\n     */\n\n describe('PUT /api/posts/:id', ()=>{\n    it('updates a post', (done)=>{\n        \n        const postId = id\n        const post = {\n            title: \"unit testing\",\n            content: \"mocha Js framework for testing\",\n            \n        }\n        chai.request(server)\n        .patch(`/api/posts/${postId}`)\n        .send(post)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post successfully updated!\")\n            \n        done();\n        })\n    })\n\n    it('don\\'t updates a post when title or content is empty', (done)=>{\n        \n        const postId = id\n        const post = {\n            title: \"avicii\",\n            content: \"\",\n            \n        }\n        chai.request(server)\n        .patch(`/api/posts/${postId}`)\n        .send(post)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(400);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Title and content need value!\")\n            \n        done();\n        })\n    })\n\n\n})\n\n    /**\n     * DELETE post route\n     */\n\n  describe('DELETE /api/posts/:id', ()=>{\n      after(()=>{\n        mongoose.connection.dropCollection('users') \n        mongoose.connection.dropCollection('posts')\n      })\n    \n\n    it('It deletes a post', (done)=>{\n        const postId = id;\n        chai.request(server)\n        .delete(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n\n        done();\n        })\n    })\n\n    it('It should not delete post that doesn\\'t exist in DB', (done)=>{\n        const postId = id;\n        chai.request(server)\n        .delete(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(404);\n            response.body.should.have.property('error').eql(\"Post doesn't exist!\")\n        done();\n        })\n    })\n\n    \n\n})\n\n})"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"850f28e225f32975189c634ddcd383df60a4d1db","contentHash":"47c7e3bf6f56cfc8e6cc2c5c7919bf37b7f651362c5bb0d30777890717a40dd6"},"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/user_test.js":{"path":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/user_test.js","statementMap":{"0":{"start":{"line":3,"column":16},"end":{"line":3,"column":59}},"1":{"start":{"line":5,"column":12},"end":{"line":5,"column":51}},"2":{"start":{"line":7,"column":13},"end":{"line":7,"column":56}},"3":{"start":{"line":9,"column":16},"end":{"line":9,"column":60}},"4":{"start":{"line":11,"column":12},"end":{"line":11,"column":37}},"5":{"start":{"line":13,"column":13},"end":{"line":13,"column":53}},"6":{"start":{"line":15,"column":12},"end":{"line":15,"column":37}},"7":{"start":{"line":17,"column":39},"end":{"line":17,"column":93}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":27}},"9":{"start":{"line":24,"column":0},"end":{"line":24,"column":23}},"10":{"start":{"line":26,"column":0},"end":{"line":26,"column":37}},"11":{"start":{"line":28,"column":0},"end":{"line":152,"column":3}},"12":{"start":{"line":29,"column":2},"end":{"line":42,"column":5}},"13":{"start":{"line":31,"column":18},"end":{"line":31,"column":161}},"14":{"start":{"line":33,"column":4},"end":{"line":41,"column":7}},"15":{"start":{"line":37,"column":6},"end":{"line":37,"column":35}},"16":{"start":{"line":38,"column":6},"end":{"line":38,"column":13}},"17":{"start":{"line":40,"column":6},"end":{"line":40,"column":25}},"18":{"start":{"line":47,"column":2},"end":{"line":93,"column":5}},"19":{"start":{"line":48,"column":4},"end":{"line":50,"column":7}},"20":{"start":{"line":49,"column":6},"end":{"line":49,"column":59}},"21":{"start":{"line":51,"column":4},"end":{"line":64,"column":7}},"22":{"start":{"line":52,"column":22},"end":{"line":56,"column":8}},"23":{"start":{"line":58,"column":6},"end":{"line":63,"column":9}},"24":{"start":{"line":59,"column":8},"end":{"line":59,"column":41}},"25":{"start":{"line":60,"column":8},"end":{"line":60,"column":44}},"26":{"start":{"line":61,"column":8},"end":{"line":61,"column":75}},"27":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"28":{"start":{"line":65,"column":4},"end":{"line":78,"column":7}},"29":{"start":{"line":66,"column":6},"end":{"line":70,"column":9}},"30":{"start":{"line":72,"column":6},"end":{"line":77,"column":9}},"31":{"start":{"line":73,"column":8},"end":{"line":73,"column":41}},"32":{"start":{"line":74,"column":8},"end":{"line":74,"column":44}},"33":{"start":{"line":75,"column":8},"end":{"line":75,"column":81}},"34":{"start":{"line":76,"column":8},"end":{"line":76,"column":15}},"35":{"start":{"line":79,"column":4},"end":{"line":92,"column":7}},"36":{"start":{"line":80,"column":19},"end":{"line":84,"column":8}},"37":{"start":{"line":86,"column":6},"end":{"line":91,"column":9}},"38":{"start":{"line":87,"column":8},"end":{"line":87,"column":41}},"39":{"start":{"line":88,"column":8},"end":{"line":88,"column":44}},"40":{"start":{"line":89,"column":8},"end":{"line":89,"column":85}},"41":{"start":{"line":90,"column":8},"end":{"line":90,"column":15}},"42":{"start":{"line":98,"column":2},"end":{"line":151,"column":5}},"43":{"start":{"line":99,"column":4},"end":{"line":101,"column":7}},"44":{"start":{"line":100,"column":6},"end":{"line":100,"column":59}},"45":{"start":{"line":102,"column":22},"end":{"line":105,"column":5}},"46":{"start":{"line":106,"column":4},"end":{"line":117,"column":7}},"47":{"start":{"line":107,"column":6},"end":{"line":116,"column":9}},"48":{"start":{"line":111,"column":8},"end":{"line":111,"column":34}},"49":{"start":{"line":111,"column":17},"end":{"line":111,"column":34}},"50":{"start":{"line":112,"column":8},"end":{"line":112,"column":41}},"51":{"start":{"line":113,"column":8},"end":{"line":113,"column":44}},"52":{"start":{"line":114,"column":8},"end":{"line":114,"column":39}},"53":{"start":{"line":115,"column":8},"end":{"line":115,"column":15}},"54":{"start":{"line":118,"column":4},"end":{"line":134,"column":7}},"55":{"start":{"line":119,"column":24},"end":{"line":122,"column":7}},"56":{"start":{"line":124,"column":6},"end":{"line":133,"column":9}},"57":{"start":{"line":128,"column":8},"end":{"line":128,"column":34}},"58":{"start":{"line":128,"column":17},"end":{"line":128,"column":34}},"59":{"start":{"line":129,"column":8},"end":{"line":129,"column":41}},"60":{"start":{"line":130,"column":8},"end":{"line":130,"column":44}},"61":{"start":{"line":131,"column":8},"end":{"line":131,"column":91}},"62":{"start":{"line":132,"column":8},"end":{"line":132,"column":15}},"63":{"start":{"line":135,"column":4},"end":{"line":150,"column":7}},"64":{"start":{"line":136,"column":24},"end":{"line":139,"column":7}},"65":{"start":{"line":141,"column":6},"end":{"line":149,"column":9}},"66":{"start":{"line":145,"column":8},"end":{"line":145,"column":34}},"67":{"start":{"line":145,"column":17},"end":{"line":145,"column":34}},"68":{"start":{"line":146,"column":8},"end":{"line":146,"column":41}},"69":{"start":{"line":147,"column":8},"end":{"line":147,"column":71}},"70":{"start":{"line":148,"column":8},"end":{"line":148,"column":15}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":17,"column":9},"end":{"line":17,"column":31}},"loc":{"start":{"line":17,"column":37},"end":{"line":17,"column":95}},"line":17},"1":{"name":"(anonymous_1)","decl":{"start":{"line":28,"column":36},"end":{"line":28,"column":37}},"loc":{"start":{"line":28,"column":42},"end":{"line":152,"column":1}},"line":28},"2":{"name":"(anonymous_2)","decl":{"start":{"line":29,"column":9},"end":{"line":29,"column":10}},"loc":{"start":{"line":29,"column":25},"end":{"line":42,"column":3}},"line":29},"3":{"name":"(anonymous_3)","decl":{"start":{"line":36,"column":12},"end":{"line":36,"column":13}},"loc":{"start":{"line":36,"column":27},"end":{"line":39,"column":5}},"line":36},"4":{"name":"(anonymous_4)","decl":{"start":{"line":39,"column":13},"end":{"line":39,"column":14}},"loc":{"start":{"line":39,"column":22},"end":{"line":41,"column":5}},"line":39},"5":{"name":"(anonymous_5)","decl":{"start":{"line":47,"column":30},"end":{"line":47,"column":31}},"loc":{"start":{"line":47,"column":36},"end":{"line":93,"column":3}},"line":47},"6":{"name":"(anonymous_6)","decl":{"start":{"line":48,"column":11},"end":{"line":48,"column":12}},"loc":{"start":{"line":48,"column":17},"end":{"line":50,"column":5}},"line":48},"7":{"name":"(anonymous_7)","decl":{"start":{"line":51,"column":28},"end":{"line":51,"column":29}},"loc":{"start":{"line":51,"column":36},"end":{"line":64,"column":5}},"line":51},"8":{"name":"(anonymous_8)","decl":{"start":{"line":58,"column":81},"end":{"line":58,"column":82}},"loc":{"start":{"line":58,"column":100},"end":{"line":63,"column":7}},"line":58},"9":{"name":"(anonymous_9)","decl":{"start":{"line":65,"column":22},"end":{"line":65,"column":23}},"loc":{"start":{"line":65,"column":30},"end":{"line":78,"column":5}},"line":65},"10":{"name":"(anonymous_10)","decl":{"start":{"line":72,"column":78},"end":{"line":72,"column":79}},"loc":{"start":{"line":72,"column":97},"end":{"line":77,"column":7}},"line":72},"11":{"name":"(anonymous_11)","decl":{"start":{"line":79,"column":59},"end":{"line":79,"column":60}},"loc":{"start":{"line":79,"column":67},"end":{"line":92,"column":5}},"line":79},"12":{"name":"(anonymous_12)","decl":{"start":{"line":86,"column":78},"end":{"line":86,"column":79}},"loc":{"start":{"line":86,"column":97},"end":{"line":91,"column":7}},"line":86},"13":{"name":"(anonymous_13)","decl":{"start":{"line":98,"column":36},"end":{"line":98,"column":37}},"loc":{"start":{"line":98,"column":42},"end":{"line":151,"column":3}},"line":98},"14":{"name":"(anonymous_14)","decl":{"start":{"line":99,"column":10},"end":{"line":99,"column":11}},"loc":{"start":{"line":99,"column":16},"end":{"line":101,"column":5}},"line":99},"15":{"name":"(anonymous_15)","decl":{"start":{"line":106,"column":23},"end":{"line":106,"column":24}},"loc":{"start":{"line":106,"column":31},"end":{"line":117,"column":5}},"line":106},"16":{"name":"(anonymous_16)","decl":{"start":{"line":110,"column":13},"end":{"line":110,"column":14}},"loc":{"start":{"line":110,"column":38},"end":{"line":116,"column":7}},"line":110},"17":{"name":"(anonymous_17)","decl":{"start":{"line":118,"column":54},"end":{"line":118,"column":55}},"loc":{"start":{"line":118,"column":62},"end":{"line":134,"column":5}},"line":118},"18":{"name":"(anonymous_18)","decl":{"start":{"line":127,"column":13},"end":{"line":127,"column":14}},"loc":{"start":{"line":127,"column":38},"end":{"line":133,"column":7}},"line":127},"19":{"name":"(anonymous_19)","decl":{"start":{"line":135,"column":35},"end":{"line":135,"column":36}},"loc":{"start":{"line":135,"column":43},"end":{"line":150,"column":5}},"line":135},"20":{"name":"(anonymous_20)","decl":{"start":{"line":144,"column":13},"end":{"line":144,"column":14}},"loc":{"start":{"line":144,"column":38},"end":{"line":149,"column":7}},"line":144}},"branchMap":{"0":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":92}},"type":"cond-expr","locations":[{"start":{"line":17,"column":70},"end":{"line":17,"column":73}},{"start":{"line":17,"column":76},"end":{"line":17,"column":92}}],"line":17},"1":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":67}},"type":"binary-expr","locations":[{"start":{"line":17,"column":46},"end":{"line":17,"column":49}},{"start":{"line":17,"column":53},"end":{"line":17,"column":67}}],"line":17},"2":{"loc":{"start":{"line":111,"column":8},"end":{"line":111,"column":34}},"type":"if","locations":[{"start":{"line":111,"column":8},"end":{"line":111,"column":34}},{"start":{"line":111,"column":8},"end":{"line":111,"column":34}}],"line":111},"3":{"loc":{"start":{"line":128,"column":8},"end":{"line":128,"column":34}},"type":"if","locations":[{"start":{"line":128,"column":8},"end":{"line":128,"column":34}},{"start":{"line":128,"column":8},"end":{"line":128,"column":34}}],"line":128},"4":{"loc":{"start":{"line":145,"column":8},"end":{"line":145,"column":34}},"type":"if","locations":[{"start":{"line":145,"column":8},"end":{"line":145,"column":34}},{"start":{"line":145,"column":8},"end":{"line":145,"column":34}}],"line":145}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":5,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":0,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":0,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":0,"68":1,"69":1,"70":1},"f":{"0":5,"1":1,"2":1,"3":1,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"b":{"0":[1,4],"1":[5,5],"2":[0,1],"3":[0,1],"4":[0,1]},"inputSourceMap":{"version":3,"sources":["user_test.js"],"names":["require","config","user","autToken","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","after","logInUser","Token"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AAKA;;AACA;;;;AALAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB,G,CAGA;;;AAIA,IAAIC,IAAJ,EAAUC,QAAV,C,CAEA;;AACAC,cAAKC,MAAL;;AAEAD,cAAKE,GAAL,CAASC,iBAAT;;AAGAC,QAAQ,CAAC,yBAAD,EAA4B,MAAI;AACpCC,EAAAA,MAAM,CAAC,UAASC,IAAT,EAAe;AAClB;AACJ,UAAMC,KAAK,GAAG,iBAAgBC,OAAO,CAACC,GAAR,CAAYC,OAAQ,IAAGF,OAAO,CAACC,GAAR,CAAYE,WAAY,gFAA7E;;AACAC,sBAASC,OAAT,CAAiBN,KAAjB,EAAuB;AAACO,MAAAA,eAAe,EAAC,IAAjB;AAAuBC,MAAAA,kBAAkB,EAAC;AAA1C,KAAvB,EAAwEC,IAAxE,CAA8EC,WAAD,IAAe;AAEpFC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AAGAb,MAAAA,IAAI;AAEP,KAPL,EAOOc,KAPP,CAOcC,KAAD,IAAS;AACdH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,KATL;AAaC,GAhBK,CAAN;AAoBA;AACJ;AACA;;AAEKjB,EAAAA,QAAQ,CAAC,iBAAD,EAAoB,MAAI;AAC7BC,IAAAA,MAAM,CAAC,MAAI;AACPO,wBAASU,UAAT,CAAoBC,cAApB,CAAmC,OAAnC;AACH,KAFK,CAAN;AAIAC,IAAAA,EAAE,CAAC,mBAAD,EAAuBlB,IAAD,IAAQ;AAE5B,YAAMmB,OAAO,GAAG,IAAIC,UAAJ,CAAS;AACrBC,QAAAA,QAAQ,EAAC,QADY;AAErBC,QAAAA,KAAK,EAAC,iBAFe;AAGrBC,QAAAA,QAAQ,EAAC;AAHY,OAAT,CAAhB;;AAOA7B,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,YADN,EAECC,IAFD,CAEMR,OAFN,EAGCS,GAHD,CAGK,CAACC,GAAD,EAAMC,QAAN,KAAiB;AAClBA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACAL,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,eAAlD;AACJrC,QAAAA,IAAI;AACH,OARD;AASH,KAlBC,CAAF;AAqBAkB,IAAAA,EAAE,CAAC,aAAD,EAAiBlB,IAAD,IAAQ;AAEtBR,MAAAA,IAAI,GAAG,IAAI4B,UAAJ,CAAS;AACZC,QAAAA,QAAQ,EAAC,QADG;AAEZC,QAAAA,KAAK,EAAC,iBAFM;AAGZC,QAAAA,QAAQ,EAAC;AAHG,OAAT,CAAP;;AAOA7B,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,YADN,EAECC,IAFD,CAEMnC,IAFN,EAGCoC,GAHD,CAGK,CAACC,GAAD,EAAMC,QAAN,KAAiB;AAClBA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACAL,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,qBAAlD;AACJrC,QAAAA,IAAI;AACH,OARD;AAUH,KAnBC,CAAF;AAqBAkB,IAAAA,EAAE,CAAC,kDAAD,EAAsDlB,IAAD,IAAQ;AAE3D,YAAMR,IAAI,GAAG,IAAI4B,UAAJ,CAAS;AAClBC,QAAAA,QAAQ,EAAC,EADS;AAElBC,QAAAA,KAAK,EAAC,EAFY;AAGlBC,QAAAA,QAAQ,EAAC;AAHS,OAAT,CAAb;;AAOA7B,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,YADN,EAECC,IAFD,CAEMnC,IAFN,EAGCoC,GAHD,CAGK,CAACC,GAAD,EAAMC,QAAN,KAAiB;AAClBA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACAL,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,yBAAlD;AACJrC,QAAAA,IAAI;AACH,OARD;AASH,KAlBC,CAAF;AAoBH,GAnEQ,CAAR;AAqED;AACJ;AACA;;AAEKF,EAAAA,QAAQ,CAAC,uBAAD,EAA0B,MAAI;AAClCwC,IAAAA,KAAK,CAAC,MAAI;AACNhC,wBAASU,UAAT,CAAoBC,cAApB,CAAmC,OAAnC;AACH,KAFI,CAAL;AAID,UAAMsB,SAAS,GAAG;AACdlB,MAAAA,QAAQ,EAAC,QADK;AAEdE,MAAAA,QAAQ,EAAC;AAFK,KAAlB;AAKAL,IAAAA,EAAE,CAAC,cAAD,EAAkBlB,IAAD,IAAQ;AACvBN,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,kBADN,EAECC,IAFD,CAEM;AAACN,QAAAA,QAAQ,EAACkB,SAAS,CAAClB,QAApB;AAA8BE,QAAAA,QAAQ,EAACgB,SAAS,CAAChB;AAAjD,OAFN,EAGCK,GAHD,CAGK,UAASC,GAAT,EAAcC,QAAd,EAAwB;AACzB,YAAID,GAAJ,EAAS,OAAO7B,IAAI,CAAC6B,GAAD,CAAX;AAETC,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACA1C,QAAAA,QAAQ,GAAGqC,QAAQ,CAACG,IAAT,CAAcO,KAAzB;AAEAxC,QAAAA,IAAI;AACP,OAXD;AAaH,KAdC,CAAF;AAgBAkB,IAAAA,EAAE,CAAC,6CAAD,EAAiDlB,IAAD,IAAQ;AACtD,YAAMuC,SAAS,GAAG;AACdlB,QAAAA,QAAQ,EAAC,QADK;AAEdE,QAAAA,QAAQ,EAAC;AAFK,OAAlB;;AAIA7B,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,kBADN,EAECC,IAFD,CAEM;AAACN,QAAAA,QAAQ,EAACkB,SAAS,CAAClB,QAApB;AAA8BE,QAAAA,QAAQ,EAACgB,SAAS,CAAChB;AAAjD,OAFN,EAGCK,GAHD,CAGK,UAASC,GAAT,EAAcC,QAAd,EAAwB;AACzB,YAAID,GAAJ,EAAS,OAAO7B,IAAI,CAAC6B,GAAD,CAAX;AAETC,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACAL,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,+BAAlD;AACJrC,QAAAA,IAAI;AACH,OAVD;AAYH,KAjBC,CAAF;AAmBAkB,IAAAA,EAAE,CAAC,0BAAD,EAA8BlB,IAAD,IAAQ;AACnC,YAAMuC,SAAS,GAAG;AACdlB,QAAAA,QAAQ,EAAC,WADK;AAEdE,QAAAA,QAAQ,EAAC;AAFK,OAAlB;;AAIA7B,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,kBADN,EAECC,IAFD,CAEM;AAACN,QAAAA,QAAQ,EAACkB,SAAS,CAAClB,QAApB;AAA8BE,QAAAA,QAAQ,EAACgB,SAAS,CAAChB;AAAjD,OAFN,EAGCK,GAHD,CAGK,UAASC,GAAT,EAAcC,QAAd,EAAwB;AACzB,YAAID,GAAJ,EAAS,OAAO7B,IAAI,CAAC6B,GAAD,CAAX;AAETC,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,WAAlD;AACJrC,QAAAA,IAAI;AACH,OATD;AAWH,KAhBC,CAAF;AAoBH,GAjEQ,CAAR;AAmEJ,CArKO,CAAR","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport sinon from 'sinon'\nimport { User } from '../models/User';\n\nlet user, autToken;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for User Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n            \n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n    \n     \n\n    });\n    \n    \n\n    /**\n     * Test create new user\n     */\n\n     describe('POST /api/users', ()=>{\n        before(()=>{\n            mongoose.connection.dropCollection(\"users\");\n        })\n\n        it('creates new user ', (done)=>{\n\n            const newUser = new User({\n                username:\"menase\",\n                email:\"menase@mail.com\",\n                password:\"password test\"\n           \n            })\n\n            chai.request(server)\n            .post(\"/api/users\")\n            .send(newUser)\n            .end((err, response)=>{\n                response.should.have.status(201);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"user created!\");\n            done();   \n            })\n        })\n\n\n        it('User exists', (done)=>{\n\n            user = new User({\n                username:\"menase\",\n                email:\"menase@mail.com\",\n                password:\"password test\"\n           \n            })\n\n            chai.request(server)\n            .post(\"/api/users\")\n            .send(user)\n            .end((err, response)=>{\n                response.should.have.status(403);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"user already exists\");\n            done();   \n            })\n\n        })\n\n        it('No new user without username, email or password ', (done)=>{\n\n            const user = new User({\n                username:\"\",\n                email:\"\",\n                password:\"\"\n           \n            })\n\n            chai.request(server)\n            .post(\"/api/users\")\n            .send(user)\n            .end((err, response)=>{\n                response.should.have.status(403);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"All fields are required\");\n            done();   \n            })\n        })\n\n    })\n\n    /**\n     * POST User login\n     */\n\n     describe('POST /api/users/login', ()=>{\n         after(()=>{\n             mongoose.connection.dropCollection('users')\n         })\n       \n        const logInUser = {\n            username:'menase',\n            password:'password test'\n        }\n\n        it('login a user', (done)=>{\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(200);\n                response.body.should.be.a('object');\n                autToken = response.body.Token\n                \n                done();\n            });\n\n        })\n\n        it('not login a user with incorrect credentials', (done)=>{\n            const logInUser = {\n                username:'menase',\n                password:'password'\n            }\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(403);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"Invalid username or password.\");\n            done();   \n            });\n\n        })\n\n        it('not login anonymous user', (done)=>{\n            const logInUser = {\n                username:'hereweare',\n                password:'hereweare'\n            }\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(400);\n                response.body.should.have.property('message').eql(\"Not User.\");\n            done();   \n            });\n\n        })\n\n\n       \n    })\n\n})    "]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6379e0c5ef9374a97435b79ae042b361b257dbe9","contentHash":"2fb790b722c090b7fe6b94e564c386c50b8f567b7b105986780dcf5fdd431bec"}}