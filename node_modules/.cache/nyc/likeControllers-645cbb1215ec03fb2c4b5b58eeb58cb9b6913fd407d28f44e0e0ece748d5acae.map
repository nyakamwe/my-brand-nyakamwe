{"version":3,"sources":["likeControllers.js"],"names":["post_like","req","res","id","body","postId","Post","findByIdAndUpdate","$push","likes","userId","user","new","exec","err","result","status","json","message","post_unlike","params","$pull"],"mappings":";;;;;;;AAAA;;AAGA;AACA,MAAMA,SAAS,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAkB;AACnC,QAAMC,EAAE,GAAGF,GAAG,CAACG,IAAJ,CAASC,MAApB;;AAEAC,aAAKC,iBAAL,CAAuBJ,EAAvB,EAA0B;AACzBK,IAAAA,KAAK,EAAC;AAACC,MAAAA,KAAK,EAAC;AAACJ,QAAAA,MAAM,EAACF,EAAR;AAAYO,QAAAA,MAAM,EAACT,GAAG,CAACU,IAAJ,CAASR;AAA5B;AAAP;AADmB,GAA1B,EACgD;AAC9CS,IAAAA,GAAG,EAAC;AAD0C,GADhD,EAGIC,IAHJ,CAGS,CAACC,GAAD,EAAMC,MAAN,KAAe;AACtB,QAAGD,GAAH,EAAO;AACN,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACH,QAAAA,GAAG,EAACA;AAAL,OAArB,CAAP;AACA,KAFD,MAGI;AACH,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AACA;AACD,GAVF;AAWA,CAdD,C,CAgBA;;;;;AACA,MAAMC,WAAW,GAAG,CAAClB,GAAD,EAAMC,GAAN,KAAY;AAC/B,QAAMC,EAAE,GAAGF,GAAG,CAACmB,MAAJ,CAAWjB,EAAtB;;AACAG,aAAKC,iBAAL,CAAuBJ,EAAvB,EAA0B;AACzBkB,IAAAA,KAAK,EAAC;AAACZ,MAAAA,KAAK,EAAC;AAACJ,QAAAA,MAAM,EAACF,EAAR;AAAYO,QAAAA,MAAM,EAACT,GAAG,CAACU,IAAJ,CAASR;AAA5B;AAAP;AADmB,GAA1B,EACgD;AAC9CS,IAAAA,GAAG,EAAC;AAD0C,GADhD,EAGIC,IAHJ,CAGS,CAACC,GAAD,EAAMC,MAAN,KAAe;AACtB,QAAGD,GAAH,EAAO;AACN,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACH,QAAAA,GAAG,EAACA;AAAL,OAArB,CAAP;AACA,KAFD,MAGI;AACH,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AACA;AACD,GAVF;AAWA,CAbD","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import { Post } from \"../models/Post\"\n\n\n// like a post\nconst post_like = async (req, res)=>{\n\tconst id = req.body.postId\n\n\tPost.findByIdAndUpdate(id,{\n\t\t$push:{likes:{postId:id, userId:req.user.id}}},{\n\t\t\tnew:true\n\t\t}).exec((err, result)=>{\n\t\t\tif(err){\n\t\t\t\treturn res.status(422).json({err:err})\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn res.status(200).json({message:\"post liked!\"})\n\t\t\t}\n\t\t})\n}\n\n//unlike a post\nconst post_unlike = (req, res)=>{\n\tconst id = req.params.id\n\tPost.findByIdAndUpdate(id,{\n\t\t$pull:{likes:{postId:id, userId:req.user.id}}},{\n\t\t\tnew:true\n\t\t}).exec((err, result)=>{\n\t\t\tif(err){\n\t\t\t\treturn res.status(422).json({err:err})\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn res.status(200).json({message:\"unliked post!\"})\n\t\t\t}\n\t\t})\n}\n\n\nexport {post_like, post_unlike,}\n"]}