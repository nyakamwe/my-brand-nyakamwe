"use strict";function cov_60r43bd9t(){var path="/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/commentControllers.js";var hash="2e35d8e543a1f60cbb5052563092a62be805202b";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/commentControllers.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:106}},"2":{start:{line:8,column:12},end:{line:8,column:37}},"3":{start:{line:11,column:20},end:{line:31,column:1}},"4":{start:{line:12,column:13},end:{line:12,column:26}},"5":{start:{line:13,column:15},end:{line:13,column:44}},"6":{start:{line:15,column:2},end:{line:30,column:3}},"7":{start:{line:17,column:23},end:{line:20,column:6}},"8":{start:{line:21,column:4},end:{line:21,column:35}},"9":{start:{line:22,column:4},end:{line:22,column:22}},"10":{start:{line:23,column:4},end:{line:25,column:7}},"11":{start:{line:27,column:4},end:{line:29,column:7}},"12":{start:{line:34,column:0},end:{line:34,column:34}},"13":{start:{line:36,column:24},end:{line:61,column:1}},"14":{start:{line:37,column:2},end:{line:60,column:3}},"15":{start:{line:38,column:19},end:{line:38,column:32}},"16":{start:{line:39,column:17},end:{line:39,column:50}},"17":{start:{line:40,column:4},end:{line:42,column:7}},"18":{start:{line:40,column:22},end:{line:42,column:7}},"19":{start:{line:43,column:21},end:{line:45,column:6}},"20":{start:{line:47,column:4},end:{line:55,column:5}},"21":{start:{line:48,column:6},end:{line:50,column:9}},"22":{start:{line:52,column:6},end:{line:54,column:9}},"23":{start:{line:57,column:4},end:{line:59,column:7}},"24":{start:{line:64,column:0},end:{line:64,column:42}},"25":{start:{line:66,column:24},end:{line:85,column:1}},"26":{start:{line:67,column:2},end:{line:84,column:3}},"27":{start:{line:68,column:22},end:{line:68,column:35}},"28":{start:{line:69,column:20},end:{line:69,column:59}},"29":{start:{line:71,column:4},end:{line:75,column:5}},"30":{start:{line:72,column:6},end:{line:74,column:9}},"31":{start:{line:77,column:4},end:{line:79,column:7}},"32":{start:{line:81,column:4},end:{line:83,column:7}},"33":{start:{line:88,column:0},end:{line:88,column:42}},"34":{start:{line:90,column:23},end:{line:111,column:1}},"35":{start:{line:91,column:2},end:{line:110,column:3}},"36":{start:{line:92,column:22},end:{line:92,column:35}},"37":{start:{line:93,column:20},end:{line:93,column:59}},"38":{start:{line:95,column:4},end:{line:101,column:5}},"39":{start:{line:97,column:6},end:{line:97,column:45}},"40":{start:{line:98,column:6},end:{line:100,column:9}},"41":{start:{line:103,column:4},end:{line:105,column:7}},"42":{start:{line:107,column:4},end:{line:109,column:7}},"43":{start:{line:113,column:0},end:{line:113,column:40}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:11,column:20},end:{line:11,column:21}},loc:{start:{line:11,column:40},end:{line:31,column:1}},line:11},"1":{name:"(anonymous_1)",decl:{start:{line:36,column:24},end:{line:36,column:25}},loc:{start:{line:36,column:44},end:{line:61,column:1}},line:36},"2":{name:"(anonymous_2)",decl:{start:{line:66,column:24},end:{line:66,column:25}},loc:{start:{line:66,column:44},end:{line:85,column:1}},line:66},"3":{name:"(anonymous_3)",decl:{start:{line:90,column:23},end:{line:90,column:24}},loc:{start:{line:90,column:43},end:{line:111,column:1}},line:90}},branchMap:{"0":{loc:{start:{line:15,column:2},end:{line:30,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:30,column:3}},{start:{line:15,column:2},end:{line:30,column:3}}],line:15},"1":{loc:{start:{line:40,column:4},end:{line:42,column:7}},type:"if",locations:[{start:{line:40,column:4},end:{line:42,column:7}},{start:{line:40,column:4},end:{line:42,column:7}}],line:40},"2":{loc:{start:{line:47,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:55,column:5}},{start:{line:47,column:4},end:{line:55,column:5}}],line:47},"3":{loc:{start:{line:71,column:4},end:{line:75,column:5}},type:"if",locations:[{start:{line:71,column:4},end:{line:75,column:5}},{start:{line:71,column:4},end:{line:75,column:5}}],line:71},"4":{loc:{start:{line:95,column:4},end:{line:101,column:5}},type:"if",locations:[{start:{line:95,column:4},end:{line:101,column:5}},{start:{line:95,column:4},end:{line:101,column:5}}],line:95}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},inputSourceMap:{version:3,sources:["commentControllers.js"],names:["comment_one","req","res","id","params","post","Post","findById","newComment","Comment","create","postId","description","body","comment","comments","push","save","status","json","message","comment_get_all","find","length","error","comment_get_one","commentId","comment_delete","deleteOne"],mappings:"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",sourceRoot:"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/",sourcesContent:["import {Post,Comment} from '../models/Post'\n\n\n//comment on a post\nconst comment_one = async (req, res)=>{\n\tconst id = req.params.id;\n\tconst post = await Post.findById(id);\n\n\tif (post !== null){\n\t\t//create comment\n\t\tconst newComment = await Comment.create({\n\t\t\tpostId:id,\n\t\t\tdescription: req.body.comment\n\t\t});\n\n\t\tpost.comments.push(newComment);\n\t\tawait post.save()\n\t\treturn res.status(201).json({comment:newComment})\n\t\t\n\t}else{\n\t\treturn res.status(404).json({message:\"Post not available\"})\n\t}\n}\n\n// get all comments of a post\nconst comment_get_all = async (req, res)=>{\n\ttry {\n\t\tconst postId= req.params.id;\n\t\tconst post = await Post.findById(postId);\n\t\tif(post == null) return res.status(404).json({message:\"post not found\"});\n\t\t\n\t\tconst comments = await Comment.find({postId:postId});\n\n\t\tif(comments.length > 0){\n            \n\t\t\treturn res.status(200).json({comments});\n\t\t}else{\n\t\t\treturn res.status(404).json({comment:\"no comments related to this post\"});\n\t\t}\n\t\n\t} catch (error) {\n\t\treturn res.status(404).json({message:error.message})\n\t}\n\t\n}\n\n// get one comment\nconst comment_get_one = async (req, res)=>{\n\t\n\ttry {\n\t\tconst commentId = req.params.id;\n\t\tconst comment = await Comment.findById(commentId)\n\t\tif(comment != null ){\n\t\t\treturn res.status(200).json({comment})\n\t\t}\n\n\t\treturn res.status(404).json({comment:\"Comment Doesn't Exists\"})\n\n\t} catch (error) {\n\t\treturn res.status(404).json({comment:\"Comment Doesn't Exists\"})\n\t}\n\t\n\n}\n\n// delete a comment\nconst comment_delete = async (req, res)=>{\n\t\n\ttry {\n\t\tconst commentId = req.params.id;\n\t\tconst comment = await Comment.findById(commentId)\n\t\tif(comment != null ){\n\n\t\t\t// delete a comment\n\t\t\tawait Comment.deleteOne(comment)\n\n\t\t\treturn res.status(200).json({message:\"Comment deleted\"})\n\t\t\t\n\t\t}\n\t\t\n\t\treturn res.status(404).json({message:\"Comment doesn't exist\"})\n\t\t\n\n\t} catch (error) {\n\t\treturn res.status(500).json({comment:\"Internal server error\"})\n\t}\n\t\n\n}\n\nexport {comment_one,comment_get_all,comment_get_one,comment_delete}"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2e35d8e543a1f60cbb5052563092a62be805202b"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_60r43bd9t=function(){return actualCoverage;};}return actualCoverage;}cov_60r43bd9t();cov_60r43bd9t().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_60r43bd9t().s[1]++;exports.comment_one=exports.comment_get_one=exports.comment_get_all=exports.comment_delete=void 0;var _Post=(cov_60r43bd9t().s[2]++,require("../models/Post"));//comment on a post
cov_60r43bd9t().s[3]++;const comment_one=async(req,res)=>{cov_60r43bd9t().f[0]++;const id=(cov_60r43bd9t().s[4]++,req.params.id);const post=(cov_60r43bd9t().s[5]++,await _Post.Post.findById(id));cov_60r43bd9t().s[6]++;if(post!==null){cov_60r43bd9t().b[0][0]++;//create comment
const newComment=(cov_60r43bd9t().s[7]++,await _Post.Comment.create({postId:id,description:req.body.comment}));cov_60r43bd9t().s[8]++;post.comments.push(newComment);cov_60r43bd9t().s[9]++;await post.save();cov_60r43bd9t().s[10]++;return res.status(201).json({comment:newComment});}else{cov_60r43bd9t().b[0][1]++;cov_60r43bd9t().s[11]++;return res.status(404).json({message:"Post not available"});}};// get all comments of a post
cov_60r43bd9t().s[12]++;exports.comment_one=comment_one;cov_60r43bd9t().s[13]++;const comment_get_all=async(req,res)=>{cov_60r43bd9t().f[1]++;cov_60r43bd9t().s[14]++;try{const postId=(cov_60r43bd9t().s[15]++,req.params.id);const post=(cov_60r43bd9t().s[16]++,await _Post.Post.findById(postId));cov_60r43bd9t().s[17]++;if(post==null){cov_60r43bd9t().b[1][0]++;cov_60r43bd9t().s[18]++;return res.status(404).json({message:"post not found"});}else{cov_60r43bd9t().b[1][1]++;}const comments=(cov_60r43bd9t().s[19]++,await _Post.Comment.find({postId:postId}));cov_60r43bd9t().s[20]++;if(comments.length>0){cov_60r43bd9t().b[2][0]++;cov_60r43bd9t().s[21]++;return res.status(200).json({comments});}else{cov_60r43bd9t().b[2][1]++;cov_60r43bd9t().s[22]++;return res.status(404).json({comment:"no comments related to this post"});}}catch(error){cov_60r43bd9t().s[23]++;return res.status(404).json({message:error.message});}};// get one comment
cov_60r43bd9t().s[24]++;exports.comment_get_all=comment_get_all;cov_60r43bd9t().s[25]++;const comment_get_one=async(req,res)=>{cov_60r43bd9t().f[2]++;cov_60r43bd9t().s[26]++;try{const commentId=(cov_60r43bd9t().s[27]++,req.params.id);const comment=(cov_60r43bd9t().s[28]++,await _Post.Comment.findById(commentId));cov_60r43bd9t().s[29]++;if(comment!=null){cov_60r43bd9t().b[3][0]++;cov_60r43bd9t().s[30]++;return res.status(200).json({comment});}else{cov_60r43bd9t().b[3][1]++;}cov_60r43bd9t().s[31]++;return res.status(404).json({comment:"Comment Doesn't Exists"});}catch(error){cov_60r43bd9t().s[32]++;return res.status(404).json({comment:"Comment Doesn't Exists"});}};// delete a comment
cov_60r43bd9t().s[33]++;exports.comment_get_one=comment_get_one;cov_60r43bd9t().s[34]++;const comment_delete=async(req,res)=>{cov_60r43bd9t().f[3]++;cov_60r43bd9t().s[35]++;try{const commentId=(cov_60r43bd9t().s[36]++,req.params.id);const comment=(cov_60r43bd9t().s[37]++,await _Post.Comment.findById(commentId));cov_60r43bd9t().s[38]++;if(comment!=null){cov_60r43bd9t().b[4][0]++;cov_60r43bd9t().s[39]++;// delete a comment
await _Post.Comment.deleteOne(comment);cov_60r43bd9t().s[40]++;return res.status(200).json({message:"Comment deleted"});}else{cov_60r43bd9t().b[4][1]++;}cov_60r43bd9t().s[41]++;return res.status(404).json({message:"Comment doesn't exist"});}catch(error){cov_60r43bd9t().s[42]++;return res.status(500).json({comment:"Internal server error"});}};cov_60r43bd9t().s[43]++;exports.comment_delete=comment_delete;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJjb21tZW50X29uZSIsInJlcSIsInJlcyIsImlkIiwicGFyYW1zIiwicG9zdCIsIlBvc3QiLCJmaW5kQnlJZCIsIm5ld0NvbW1lbnQiLCJDb21tZW50IiwiY3JlYXRlIiwicG9zdElkIiwiZGVzY3JpcHRpb24iLCJib2R5IiwiY29tbWVudCIsImNvbW1lbnRzIiwicHVzaCIsInNhdmUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImNvbW1lbnRfZ2V0X2FsbCIsImZpbmQiLCJsZW5ndGgiLCJlcnJvciIsImNvbW1lbnRfZ2V0X29uZSIsImNvbW1lbnRJZCIsImNvbW1lbnRfZGVsZXRlIiwiZGVsZXRlT25lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBR0E7QUFDQSxNQUFNQSxXQUFXLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQWtCO0FBQ3JDLFFBQU1DLEVBQUUsR0FBR0YsR0FBRyxDQUFDRyxNQUFKLENBQVdELEVBQXRCO0FBQ0EsUUFBTUUsSUFBSSxHQUFHLE1BQU1DLFdBQUtDLFFBQUwsQ0FBY0osRUFBZCxDQUFuQjs7QUFFQSxNQUFJRSxJQUFJLEtBQUssSUFBYixFQUFrQjtBQUNqQjtBQUNBLFVBQU1HLFVBQVUsR0FBRyxNQUFNQyxjQUFRQyxNQUFSLENBQWU7QUFDdkNDLE1BQUFBLE1BQU0sRUFBQ1IsRUFEZ0M7QUFFdkNTLE1BQUFBLFdBQVcsRUFBRVgsR0FBRyxDQUFDWSxJQUFKLENBQVNDO0FBRmlCLEtBQWYsQ0FBekI7QUFLQVQsSUFBQUEsSUFBSSxDQUFDVSxRQUFMLENBQWNDLElBQWQsQ0FBbUJSLFVBQW5CO0FBQ0EsVUFBTUgsSUFBSSxDQUFDWSxJQUFMLEVBQU47QUFDQSxXQUFPZixHQUFHLENBQUNnQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0wsTUFBQUEsT0FBTyxFQUFDTjtBQUFULEtBQXJCLENBQVA7QUFFQSxHQVhELE1B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QUFQO0FBRUE7O0FBRUQsV0FBT2xCLEdBQUcsQ0FBQ2dCLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxPQUFPLEVBQUM7QUFBVCxLQUFyQixDQUFQO0FBR0EsR0FmRCxDQWVFLE9BQU9JLEtBQVAsRUFBYztBQUNmLFdBQU90QixHQUFHLENBQUNnQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0wsTUFBQUEsT0FBTyxFQUFDO0FBQVQsS0FBckIsQ0FBUDtBQUNBO0FBR0QsQ0F0QkQiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UG9zdCxDb21tZW50fSBmcm9tICcuLi9tb2RlbHMvUG9zdCdcblxuXG4vL2NvbW1lbnQgb24gYSBwb3N0XG5jb25zdCBjb21tZW50X29uZSA9IGFzeW5jIChyZXEsIHJlcyk9Pntcblx0Y29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xuXHRjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kQnlJZChpZCk7XG5cblx0aWYgKHBvc3QgIT09IG51bGwpe1xuXHRcdC8vY3JlYXRlIGNvbW1lbnRcblx0XHRjb25zdCBuZXdDb21tZW50ID0gYXdhaXQgQ29tbWVudC5jcmVhdGUoe1xuXHRcdFx0cG9zdElkOmlkLFxuXHRcdFx0ZGVzY3JpcHRpb246IHJlcS5ib2R5LmNvbW1lbnRcblx0XHR9KTtcblxuXHRcdHBvc3QuY29tbWVudHMucHVzaChuZXdDb21tZW50KTtcblx0XHRhd2FpdCBwb3N0LnNhdmUoKVxuXHRcdHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7Y29tbWVudDpuZXdDb21tZW50fSlcblx0XHRcblx0fWVsc2V7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOlwiUG9zdCBub3QgYXZhaWxhYmxlXCJ9KVxuXHR9XG59XG5cbi8vIGdldCBhbGwgY29tbWVudHMgb2YgYSBwb3N0XG5jb25zdCBjb21tZW50X2dldF9hbGwgPSBhc3luYyAocmVxLCByZXMpPT57XG5cdHRyeSB7XG5cdFx0Y29uc3QgcG9zdElkPSByZXEucGFyYW1zLmlkO1xuXHRcdGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRCeUlkKHBvc3RJZCk7XG5cdFx0aWYocG9zdCA9PSBudWxsKSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6XCJwb3N0IG5vdCBmb3VuZFwifSk7XG5cdFx0XG5cdFx0Y29uc3QgY29tbWVudHMgPSBhd2FpdCBDb21tZW50LmZpbmQoe3Bvc3RJZDpwb3N0SWR9KTtcblxuXHRcdGlmKGNvbW1lbnRzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe2NvbW1lbnRzfSk7XG5cdFx0fWVsc2V7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe2NvbW1lbnQ6XCJubyBjb21tZW50cyByZWxhdGVkIHRvIHRoaXMgcG9zdFwifSk7XG5cdFx0fVxuXHRcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6ZXJyb3IubWVzc2FnZX0pXG5cdH1cblx0XG59XG5cbi8vIGdldCBvbmUgY29tbWVudFxuY29uc3QgY29tbWVudF9nZXRfb25lID0gYXN5bmMgKHJlcSwgcmVzKT0+e1xuXHRcblx0dHJ5IHtcblx0XHRjb25zdCBjb21tZW50SWQgPSByZXEucGFyYW1zLmlkO1xuXHRcdGNvbnN0IGNvbW1lbnQgPSBhd2FpdCBDb21tZW50LmZpbmRCeUlkKGNvbW1lbnRJZClcblx0XHRpZihjb21tZW50ICE9IG51bGwgKXtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7Y29tbWVudH0pXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtjb21tZW50OlwiQ29tbWVudCBEb2Vzbid0IEV4aXN0c1wifSlcblxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7Y29tbWVudDpcIkNvbW1lbnQgRG9lc24ndCBFeGlzdHNcIn0pXG5cdH1cblx0XG5cbn1cblxuLy8gZGVsZXRlIGEgY29tbWVudFxuY29uc3QgY29tbWVudF9kZWxldGUgPSBhc3luYyAocmVxLCByZXMpPT57XG5cdFxuXHR0cnkge1xuXHRcdGNvbnN0IGNvbW1lbnRJZCA9IHJlcS5wYXJhbXMuaWQ7XG5cdFx0Y29uc3QgY29tbWVudCA9IGF3YWl0IENvbW1lbnQuZmluZEJ5SWQoY29tbWVudElkKVxuXHRcdGlmKGNvbW1lbnQgIT0gbnVsbCApe1xuXG5cdFx0XHQvLyBkZWxldGUgYSBjb21tZW50XG5cdFx0XHRhd2FpdCBDb21tZW50LmRlbGV0ZU9uZShjb21tZW50KVxuXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6XCJDb21tZW50IGRlbGV0ZWRcIn0pXG5cdFx0XHRcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOlwiQ29tbWVudCBkb2Vzbid0IGV4aXN0XCJ9KVxuXHRcdFxuXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtjb21tZW50OlwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCJ9KVxuXHR9XG5cdFxuXG59XG5cbmV4cG9ydCB7Y29tbWVudF9vbmUsY29tbWVudF9nZXRfYWxsLGNvbW1lbnRfZ2V0X29uZSxjb21tZW50X2RlbGV0ZX0iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixDQUFDWSxPQUFPLENBQUMsdUJBQVQsQ0FBckJaLENBQVAsQ0FDQSxDQW5CRixFIiwibmFtZXMiOlsiY29tbWVudF9vbmUiLCJyZXEiLCJyZXMiLCJpZCIsInBhcmFtcyIsInBvc3QiLCJQb3N0IiwiZmluZEJ5SWQiLCJuZXdDb21tZW50IiwiQ29tbWVudCIsImNyZWF0ZSIsInBvc3RJZCIsImRlc2NyaXB0aW9uIiwiYm9keSIsImNvbW1lbnQiLCJjb21tZW50cyIsInB1c2giLCJzYXZlIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJjb21tZW50X2dldF9hbGwiLCJmaW5kIiwibGVuZ3RoIiwiZXJyb3IiLCJjb21tZW50X2dldF9vbmUiLCJjb21tZW50SWQiLCJjb21tZW50X2RlbGV0ZSIsImRlbGV0ZU9uZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiY29tbWVudENvbnRyb2xsZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UG9zdCxDb21tZW50fSBmcm9tICcuLi9tb2RlbHMvUG9zdCdcblxuXG4vL2NvbW1lbnQgb24gYSBwb3N0XG5jb25zdCBjb21tZW50X29uZSA9IGFzeW5jIChyZXEsIHJlcyk9Pntcblx0Y29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xuXHRjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kQnlJZChpZCk7XG5cblx0aWYgKHBvc3QgIT09IG51bGwpe1xuXHRcdC8vY3JlYXRlIGNvbW1lbnRcblx0XHRjb25zdCBuZXdDb21tZW50ID0gYXdhaXQgQ29tbWVudC5jcmVhdGUoe1xuXHRcdFx0cG9zdElkOmlkLFxuXHRcdFx0ZGVzY3JpcHRpb246IHJlcS5ib2R5LmNvbW1lbnRcblx0XHR9KTtcblxuXHRcdHBvc3QuY29tbWVudHMucHVzaChuZXdDb21tZW50KTtcblx0XHRhd2FpdCBwb3N0LnNhdmUoKVxuXHRcdHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7Y29tbWVudDpuZXdDb21tZW50fSlcblx0XHRcblx0fWVsc2V7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOlwiUG9zdCBub3QgYXZhaWxhYmxlXCJ9KVxuXHR9XG59XG5cbi8vIGdldCBhbGwgY29tbWVudHMgb2YgYSBwb3N0XG5jb25zdCBjb21tZW50X2dldF9hbGwgPSBhc3luYyAocmVxLCByZXMpPT57XG5cdHRyeSB7XG5cdFx0Y29uc3QgcG9zdElkPSByZXEucGFyYW1zLmlkO1xuXHRcdGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRCeUlkKHBvc3RJZCk7XG5cdFx0aWYocG9zdCA9PSBudWxsKSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6XCJwb3N0IG5vdCBmb3VuZFwifSk7XG5cdFx0XG5cdFx0Y29uc3QgY29tbWVudHMgPSBhd2FpdCBDb21tZW50LmZpbmQoe3Bvc3RJZDpwb3N0SWR9KTtcblxuXHRcdGlmKGNvbW1lbnRzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe2NvbW1lbnRzfSk7XG5cdFx0fWVsc2V7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe2NvbW1lbnQ6XCJubyBjb21tZW50cyByZWxhdGVkIHRvIHRoaXMgcG9zdFwifSk7XG5cdFx0fVxuXHRcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6ZXJyb3IubWVzc2FnZX0pXG5cdH1cblx0XG59XG5cbi8vIGdldCBvbmUgY29tbWVudFxuY29uc3QgY29tbWVudF9nZXRfb25lID0gYXN5bmMgKHJlcSwgcmVzKT0+e1xuXHRcblx0dHJ5IHtcblx0XHRjb25zdCBjb21tZW50SWQgPSByZXEucGFyYW1zLmlkO1xuXHRcdGNvbnN0IGNvbW1lbnQgPSBhd2FpdCBDb21tZW50LmZpbmRCeUlkKGNvbW1lbnRJZClcblx0XHRpZihjb21tZW50ICE9IG51bGwgKXtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7Y29tbWVudH0pXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtjb21tZW50OlwiQ29tbWVudCBEb2Vzbid0IEV4aXN0c1wifSlcblxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7Y29tbWVudDpcIkNvbW1lbnQgRG9lc24ndCBFeGlzdHNcIn0pXG5cdH1cblx0XG5cbn1cblxuLy8gZGVsZXRlIGEgY29tbWVudFxuY29uc3QgY29tbWVudF9kZWxldGUgPSBhc3luYyAocmVxLCByZXMpPT57XG5cdFxuXHR0cnkge1xuXHRcdGNvbnN0IGNvbW1lbnRJZCA9IHJlcS5wYXJhbXMuaWQ7XG5cdFx0Y29uc3QgY29tbWVudCA9IGF3YWl0IENvbW1lbnQuZmluZEJ5SWQoY29tbWVudElkKVxuXHRcdGlmKGNvbW1lbnQgIT0gbnVsbCApe1xuXG5cdFx0XHQvLyBkZWxldGUgYSBjb21tZW50XG5cdFx0XHRhd2FpdCBDb21tZW50LmRlbGV0ZU9uZShjb21tZW50KVxuXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6XCJDb21tZW50IGRlbGV0ZWRcIn0pXG5cdFx0XHRcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOlwiQ29tbWVudCBkb2Vzbid0IGV4aXN0XCJ9KVxuXHRcdFxuXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtjb21tZW50OlwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCJ9KVxuXHR9XG5cdFxuXG59XG5cbmV4cG9ydCB7Y29tbWVudF9vbmUsY29tbWVudF9nZXRfYWxsLGNvbW1lbnRfZ2V0X29uZSxjb21tZW50X2RlbGV0ZX0iXX0=