{"version":3,"sources":["index.js"],"names":["require","config","app","port","process","env","PORT","use","express","json","routes","userroutes","contactroutes","commentroutes","likeroutes","swaggerUI","serve","setup","swaggerDoc","explorer","req","res","next","status","error","static","urlencoded","extended","dbURI","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","result","console","log","catch","listen"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAGA;;AACA;;AACA;;AACA;;AACA;;;;AAVAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAYA;AACA,MAAMC,GAAG,GAAE,uBAAX;AAEA,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC,C,CAEA;;AACAJ,GAAG,CAACK,GAAJ,CAAQC,iBAAQC,IAAR,EAAR,E,CAIA;;AACAP,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBG,mBAAhB;AACAR,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBI,mBAAhB;AACAT,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBK,sBAAhB;AACAV,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBM,sBAAhB;AACAX,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBO,mBAAhB,E,CAGA;;AACAZ,GAAG,CAACK,GAAJ,CAAQ,qBAAO,KAAP,CAAR;AACAL,GAAG,CAACK,GAAJ,CAAQ,OAAR,EAAiBG,mBAAjB,EAAyBC,mBAAzB,EAAqCC,sBAArC,EAAoDC,sBAApD,EAAmEC,mBAAnE;AACAZ,GAAG,CAACK,GAAJ,CACC,WADD,EAECQ,0BAAUC,KAFX,EAGCD,0BAAUE,KAAV,CAAgBC,gBAAhB,EAA4B;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAA5B,CAHD;AAMAjB,GAAG,CAACK,GAAJ,CAAQ,GAAR,EAAa,CAACa,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAChCD,EAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBd,IAAhB,CAAqB;AACpBe,IAAAA,KAAK,EAAE;AADa,GAArB;AAGA,CAJD,E,CAOA;;AACAtB,GAAG,CAACK,GAAJ,CAAQ,SAAR,EAAmBC,iBAAQiB,MAAR,CAAe,qBAAf,CAAnB;AAEAvB,GAAG,CAACK,GAAJ,CAAQC,iBAAQkB,UAAR,CAAmB;AAACC,EAAAA,QAAQ,EAAC;AAAV,CAAnB,CAAR;AAEAzB,GAAG,CAACK,GAAJ,CAAQ,oBAAR,E,CAGA;;AACA,MAAMqB,KAAK,GAAG,iBAAgBxB,OAAO,CAACC,GAAR,CAAYwB,OAAQ,IAAGzB,OAAO,CAACC,GAAR,CAAYyB,WAAY,gFAA7E;;AACAC,mBAASC,OAAT,CAAiBJ,KAAjB,EAAuB;AAACK,EAAAA,eAAe,EAAC,IAAjB;AAAuBC,EAAAA,kBAAkB,EAAC;AAA1C,CAAvB,EAAwEC,IAAxE,CAA8EC,MAAD,IAAU;AAE/EC,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AAEH,CAJL,EAIOC,KAJP,CAIcf,KAAD,IAAS;AACda,EAAAA,OAAO,CAACC,GAAR,CAAYd,KAAZ;AACH,CANL,E,CAQA;;;eACetB,GAAG,CAACsC,MAAJ,CAAWrC,IAAX,EAAiB,MAAI;AAChCkC,EAAAA,OAAO,CAACC,GAAR,CAAY,iCAAiCnC,IAA7C;AAEH,CAHc,C","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/","sourcesContent":["import express from 'express'\nimport cors from 'cors'\nimport morgan from \"morgan\";\nrequire(\"dotenv\").config();\nimport swaggerUI from 'swagger-ui-express'\nimport swaggerDoc from \"../swagger.json\";\nimport {mongoose} from 'mongoose'\n\n// getting routes\nimport routes from \"./routes/PostRoutes\"\nimport userroutes from \"./routes/UserRoutes\"\nimport contactroutes from \"./routes/MessageRoutes\"\nimport commentroutes from \"./routes/CommentRoutes\"\nimport likeroutes from \"./routes/LikeRoutes\"\n\n//creating express app\nconst app =express();\n\nconst port = process.env.PORT || 3000\n\n// allow to pass json into body\napp.use(express.json());\n\n\n\n//routing routes\napp.use(\"/api\", routes);\napp.use(\"/api\", userroutes);\napp.use(\"/api\", contactroutes);\napp.use(\"/api\", commentroutes);\napp.use(\"/api\", likeroutes);\n\n\n//swagger documentation\napp.use(morgan(\"dev\"));\napp.use(\"/api/\", routes, userroutes, contactroutes, commentroutes, likeroutes);\napp.use(\n\t\"/api-docs\",\n\tswaggerUI.serve,\n\tswaggerUI.setup(swaggerDoc, { explorer: true })\n);\n\napp.use(\"*\", (req, res, next) => {\n\tres.status(404).json({\n\t\terror: \"NOT FOUND\",\n\t});\n});\n\n\n//serve static images\napp.use(\"/poster\", express.static(\"uploads/blog/images\"))\n\napp.use(express.urlencoded({extended:true}))\n\napp.use(cors())\n\n\n// Connect to MongoDB database\nconst dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\nmongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((result)=>{\n\n        console.log('Db Connected!')\n\t\t\n    }).catch((error)=>{\n        console.log(error)\n    })\n    \n//listening to the request on server\nexport default app.listen(port, ()=>{\n    console.log('Server started listening on ' + port)\n  \n});    "]}