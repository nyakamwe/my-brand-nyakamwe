"use strict";function cov_2cxxeu1fey(){var path="/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/post_test.js";var hash="850f28e225f32975189c634ddcd383df60a4d1db";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/post_test.js",statementMap:{"0":{start:{line:3,column:16},end:{line:3,column:59}},"1":{start:{line:5,column:12},end:{line:5,column:51}},"2":{start:{line:7,column:13},end:{line:7,column:56}},"3":{start:{line:9,column:16},end:{line:9,column:60}},"4":{start:{line:11,column:12},end:{line:11,column:37}},"5":{start:{line:13,column:13},end:{line:13,column:53}},"6":{start:{line:15,column:12},end:{line:15,column:37}},"7":{start:{line:17,column:39},end:{line:17,column:93}},"8":{start:{line:19,column:0},end:{line:19,column:27}},"9":{start:{line:24,column:0},end:{line:24,column:23}},"10":{start:{line:26,column:0},end:{line:26,column:37}},"11":{start:{line:28,column:0},end:{line:236,column:3}},"12":{start:{line:29,column:2},end:{line:42,column:5}},"13":{start:{line:31,column:18},end:{line:31,column:161}},"14":{start:{line:33,column:4},end:{line:41,column:7}},"15":{start:{line:37,column:6},end:{line:37,column:35}},"16":{start:{line:38,column:6},end:{line:38,column:13}},"17":{start:{line:40,column:6},end:{line:40,column:25}},"18":{start:{line:47,column:2},end:{line:129,column:5}},"19":{start:{line:48,column:4},end:{line:52,column:7}},"20":{start:{line:49,column:6},end:{line:49,column:59}},"21":{start:{line:51,column:6},end:{line:51,column:59}},"22":{start:{line:54,column:4},end:{line:67,column:7}},"23":{start:{line:55,column:22},end:{line:59,column:8}},"24":{start:{line:61,column:6},end:{line:66,column:9}},"25":{start:{line:62,column:8},end:{line:62,column:41}},"26":{start:{line:63,column:8},end:{line:63,column:44}},"27":{start:{line:64,column:8},end:{line:64,column:75}},"28":{start:{line:65,column:8},end:{line:65,column:15}},"29":{start:{line:69,column:22},end:{line:72,column:5}},"30":{start:{line:73,column:4},end:{line:84,column:7}},"31":{start:{line:74,column:6},end:{line:83,column:9}},"32":{start:{line:78,column:8},end:{line:78,column:34}},"33":{start:{line:78,column:17},end:{line:78,column:34}},"34":{start:{line:79,column:8},end:{line:79,column:41}},"35":{start:{line:80,column:8},end:{line:80,column:44}},"36":{start:{line:81,column:8},end:{line:81,column:39}},"37":{start:{line:82,column:8},end:{line:82,column:15}},"38":{start:{line:85,column:4},end:{line:101,column:7}},"39":{start:{line:86,column:24},end:{line:86,column:44}},"40":{start:{line:87,column:19},end:{line:90,column:8}},"41":{start:{line:91,column:6},end:{line:91,column:18}},"42":{start:{line:93,column:6},end:{line:100,column:9}},"43":{start:{line:95,column:8},end:{line:95,column:41}},"44":{start:{line:96,column:8},end:{line:96,column:44}},"45":{start:{line:97,column:8},end:{line:97,column:85}},"46":{start:{line:98,column:8},end:{line:98,column:21}},"47":{start:{line:99,column:8},end:{line:99,column:15}},"48":{start:{line:102,column:22},end:{line:102,column:42}},"49":{start:{line:103,column:4},end:{line:115,column:7}},"50":{start:{line:104,column:19},end:{line:107,column:8}},"51":{start:{line:109,column:6},end:{line:114,column:9}},"52":{start:{line:111,column:8},end:{line:111,column:41}},"53":{start:{line:112,column:8},end:{line:112,column:75}},"54":{start:{line:113,column:8},end:{line:113,column:15}},"55":{start:{line:116,column:4},end:{line:128,column:7}},"56":{start:{line:117,column:19},end:{line:120,column:8}},"57":{start:{line:122,column:6},end:{line:127,column:9}},"58":{start:{line:124,column:8},end:{line:124,column:41}},"59":{start:{line:125,column:8},end:{line:125,column:92}},"60":{start:{line:126,column:8},end:{line:126,column:15}},"61":{start:{line:134,column:2},end:{line:148,column:5}},"62":{start:{line:135,column:4},end:{line:141,column:7}},"63":{start:{line:136,column:6},end:{line:140,column:9}},"64":{start:{line:137,column:8},end:{line:137,column:41}},"65":{start:{line:138,column:8},end:{line:138,column:67}},"66":{start:{line:139,column:8},end:{line:139,column:15}},"67":{start:{line:142,column:4},end:{line:147,column:7}},"68":{start:{line:143,column:6},end:{line:146,column:9}},"69":{start:{line:144,column:8},end:{line:144,column:41}},"70":{start:{line:145,column:8},end:{line:145,column:15}},"71":{start:{line:153,column:2},end:{line:173,column:5}},"72":{start:{line:154,column:4},end:{line:163,column:7}},"73":{start:{line:155,column:21},end:{line:155,column:23}},"74":{start:{line:157,column:6},end:{line:162,column:9}},"75":{start:{line:158,column:8},end:{line:158,column:41}},"76":{start:{line:159,column:8},end:{line:159,column:44}},"77":{start:{line:160,column:8},end:{line:160,column:67}},"78":{start:{line:161,column:8},end:{line:161,column:15}},"79":{start:{line:164,column:4},end:{line:172,column:7}},"80":{start:{line:165,column:21},end:{line:165,column:25}},"81":{start:{line:167,column:6},end:{line:171,column:9}},"82":{start:{line:168,column:8},end:{line:168,column:46}},"83":{start:{line:169,column:8},end:{line:169,column:70}},"84":{start:{line:170,column:8},end:{line:170,column:15}},"85":{start:{line:178,column:2},end:{line:207,column:5}},"86":{start:{line:179,column:4},end:{line:192,column:7}},"87":{start:{line:180,column:21},end:{line:180,column:23}},"88":{start:{line:181,column:19},end:{line:184,column:7}},"89":{start:{line:186,column:6},end:{line:191,column:9}},"90":{start:{line:187,column:8},end:{line:187,column:41}},"91":{start:{line:188,column:8},end:{line:188,column:44}},"92":{start:{line:189,column:8},end:{line:189,column:88}},"93":{start:{line:190,column:8},end:{line:190,column:15}},"94":{start:{line:193,column:4},end:{line:206,column:7}},"95":{start:{line:194,column:21},end:{line:194,column:23}},"96":{start:{line:195,column:19},end:{line:198,column:7}},"97":{start:{line:200,column:6},end:{line:205,column:9}},"98":{start:{line:201,column:8},end:{line:201,column:41}},"99":{start:{line:202,column:8},end:{line:202,column:44}},"100":{start:{line:203,column:8},end:{line:203,column:91}},"101":{start:{line:204,column:8},end:{line:204,column:15}},"102":{start:{line:212,column:2},end:{line:235,column:5}},"103":{start:{line:213,column:4},end:{line:217,column:7}},"104":{start:{line:214,column:6},end:{line:214,column:59}},"105":{start:{line:216,column:6},end:{line:216,column:59}},"106":{start:{line:218,column:4},end:{line:225,column:7}},"107":{start:{line:219,column:21},end:{line:219,column:23}},"108":{start:{line:221,column:6},end:{line:224,column:9}},"109":{start:{line:222,column:8},end:{line:222,column:41}},"110":{start:{line:223,column:8},end:{line:223,column:15}},"111":{start:{line:226,column:4},end:{line:234,column:7}},"112":{start:{line:227,column:21},end:{line:227,column:23}},"113":{start:{line:229,column:6},end:{line:233,column:9}},"114":{start:{line:230,column:8},end:{line:230,column:41}},"115":{start:{line:231,column:8},end:{line:231,column:79}},"116":{start:{line:232,column:8},end:{line:232,column:15}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:17,column:9},end:{line:17,column:31}},loc:{start:{line:17,column:37},end:{line:17,column:95}},line:17},"1":{name:"(anonymous_1)",decl:{start:{line:28,column:36},end:{line:28,column:37}},loc:{start:{line:28,column:42},end:{line:236,column:1}},line:28},"2":{name:"(anonymous_2)",decl:{start:{line:29,column:9},end:{line:29,column:10}},loc:{start:{line:29,column:25},end:{line:42,column:3}},line:29},"3":{name:"(anonymous_3)",decl:{start:{line:36,column:12},end:{line:36,column:13}},loc:{start:{line:36,column:27},end:{line:39,column:5}},line:36},"4":{name:"(anonymous_4)",decl:{start:{line:39,column:13},end:{line:39,column:14}},loc:{start:{line:39,column:22},end:{line:41,column:5}},line:39},"5":{name:"(anonymous_5)",decl:{start:{line:47,column:30},end:{line:47,column:31}},loc:{start:{line:47,column:36},end:{line:129,column:3}},line:47},"6":{name:"(anonymous_6)",decl:{start:{line:48,column:11},end:{line:48,column:12}},loc:{start:{line:48,column:17},end:{line:52,column:5}},line:48},"7":{name:"(anonymous_7)",decl:{start:{line:54,column:28},end:{line:54,column:29}},loc:{start:{line:54,column:36},end:{line:67,column:5}},line:54},"8":{name:"(anonymous_8)",decl:{start:{line:61,column:81},end:{line:61,column:82}},loc:{start:{line:61,column:100},end:{line:66,column:7}},line:61},"9":{name:"(anonymous_9)",decl:{start:{line:73,column:23},end:{line:73,column:24}},loc:{start:{line:73,column:31},end:{line:84,column:5}},line:73},"10":{name:"(anonymous_10)",decl:{start:{line:77,column:13},end:{line:77,column:14}},loc:{start:{line:77,column:38},end:{line:83,column:7}},line:77},"11":{name:"(anonymous_11)",decl:{start:{line:85,column:29},end:{line:85,column:30}},loc:{start:{line:85,column:37},end:{line:101,column:5}},line:85},"12":{name:"(anonymous_12)",decl:{start:{line:94,column:65},end:{line:94,column:66}},loc:{start:{line:94,column:92},end:{line:100,column:7}},line:94},"13":{name:"(anonymous_13)",decl:{start:{line:103,column:57},end:{line:103,column:58}},loc:{start:{line:103,column:65},end:{line:115,column:5}},line:103},"14":{name:"(anonymous_14)",decl:{start:{line:110,column:43},end:{line:110,column:44}},loc:{start:{line:110,column:70},end:{line:114,column:7}},line:110},"15":{name:"(anonymous_15)",decl:{start:{line:116,column:57},end:{line:116,column:58}},loc:{start:{line:116,column:65},end:{line:128,column:5}},line:116},"16":{name:"(anonymous_16)",decl:{start:{line:123,column:65},end:{line:123,column:66}},loc:{start:{line:123,column:92},end:{line:127,column:7}},line:123},"17":{name:"(anonymous_17)",decl:{start:{line:134,column:29},end:{line:134,column:30}},loc:{start:{line:134,column:35},end:{line:148,column:3}},line:134},"18":{name:"(anonymous_18)",decl:{start:{line:135,column:28},end:{line:135,column:29}},loc:{start:{line:135,column:36},end:{line:141,column:5}},line:135},"19":{name:"(anonymous_19)",decl:{start:{line:136,column:66},end:{line:136,column:67}},loc:{start:{line:136,column:85},end:{line:140,column:7}},line:136},"20":{name:"(anonymous_20)",decl:{start:{line:142,column:32},end:{line:142,column:33}},loc:{start:{line:142,column:40},end:{line:147,column:5}},line:142},"21":{name:"(anonymous_21)",decl:{start:{line:143,column:65},end:{line:143,column:66}},loc:{start:{line:143,column:84},end:{line:146,column:7}},line:143},"22":{name:"(anonymous_22)",decl:{start:{line:153,column:33},end:{line:153,column:34}},loc:{start:{line:153,column:39},end:{line:173,column:3}},line:153},"23":{name:"(anonymous_23)",decl:{start:{line:154,column:32},end:{line:154,column:33}},loc:{start:{line:154,column:40},end:{line:163,column:5}},line:154},"24":{name:"(anonymous_24)",decl:{start:{line:157,column:76},end:{line:157,column:77}},loc:{start:{line:157,column:95},end:{line:162,column:7}},line:157},"25":{name:"(anonymous_25)",decl:{start:{line:164,column:47},end:{line:164,column:48}},loc:{start:{line:164,column:55},end:{line:172,column:5}},line:164},"26":{name:"(anonymous_26)",decl:{start:{line:167,column:76},end:{line:167,column:77}},loc:{start:{line:167,column:100},end:{line:171,column:7}},line:167},"27":{name:"(anonymous_27)",decl:{start:{line:178,column:33},end:{line:178,column:34}},loc:{start:{line:178,column:39},end:{line:207,column:3}},line:178},"28":{name:"(anonymous_28)",decl:{start:{line:179,column:25},end:{line:179,column:26}},loc:{start:{line:179,column:33},end:{line:192,column:5}},line:179},"29":{name:"(anonymous_29)",decl:{start:{line:186,column:132},end:{line:186,column:133}},loc:{start:{line:186,column:151},end:{line:191,column:7}},line:186},"30":{name:"(anonymous_30)",decl:{start:{line:193,column:63},end:{line:193,column:64}},loc:{start:{line:193,column:71},end:{line:206,column:5}},line:193},"31":{name:"(anonymous_31)",decl:{start:{line:200,column:132},end:{line:200,column:133}},loc:{start:{line:200,column:151},end:{line:205,column:7}},line:200},"32":{name:"(anonymous_32)",decl:{start:{line:212,column:36},end:{line:212,column:37}},loc:{start:{line:212,column:42},end:{line:235,column:3}},line:212},"33":{name:"(anonymous_33)",decl:{start:{line:213,column:10},end:{line:213,column:11}},loc:{start:{line:213,column:16},end:{line:217,column:5}},line:213},"34":{name:"(anonymous_34)",decl:{start:{line:218,column:28},end:{line:218,column:29}},loc:{start:{line:218,column:36},end:{line:225,column:5}},line:218},"35":{name:"(anonymous_35)",decl:{start:{line:221,column:122},end:{line:221,column:123}},loc:{start:{line:221,column:141},end:{line:224,column:7}},line:221},"36":{name:"(anonymous_36)",decl:{start:{line:226,column:62},end:{line:226,column:63}},loc:{start:{line:226,column:70},end:{line:234,column:5}},line:226},"37":{name:"(anonymous_37)",decl:{start:{line:229,column:122},end:{line:229,column:123}},loc:{start:{line:229,column:141},end:{line:233,column:7}},line:229}},branchMap:{"0":{loc:{start:{line:17,column:46},end:{line:17,column:92}},type:"cond-expr",locations:[{start:{line:17,column:70},end:{line:17,column:73}},{start:{line:17,column:76},end:{line:17,column:92}}],line:17},"1":{loc:{start:{line:17,column:46},end:{line:17,column:67}},type:"binary-expr",locations:[{start:{line:17,column:46},end:{line:17,column:49}},{start:{line:17,column:53},end:{line:17,column:67}}],line:17},"2":{loc:{start:{line:78,column:8},end:{line:78,column:34}},type:"if",locations:[{start:{line:78,column:8},end:{line:78,column:34}},{start:{line:78,column:8},end:{line:78,column:34}}],line:78}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},inputSourceMap:{version:3,sources:["post_test.js"],names:["require","config","user","autToken","id","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","logInUser","Token","userToken","Post","title","content","save","set","get","message","eq","postId","responseponse","patch","after","delete"],mappings:"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",sourceRoot:"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/",sourcesContent:["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport sinon from 'sinon'\nimport { User } from '../models/User';\n\nlet user, autToken, id;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Post Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });   \n    \n    \n    /**\n     * POST a post route\n     */\n\ndescribe(\"POST /api/posts\", ()=>{\n    before(()=>{\n        mongoose.connection.dropCollection('users')\n        mongoose.connection.dropCollection('posts')\n    })\n   \n    \n\n    // create user and login \n    it('creates new user ', (done)=>{\n\n        const newUser = new User({\n            username:\"menase\",\n            email:\"menase@mail.com\",\n            password:\"password test\"\n       \n        })\n\n        chai.request(server)\n        .post(\"/api/users\")\n        .send(newUser)\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"user created!\");\n        done();   \n        })\n    })\n\n\n    // login\n    const logInUser = {\n        username:'menase',\n        password:'password test'\n    }\n\n    it('login a user', (done)=>{\n        chai.request(server)\n        .post('/api/users/login')\n        .send({username:logInUser.username, password:logInUser.password})\n        .end(function(err, response) {\n            if (err) return done(err);\n\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            autToken = response.body.Token\n            \n            done();\n        });\n\n    })\n\n    it(\"creates a new post\", (done)=>{\n        const userToken = 'Bearer ' + autToken\n        \n        const post = new Post({\n            title: \"unit testing\",\n            content: \"I am testing nodejs api using mocha with chai assertion library\"\n            \n        })\n        post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n    \n        //set the auth header with our token\n        .set('Authorization', 'Bearer ' + autToken)\n        .send(post)\n        .end(function(error, response) {\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post Saved successfully\");\n\n            id= post.id\n        done();  \n        });\n    })\n        \n\n    const userToken = 'Bearer ' + autToken\n\n    it(\"fails to create a post due to unathorized user\", (done)=>{\n\n        const post = new Post({\n            title: \"keza testing \",\n            content: \"unit testing with mocha and user keza\"\n            \n        })\n        // post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n        .send(post)\n        //set the auth header with our token\n        .set('Authorization', userToken)\n        .end(function(error, response) {\n            response.should.have.status(403);\n            response.body.should.have.property('message').eql(\"Invalid token\");\n        done();  \n        });\n       \n        \n    }) \n\n    it(\"do not create a post without title and content\", (done)=>{\n\n        const post = new Post({\n            title: \"\",\n            content: \"\"\n            \n        })\n        // post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n    \n        //set the auth header with our token\n        .set('Authorization', 'Bearer ' + autToken)\n        .send(post)\n        .end(function(error, response) {\n            response.should.have.status(400);\n            response.body.should.have.property('message').eql(\"Title and content are required\")\n        done();  \n        });\n    })\n\n        \n}) \n    \n    \n    /**\n     * test GET posts route\n     */\n\n  describe(\"GET /api/posts\", ()=>{\n        \n    it(\"returns all posts\", (done)=>{\n        chai.request(server)\n        .get(\"/api/posts\")\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.message.should.be.eq(\"Fetched successfully\")\n        done();\n        })\n        \n    })\n\n    it(\"not returns all posts\", (done)=>{\n        chai.request(server)\n        .get(\"/api/post\")\n        .end((err, response)=>{\n            response.should.have.status(404);\n\n        done();\n        })\n        \n    })\n\n    \n});\n\n/**\n * test GET(by id) post route\n */\n\ndescribe(\"GET /api/posts/:id\", ()=>{\n    \n    it(\"returns a single post\", (done)=>{\n        const postId = id;\n        chai.request(server)\n        .get(`/api/posts/${postId}`)\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            response.body.message.should.be.eq(\"successfully fetched\")\n            \n        done();\n        })\n        \n    });\n\n    \n    it(\"not returns a single post at this id\", (done)=>{\n        const postId = 1234;\n        chai.request(server)\n        .get(`/api/posts/${postId}`)\n        .end((err, responseponse)=>{\n            responseponse.should.have.status(404);\n            responseponse.body.error.should.be.eq(\"Post does not exist!\")\n            \n        done();\n        })\n        \n    })\n})\n\n\n\n    /**\n     * PUT a post route\n     */\n\n describe('PUT /api/posts/:id', ()=>{\n    it('updates a post', (done)=>{\n        \n        const postId = id\n        const post = {\n            title: \"unit testing\",\n            content: \"mocha Js framework for testing\",\n            \n        }\n        chai.request(server)\n        .patch(`/api/posts/${postId}`)\n        .send(post)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post successfully updated!\")\n            \n        done();\n        })\n    })\n\n    it('don\\'t updates a post when title or content is empty', (done)=>{\n        \n        const postId = id\n        const post = {\n            title: \"avicii\",\n            content: \"\",\n            \n        }\n        chai.request(server)\n        .patch(`/api/posts/${postId}`)\n        .send(post)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(400);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Title and content need value!\")\n            \n        done();\n        })\n    })\n\n\n})\n\n    /**\n     * DELETE post route\n     */\n\n  describe('DELETE /api/posts/:id', ()=>{\n      after(()=>{\n        mongoose.connection.dropCollection('users') \n        mongoose.connection.dropCollection('posts')\n      })\n    \n\n    it('It deletes a post', (done)=>{\n        const postId = id;\n        chai.request(server)\n        .delete(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n\n        done();\n        })\n    })\n\n    it('It should not delete post that doesn\\'t exist in DB', (done)=>{\n        const postId = id;\n        chai.request(server)\n        .delete(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(404);\n            response.body.should.have.property('error').eql(\"Post doesn't exist!\")\n        done();\n        })\n    })\n\n    \n\n})\n\n})"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"850f28e225f32975189c634ddcd383df60a4d1db"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2cxxeu1fey=function(){return actualCoverage;};}return actualCoverage;}cov_2cxxeu1fey();var _mongoose=(cov_2cxxeu1fey().s[0]++,_interopRequireDefault(require("mongoose")));var _chai=(cov_2cxxeu1fey().s[1]++,_interopRequireDefault(require("chai")));var _index=(cov_2cxxeu1fey().s[2]++,_interopRequireDefault(require("../index")));var _chaiHttp=(cov_2cxxeu1fey().s[3]++,_interopRequireDefault(require("chai-http")));var _Post=(cov_2cxxeu1fey().s[4]++,require("../models/Post"));var _sinon=(cov_2cxxeu1fey().s[5]++,_interopRequireDefault(require("sinon")));var _User=(cov_2cxxeu1fey().s[6]++,require("../models/User"));function _interopRequireDefault(obj){cov_2cxxeu1fey().f[0]++;cov_2cxxeu1fey().s[7]++;return(cov_2cxxeu1fey().b[1][0]++,obj)&&(cov_2cxxeu1fey().b[1][1]++,obj.__esModule)?(cov_2cxxeu1fey().b[0][0]++,obj):(cov_2cxxeu1fey().b[0][1]++,{default:obj});}cov_2cxxeu1fey().s[8]++;require("dotenv").config();//to mock a function during testing
let user,autToken,id;//assertion style
cov_2cxxeu1fey().s[9]++;_chai.default.should();cov_2cxxeu1fey().s[10]++;_chai.default.use(_chaiHttp.default);cov_2cxxeu1fey().s[11]++;describe('Test for Post Endpoints',()=>{cov_2cxxeu1fey().f[1]++;cov_2cxxeu1fey().s[12]++;before(function(done){cov_2cxxeu1fey().f[2]++;// Connect to MongoDB database
const dbURI=(cov_2cxxeu1fey().s[13]++,`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`);cov_2cxxeu1fey().s[14]++;_mongoose.default.connect(dbURI,{useNewUrlParser:true,useUnifiedTopology:true}).then(responseult=>{cov_2cxxeu1fey().f[3]++;cov_2cxxeu1fey().s[15]++;console.log('Db Connected!');cov_2cxxeu1fey().s[16]++;done();}).catch(error=>{cov_2cxxeu1fey().f[4]++;cov_2cxxeu1fey().s[17]++;console.log(error);});});/**
   * POST a post route
   */cov_2cxxeu1fey().s[18]++;describe("POST /api/posts",()=>{cov_2cxxeu1fey().f[5]++;cov_2cxxeu1fey().s[19]++;before(()=>{cov_2cxxeu1fey().f[6]++;cov_2cxxeu1fey().s[20]++;_mongoose.default.connection.dropCollection('users');cov_2cxxeu1fey().s[21]++;_mongoose.default.connection.dropCollection('posts');});// create user and login 
cov_2cxxeu1fey().s[22]++;it('creates new user ',done=>{cov_2cxxeu1fey().f[7]++;const newUser=(cov_2cxxeu1fey().s[23]++,new _User.User({username:"menase",email:"menase@mail.com",password:"password test"}));cov_2cxxeu1fey().s[24]++;_chai.default.request(_index.default).post("/api/users").send(newUser).end((err,response)=>{cov_2cxxeu1fey().f[8]++;cov_2cxxeu1fey().s[25]++;response.should.have.status(201);cov_2cxxeu1fey().s[26]++;response.body.should.be.a('object');cov_2cxxeu1fey().s[27]++;response.body.should.have.property('message').eql("user created!");cov_2cxxeu1fey().s[28]++;done();});});// login
const logInUser=(cov_2cxxeu1fey().s[29]++,{username:'menase',password:'password test'});cov_2cxxeu1fey().s[30]++;it('login a user',done=>{cov_2cxxeu1fey().f[9]++;cov_2cxxeu1fey().s[31]++;_chai.default.request(_index.default).post('/api/users/login').send({username:logInUser.username,password:logInUser.password}).end(function(err,response){cov_2cxxeu1fey().f[10]++;cov_2cxxeu1fey().s[32]++;if(err){cov_2cxxeu1fey().b[2][0]++;cov_2cxxeu1fey().s[33]++;return done(err);}else{cov_2cxxeu1fey().b[2][1]++;}cov_2cxxeu1fey().s[34]++;response.should.have.status(200);cov_2cxxeu1fey().s[35]++;response.body.should.be.a('object');cov_2cxxeu1fey().s[36]++;autToken=response.body.Token;cov_2cxxeu1fey().s[37]++;done();});});cov_2cxxeu1fey().s[38]++;it("creates a new post",done=>{cov_2cxxeu1fey().f[11]++;const userToken=(cov_2cxxeu1fey().s[39]++,'Bearer '+autToken);const post=(cov_2cxxeu1fey().s[40]++,new _Post.Post({title:"unit testing",content:"I am testing nodejs api using mocha with chai assertion library"}));cov_2cxxeu1fey().s[41]++;post.save();cov_2cxxeu1fey().s[42]++;_chai.default.request(_index.default).post("/api/posts")//set the auth header with our token
.set('Authorization','Bearer '+autToken).send(post).end(function(error,response){cov_2cxxeu1fey().f[12]++;cov_2cxxeu1fey().s[43]++;response.should.have.status(201);cov_2cxxeu1fey().s[44]++;response.body.should.be.a('object');cov_2cxxeu1fey().s[45]++;response.body.should.have.property('message').eql("Post Saved successfully");cov_2cxxeu1fey().s[46]++;id=post.id;cov_2cxxeu1fey().s[47]++;done();});});const userToken=(cov_2cxxeu1fey().s[48]++,'Bearer '+autToken);cov_2cxxeu1fey().s[49]++;it("fails to create a post due to unathorized user",done=>{cov_2cxxeu1fey().f[13]++;const post=(cov_2cxxeu1fey().s[50]++,new _Post.Post({title:"keza testing ",content:"unit testing with mocha and user keza"}));// post.save()
cov_2cxxeu1fey().s[51]++;_chai.default.request(_index.default).post("/api/posts").send(post)//set the auth header with our token
.set('Authorization',userToken).end(function(error,response){cov_2cxxeu1fey().f[14]++;cov_2cxxeu1fey().s[52]++;response.should.have.status(403);cov_2cxxeu1fey().s[53]++;response.body.should.have.property('message').eql("Invalid token");cov_2cxxeu1fey().s[54]++;done();});});cov_2cxxeu1fey().s[55]++;it("do not create a post without title and content",done=>{cov_2cxxeu1fey().f[15]++;const post=(cov_2cxxeu1fey().s[56]++,new _Post.Post({title:"",content:""}));// post.save()
cov_2cxxeu1fey().s[57]++;_chai.default.request(_index.default).post("/api/posts")//set the auth header with our token
.set('Authorization','Bearer '+autToken).send(post).end(function(error,response){cov_2cxxeu1fey().f[16]++;cov_2cxxeu1fey().s[58]++;response.should.have.status(400);cov_2cxxeu1fey().s[59]++;response.body.should.have.property('message').eql("Title and content are required");cov_2cxxeu1fey().s[60]++;done();});});});/**
   * test GET posts route
   */cov_2cxxeu1fey().s[61]++;describe("GET /api/posts",()=>{cov_2cxxeu1fey().f[17]++;cov_2cxxeu1fey().s[62]++;it("returns all posts",done=>{cov_2cxxeu1fey().f[18]++;cov_2cxxeu1fey().s[63]++;_chai.default.request(_index.default).get("/api/posts").end((err,response)=>{cov_2cxxeu1fey().f[19]++;cov_2cxxeu1fey().s[64]++;response.should.have.status(200);cov_2cxxeu1fey().s[65]++;response.body.message.should.be.eq("Fetched successfully");cov_2cxxeu1fey().s[66]++;done();});});cov_2cxxeu1fey().s[67]++;it("not returns all posts",done=>{cov_2cxxeu1fey().f[20]++;cov_2cxxeu1fey().s[68]++;_chai.default.request(_index.default).get("/api/post").end((err,response)=>{cov_2cxxeu1fey().f[21]++;cov_2cxxeu1fey().s[69]++;response.should.have.status(404);cov_2cxxeu1fey().s[70]++;done();});});});/**
   * test GET(by id) post route
   */cov_2cxxeu1fey().s[71]++;describe("GET /api/posts/:id",()=>{cov_2cxxeu1fey().f[22]++;cov_2cxxeu1fey().s[72]++;it("returns a single post",done=>{cov_2cxxeu1fey().f[23]++;const postId=(cov_2cxxeu1fey().s[73]++,id);cov_2cxxeu1fey().s[74]++;_chai.default.request(_index.default).get(`/api/posts/${postId}`).end((err,response)=>{cov_2cxxeu1fey().f[24]++;cov_2cxxeu1fey().s[75]++;response.should.have.status(200);cov_2cxxeu1fey().s[76]++;response.body.should.be.a('object');cov_2cxxeu1fey().s[77]++;response.body.message.should.be.eq("successfully fetched");cov_2cxxeu1fey().s[78]++;done();});});cov_2cxxeu1fey().s[79]++;it("not returns a single post at this id",done=>{cov_2cxxeu1fey().f[25]++;const postId=(cov_2cxxeu1fey().s[80]++,1234);cov_2cxxeu1fey().s[81]++;_chai.default.request(_index.default).get(`/api/posts/${postId}`).end((err,responseponse)=>{cov_2cxxeu1fey().f[26]++;cov_2cxxeu1fey().s[82]++;responseponse.should.have.status(404);cov_2cxxeu1fey().s[83]++;responseponse.body.error.should.be.eq("Post does not exist!");cov_2cxxeu1fey().s[84]++;done();});});});/**
   * PUT a post route
   */cov_2cxxeu1fey().s[85]++;describe('PUT /api/posts/:id',()=>{cov_2cxxeu1fey().f[27]++;cov_2cxxeu1fey().s[86]++;it('updates a post',done=>{cov_2cxxeu1fey().f[28]++;const postId=(cov_2cxxeu1fey().s[87]++,id);const post=(cov_2cxxeu1fey().s[88]++,{title:"unit testing",content:"mocha Js framework for testing"});cov_2cxxeu1fey().s[89]++;_chai.default.request(_index.default).patch(`/api/posts/${postId}`).send(post).set('Authorization','Bearer '+autToken).end((err,response)=>{cov_2cxxeu1fey().f[29]++;cov_2cxxeu1fey().s[90]++;response.should.have.status(200);cov_2cxxeu1fey().s[91]++;response.body.should.be.a('object');cov_2cxxeu1fey().s[92]++;response.body.should.have.property('message').eql("Post successfully updated!");cov_2cxxeu1fey().s[93]++;done();});});cov_2cxxeu1fey().s[94]++;it('don\'t updates a post when title or content is empty',done=>{cov_2cxxeu1fey().f[30]++;const postId=(cov_2cxxeu1fey().s[95]++,id);const post=(cov_2cxxeu1fey().s[96]++,{title:"avicii",content:""});cov_2cxxeu1fey().s[97]++;_chai.default.request(_index.default).patch(`/api/posts/${postId}`).send(post).set('Authorization','Bearer '+autToken).end((err,response)=>{cov_2cxxeu1fey().f[31]++;cov_2cxxeu1fey().s[98]++;response.should.have.status(400);cov_2cxxeu1fey().s[99]++;response.body.should.be.a('object');cov_2cxxeu1fey().s[100]++;response.body.should.have.property('message').eql("Title and content need value!");cov_2cxxeu1fey().s[101]++;done();});});});/**
   * DELETE post route
   */cov_2cxxeu1fey().s[102]++;describe('DELETE /api/posts/:id',()=>{cov_2cxxeu1fey().f[32]++;cov_2cxxeu1fey().s[103]++;after(()=>{cov_2cxxeu1fey().f[33]++;cov_2cxxeu1fey().s[104]++;_mongoose.default.connection.dropCollection('users');cov_2cxxeu1fey().s[105]++;_mongoose.default.connection.dropCollection('posts');});cov_2cxxeu1fey().s[106]++;it('It deletes a post',done=>{cov_2cxxeu1fey().f[34]++;const postId=(cov_2cxxeu1fey().s[107]++,id);cov_2cxxeu1fey().s[108]++;_chai.default.request(_index.default).delete(`/api/posts/${postId}`).set('Authorization','Bearer '+autToken).end((err,response)=>{cov_2cxxeu1fey().f[35]++;cov_2cxxeu1fey().s[109]++;response.should.have.status(200);cov_2cxxeu1fey().s[110]++;done();});});cov_2cxxeu1fey().s[111]++;it('It should not delete post that doesn\'t exist in DB',done=>{cov_2cxxeu1fey().f[36]++;const postId=(cov_2cxxeu1fey().s[112]++,id);cov_2cxxeu1fey().s[113]++;_chai.default.request(_index.default).delete(`/api/posts/${postId}`).set('Authorization','Bearer '+autToken).end((err,response)=>{cov_2cxxeu1fey().f[37]++;cov_2cxxeu1fey().s[114]++;response.should.have.status(404);cov_2cxxeu1fey().s[115]++;response.body.should.have.property('error').eql("Post doesn't exist!");cov_2cxxeu1fey().s[116]++;done();});});});});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiaWQiLCJjaGFpIiwic2hvdWxkIiwidXNlIiwiY2hhaUh0dHAiLCJkZXNjcmliZSIsImJlZm9yZSIsImRvbmUiLCJkYlVSSSIsInByb2Nlc3MiLCJlbnYiLCJEQl9VU0VSIiwiREJfUEFTU1dPUkQiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwicmVzcG9uc2V1bHQiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsImNvbm5lY3Rpb24iLCJkcm9wQ29sbGVjdGlvbiIsIml0IiwibmV3VXNlciIsIlVzZXIiLCJ1c2VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJyZXF1ZXN0Iiwic2VydmVyIiwicG9zdCIsInNlbmQiLCJlbmQiLCJlcnIiLCJyZXNwb25zZSIsImhhdmUiLCJzdGF0dXMiLCJib2R5IiwiYmUiLCJhIiwicHJvcGVydHkiLCJlcWwiLCJsb2dJblVzZXIiLCJUb2tlbiIsInVzZXJUb2tlbiIsIlBvc3QiLCJ0aXRsZSIsImNvbnRlbnQiLCJzYXZlIiwic2V0IiwiZ2V0IiwibWVzc2FnZSIsImVxIiwicG9zdElkIiwicmVzcG9uc2Vwb25zZSIsInBhdGNoIiwiYWZ0ZXIiLCJkZWxldGUiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBS0E7O0FBQ0E7Ozs7QUFMQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsRyxDQUdBOzs7QUFJQSxJQUFJQyxJQUFKLEVBQVVDLFFBQVYsRUFBb0JDLEVBQXBCLEMsQ0FFQTs7QUFDQUMsY0FBS0MsTUFBTDs7QUFFQUQsY0FBS0UsR0FBTCxDQUFTQyxpQkFBVDs7QUFHQUMsUUFBUSxDQUFDLHlCQUFELEVBQTRCLE1BQUk7QUFDcENDLEVBQUFBLE1BQU0sQ0FBQyxV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QVZDLENBQUY7QUFZQWtCLElBQUFBLEVBQUUsQ0FBQyxxREFBRCxFQUF5RGxCLElBQUQsSUFBUTtBQUM5RCxZQUFNaUQsTUFBTSxHQUFHeEQsRUFBZjs7QUFDQUMsb0JBQUs4QixPQUFMLENBQWFDLGNBQWIsRUFDQzRCLE1BREQsQ0FDUyxjQUFhSixNQUFPLEVBRDdCLEVBRUNKLEdBRkQsQ0FFSyxlQUZMLEVBRXNCLFlBQVlyRCxRQUZsQyxFQUdDb0MsR0FIRCxDQUdLLENBQUNDLEdBQUQsRUFBTUMsUUFBTixLQUFpQjtBQUNsQkEsUUFBQUEsUUFBUSxDQUFDbkMsTUFBVCxDQUFnQm9DLElBQWhCLENBQXFCQyxNQUFyQixDQUE0QixHQUE1QjtBQUNBRixRQUFBQSxRQUFRLENBQUNHLElBQVQsQ0FBY3RDLE1BQWQsQ0FBcUJvQyxJQUFyQixDQUEwQkssUUFBMUIsQ0FBbUMsT0FBbkMsRUFBNENDLEdBQTVDLENBQWdELHFCQUFoRDtBQUNKckMsUUFBQUEsSUFBSTtBQUNILE9BUEQ7QUFRSCxLQVZDLENBQUY7QUFjSCxHQWpDUyxDQUFSO0FBbUNELENBclRPLENBQVIiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL3Rlc3QvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuaW1wb3J0IHNlcnZlciBmcm9tIFwiLi4vaW5kZXhcIjtcbmltcG9ydCBjaGFpSHR0cCBmcm9tIFwiY2hhaS1odHRwXCI7XG5pbXBvcnQge1Bvc3R9IGZyb20gXCIuLi9tb2RlbHMvUG9zdFwiO1xucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxuXG4vL3RvIG1vY2sgYSBmdW5jdGlvbiBkdXJpbmcgdGVzdGluZ1xuaW1wb3J0IHNpbm9uIGZyb20gJ3Npbm9uJ1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uL21vZGVscy9Vc2VyJztcblxubGV0IHVzZXIsIGF1dFRva2VuLCBpZDtcblxuLy9hc3NlcnRpb24gc3R5bGVcbmNoYWkuc2hvdWxkKCk7XG5cbmNoYWkudXNlKGNoYWlIdHRwKSAgXG4gICAgXG4gICAgXG5kZXNjcmliZSgnVGVzdCBmb3IgUG9zdCBFbmRwb2ludHMnLCAoKT0+e1xuICAgIGJlZm9yZShmdW5jdGlvbihkb25lKSB7XG4gICAgICAgIC8vIENvbm5lY3QgdG8gTW9uZ29EQiBkYXRhYmFzZVxuICAgIGNvbnN0IGRiVVJJID1gbW9uZ29kYitzcnY6Ly8ke3Byb2Nlc3MuZW52LkRCX1VTRVJ9OiR7cHJvY2Vzcy5lbnYuREJfUEFTU1dPUkR9QG5vZGUtYXBwbGljYXRpb25zLmZlNGF1Lm1vbmdvZGIubmV0L25vZGUtdHV0b3JpYWw/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5YFxuICAgIG1vbmdvb3NlLmNvbm5lY3QoZGJVUkkse3VzZU5ld1VybFBhcnNlcjp0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6dHJ1ZX0pLnRoZW4oKHJlc3BvbnNldWx0KT0+e1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGIgQ29ubmVjdGVkIScpXG5cbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9KS5jYXRjaCgoZXJyb3IpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgICAgfSlcblxuXG4gICAgfSk7ICAgXG4gICAgXG4gICAgXG4gICAgLyoqXG4gICAgICogUE9TVCBhIHBvc3Qgcm91dGVcbiAgICAgKi9cblxuZGVzY3JpYmUoXCJQT1NUIC9hcGkvcG9zdHNcIiwgKCk9PntcbiAgICBiZWZvcmUoKCk9PntcbiAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wQ29sbGVjdGlvbigndXNlcnMnKVxuICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCdwb3N0cycpXG4gICAgfSlcbiAgIFxuICAgIFxuXG4gICAgLy8gY3JlYXRlIHVzZXIgYW5kIGxvZ2luIFxuICAgIGl0KCdjcmVhdGVzIG5ldyB1c2VyICcsIChkb25lKT0+e1xuXG4gICAgICAgIGNvbnN0IG5ld1VzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICB1c2VybmFtZTpcIm1lbmFzZVwiLFxuICAgICAgICAgICAgZW1haWw6XCJtZW5hc2VAbWFpbC5jb21cIixcbiAgICAgICAgICAgIHBhc3N3b3JkOlwicGFzc3dvcmQgdGVzdFwiXG4gICAgICAgXG4gICAgICAgIH0pXG5cbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoXCIvYXBpL3VzZXJzXCIpXG4gICAgICAgIC5zZW5kKG5ld1VzZXIpXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAxKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInVzZXIgY3JlYXRlZCFcIik7XG4gICAgICAgIGRvbmUoKTsgICBcbiAgICAgICAgfSlcbiAgICB9KVxuXG5cbiAgICAvLyBsb2dpblxuICAgIGNvbnN0IGxvZ0luVXNlciA9IHtcbiAgICAgICAgdXNlcm5hbWU6J21lbmFzZScsXG4gICAgICAgIHBhc3N3b3JkOidwYXNzd29yZCB0ZXN0J1xuICAgIH1cblxuICAgIGl0KCdsb2dpbiBhIHVzZXInLCAoZG9uZSk9PntcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnMvbG9naW4nKVxuICAgICAgICAuc2VuZCh7dXNlcm5hbWU6bG9nSW5Vc2VyLnVzZXJuYW1lLCBwYXNzd29yZDpsb2dJblVzZXIucGFzc3dvcmR9KVxuICAgICAgICAuZW5kKGZ1bmN0aW9uKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiBkb25lKGVycik7XG5cbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICBhdXRUb2tlbiA9IHJlc3BvbnNlLmJvZHkuVG9rZW5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KTtcblxuICAgIH0pXG5cbiAgICBpdChcImNyZWF0ZXMgYSBuZXcgcG9zdFwiLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgdXNlclRva2VuID0gJ0JlYXJlciAnICsgYXV0VG9rZW5cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHBvc3QgPSBuZXcgUG9zdCh7XG4gICAgICAgICAgICB0aXRsZTogXCJ1bml0IHRlc3RpbmdcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiSSBhbSB0ZXN0aW5nIG5vZGVqcyBhcGkgdXNpbmcgbW9jaGEgd2l0aCBjaGFpIGFzc2VydGlvbiBsaWJyYXJ5XCJcbiAgICAgICAgICAgIFxuICAgICAgICB9KVxuICAgICAgICBwb3N0LnNhdmUoKVxuICAgICAgICBcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoXCIvYXBpL3Bvc3RzXCIpXG4gICAgXG4gICAgICAgIC8vc2V0IHRoZSBhdXRoIGhlYWRlciB3aXRoIG91ciB0b2tlblxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5zZW5kKHBvc3QpXG4gICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAxKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIlBvc3QgU2F2ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuXG4gICAgICAgICAgICBpZD0gcG9zdC5pZFxuICAgICAgICBkb25lKCk7ICBcbiAgICAgICAgfSk7XG4gICAgfSlcbiAgICAgICAgXG5cbiAgICBjb25zdCB1c2VyVG9rZW4gPSAnQmVhcmVyICcgKyBhdXRUb2tlblxuXG4gICAgaXQoXCJmYWlscyB0byBjcmVhdGUgYSBwb3N0IGR1ZSB0byB1bmF0aG9yaXplZCB1c2VyXCIsIChkb25lKT0+e1xuXG4gICAgICAgIGNvbnN0IHBvc3QgPSBuZXcgUG9zdCh7XG4gICAgICAgICAgICB0aXRsZTogXCJrZXphIHRlc3RpbmcgXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcInVuaXQgdGVzdGluZyB3aXRoIG1vY2hhIGFuZCB1c2VyIGtlemFcIlxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG4gICAgICAgIC8vIHBvc3Quc2F2ZSgpXG4gICAgICAgIFxuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAucG9zdChcIi9hcGkvcG9zdHNcIilcbiAgICAgICAgLnNlbmQocG9zdClcbiAgICAgICAgLy9zZXQgdGhlIGF1dGggaGVhZGVyIHdpdGggb3VyIHRva2VuXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCB1c2VyVG9rZW4pXG4gICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAzKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJJbnZhbGlkIHRva2VuXCIpO1xuICAgICAgICBkb25lKCk7ICBcbiAgICAgICAgfSk7XG4gICAgICAgXG4gICAgICAgIFxuICAgIH0pIFxuXG4gICAgaXQoXCJkbyBub3QgY3JlYXRlIGEgcG9zdCB3aXRob3V0IHRpdGxlIGFuZCBjb250ZW50XCIsIChkb25lKT0+e1xuXG4gICAgICAgIGNvbnN0IHBvc3QgPSBuZXcgUG9zdCh7XG4gICAgICAgICAgICB0aXRsZTogXCJcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiXCJcbiAgICAgICAgICAgIFxuICAgICAgICB9KVxuICAgICAgICAvLyBwb3N0LnNhdmUoKVxuICAgICAgICBcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoXCIvYXBpL3Bvc3RzXCIpXG4gICAgXG4gICAgICAgIC8vc2V0IHRoZSBhdXRoIGhlYWRlciB3aXRoIG91ciB0b2tlblxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5zZW5kKHBvc3QpXG4gICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAwKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJUaXRsZSBhbmQgY29udGVudCBhcmUgcmVxdWlyZWRcIilcbiAgICAgICAgZG9uZSgpOyAgXG4gICAgICAgIH0pO1xuICAgIH0pXG5cbiAgICAgICAgXG59KSBcbiAgICBcbiAgICBcbiAgICAvKipcbiAgICAgKiB0ZXN0IEdFVCBwb3N0cyByb3V0ZVxuICAgICAqL1xuXG4gIGRlc2NyaWJlKFwiR0VUIC9hcGkvcG9zdHNcIiwgKCk9PntcbiAgICAgICAgXG4gICAgaXQoXCJyZXR1cm5zIGFsbCBwb3N0c1wiLCAoZG9uZSk9PntcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLmdldChcIi9hcGkvcG9zdHNcIilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5tZXNzYWdlLnNob3VsZC5iZS5lcShcIkZldGNoZWQgc3VjY2Vzc2Z1bGx5XCIpXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgfSlcblxuICAgIGl0KFwibm90IHJldHVybnMgYWxsIHBvc3RzXCIsIChkb25lKT0+e1xuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAuZ2V0KFwiL2FwaS9wb3N0XCIpXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDA0KTtcblxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgIH0pXG5cbiAgICBcbn0pO1xuXG4vKipcbiAqIHRlc3QgR0VUKGJ5IGlkKSBwb3N0IHJvdXRlXG4gKi9cblxuZGVzY3JpYmUoXCJHRVQgL2FwaS9wb3N0cy86aWRcIiwgKCk9PntcbiAgICBcbiAgICBpdChcInJldHVybnMgYSBzaW5nbGUgcG9zdFwiLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgcG9zdElkID0gaWQ7XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5nZXQoYC9hcGkvcG9zdHMvJHtwb3N0SWR9YClcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5Lm1lc3NhZ2Uuc2hvdWxkLmJlLmVxKFwic3VjY2Vzc2Z1bGx5IGZldGNoZWRcIilcbiAgICAgICAgICAgIFxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgIH0pO1xuXG4gICAgXG4gICAgaXQoXCJub3QgcmV0dXJucyBhIHNpbmdsZSBwb3N0IGF0IHRoaXMgaWRcIiwgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IDEyMzQ7XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5nZXQoYC9hcGkvcG9zdHMvJHtwb3N0SWR9YClcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZXBvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Vwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDA0KTtcbiAgICAgICAgICAgIHJlc3BvbnNlcG9uc2UuYm9keS5lcnJvci5zaG91bGQuYmUuZXEoXCJQb3N0IGRvZXMgbm90IGV4aXN0IVwiKVxuICAgICAgICAgICAgXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgfSlcbn0pXG5cblxuXG4gICAgLyoqXG4gICAgICogUFVUIGEgcG9zdCByb3V0ZVxuICAgICAqL1xuXG4gZGVzY3JpYmUoJ1BVVCAvYXBpL3Bvc3RzLzppZCcsICgpPT57XG4gICAgaXQoJ3VwZGF0ZXMgYSBwb3N0JywgKGRvbmUpPT57XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwb3N0SWQgPSBpZFxuICAgICAgICBjb25zdCBwb3N0ID0ge1xuICAgICAgICAgICAgdGl0bGU6IFwidW5pdCB0ZXN0aW5nXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIm1vY2hhIEpzIGZyYW1ld29yayBmb3IgdGVzdGluZ1wiLFxuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBhdGNoKGAvYXBpL3Bvc3RzLyR7cG9zdElkfWApXG4gICAgICAgIC5zZW5kKHBvc3QpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiUG9zdCBzdWNjZXNzZnVsbHkgdXBkYXRlZCFcIilcbiAgICAgICAgICAgIFxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdkb25cXCd0IHVwZGF0ZXMgYSBwb3N0IHdoZW4gdGl0bGUgb3IgY29udGVudCBpcyBlbXB0eScsIChkb25lKT0+e1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcG9zdElkID0gaWRcbiAgICAgICAgY29uc3QgcG9zdCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiBcImF2aWNpaVwiLFxuICAgICAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wYXRjaChgL2FwaS9wb3N0cy8ke3Bvc3RJZH1gKVxuICAgICAgICAuc2VuZChwb3N0KVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAwKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIlRpdGxlIGFuZCBjb250ZW50IG5lZWQgdmFsdWUhXCIpXG4gICAgICAgICAgICBcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIH0pXG5cblxufSlcblxuICAgIC8qKlxuICAgICAqIERFTEVURSBwb3N0IHJvdXRlXG4gICAgICovXG5cbiAgZGVzY3JpYmUoJ0RFTEVURSAvYXBpL3Bvc3RzLzppZCcsICgpPT57XG4gICAgICBhZnRlcigoKT0+e1xuICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCd1c2VycycpIFxuICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCdwb3N0cycpXG4gICAgICB9KVxuICAgIFxuXG4gICAgaXQoJ0l0IGRlbGV0ZXMgYSBwb3N0JywgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IGlkO1xuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAuZGVsZXRlKGAvYXBpL3Bvc3RzLyR7cG9zdElkfWApXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ0l0IHNob3VsZCBub3QgZGVsZXRlIHBvc3QgdGhhdCBkb2VzblxcJ3QgZXhpc3QgaW4gREInLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgcG9zdElkID0gaWQ7XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5kZWxldGUoYC9hcGkvcG9zdHMvJHtwb3N0SWR9YClcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwNCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdlcnJvcicpLmVxbChcIlBvc3QgZG9lc24ndCBleGlzdCFcIilcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBcblxufSlcblxufSkiXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6IjsyRkFBQSxvRkFDQSw0RUFDQSxpRkFDQSxxRkFDQSw4REFLQSw4RUFDQSxvVCx3QkFMQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUEEsQ0FBa0JDLE1BQWxCRCxHQUdBO0FBSUEsR0FBSUUsS0FBSixDQUFVQyxRQUFWLENBQW9CQyxFQUFwQixDQUVBO3dCQUNBQyxjQUFLQyxNQUFMRCxHLHlCQUVBQSxjQUFLRSxHQUFMRixDQUFTRyxpQkFBVEgsRSx5QkFHQUksUUFBUSxDQUFDLHlCQUFELENBQTRCLElBQUksa0RBQ3BDQyxNQUFNLENBQUMsU0FBU0MsSUFBVCxDQUFlLHlCQUNsQjtBQUNKLEtBQU1DLE1BQUssMkJBQUcsaUJBQWdCQyxPQUFPLENBQUNDLEdBQVJELENBQVlFLE9BQVEsSUFBR0YsT0FBTyxDQUFDQyxHQUFSRCxDQUFZRyxXQUFZLGdGQUFsRSxDQUFYLENBRnNCLHlCQUd0QkMsa0JBQVNDLE9BQVRELENBQWlCTCxLQUFqQkssQ0FBdUIsQ0FBQ0UsZUFBZSxDQUFDLElBQWpCLENBQXVCQyxrQkFBa0IsQ0FBQyxJQUExQyxDQUF2QkgsRUFBd0VJLElBQXhFSixDQUE4RUssV0FBRCxFQUFlLGtEQUVwRkMsT0FBTyxDQUFDQyxHQUFSRCxDQUFZLGVBQVpBLEVBRm9GLHlCQUlwRlosSUFBSSxHQUpaLEdBTU9jLEtBTlBSLENBTWNTLEtBQUQsRUFBUyxrREFDZEgsT0FBTyxDQUFDQyxHQUFSRCxDQUFZRyxLQUFaSCxFQVBSLEdBSE0sRUFBTmIsQ0FpQkE7QUFDSjtBQUNBLEtBcEJ3Qyx5QkFzQnhDRCxRQUFRLENBQUMsaUJBQUQsQ0FBb0IsSUFBSSxrREFDNUJDLE1BQU0sQ0FBQyxJQUFJLGtEQUNQTyxrQkFBU1UsVUFBVFYsQ0FBb0JXLGNBQXBCWCxDQUFtQyxPQUFuQ0EsRUFETyx5QkFFUEEsa0JBQVNVLFVBQVRWLENBQW9CVyxjQUFwQlgsQ0FBbUMsT0FBbkNBLEVBRkUsRUFBTlAsQ0FPQTtBQVI0Qix5QkFTNUJtQixFQUFFLENBQUMsbUJBQUQsQ0FBdUJsQixJQUFELEVBQVEseUJBRTVCLEtBQU1tQixRQUFPLDJCQUFHLEdBQUlDLFdBQUosQ0FBUyxDQUNyQkMsUUFBUSxDQUFDLFFBRFksQ0FFckJDLEtBQUssQ0FBQyxpQkFGZSxDQUdyQkMsUUFBUSxDQUFDLGVBSFksQ0FBVCxDQUFILENBQWIsQ0FGNEIseUJBUzVCN0IsY0FBSzhCLE9BQUw5QixDQUFhK0IsY0FBYi9CLEVBQ0NnQyxJQUREaEMsQ0FDTSxZQUROQSxFQUVDaUMsSUFGRGpDLENBRU15QixPQUZOekIsRUFHQ2tDLEdBSERsQyxDQUdLLENBQUNtQyxHQUFELENBQU1DLFFBQU4sR0FBaUIsa0RBQ2xCQSxRQUFRLENBQUNuQyxNQUFUbUMsQ0FBZ0JDLElBQWhCRCxDQUFxQkUsTUFBckJGLENBQTRCLEdBQTVCQSxFQURrQix5QkFFbEJBLFFBQVEsQ0FBQ0csSUFBVEgsQ0FBY25DLE1BQWRtQyxDQUFxQkksRUFBckJKLENBQXdCSyxDQUF4QkwsQ0FBMEIsUUFBMUJBLEVBRmtCLHlCQUdsQkEsUUFBUSxDQUFDRyxJQUFUSCxDQUFjbkMsTUFBZG1DLENBQXFCQyxJQUFyQkQsQ0FBMEJNLFFBQTFCTixDQUFtQyxTQUFuQ0EsRUFBOENPLEdBQTlDUCxDQUFrRCxlQUFsREEsRUFIa0IseUJBSXRCOUIsSUFBSSxHQVBKLEdBVEYsRUFBRmtCLENBcUJBO0FBQ0EsS0FBTW9CLFVBQVMsMkJBQUcsQ0FDZGpCLFFBQVEsQ0FBQyxRQURLLENBRWRFLFFBQVEsQ0FBQyxlQUZLLENBQUgsQ0FBZixDQS9CNEIseUJBb0M1QkwsRUFBRSxDQUFDLGNBQUQsQ0FBa0JsQixJQUFELEVBQVEsa0RBQ3ZCTixjQUFLOEIsT0FBTDlCLENBQWErQixjQUFiL0IsRUFDQ2dDLElBRERoQyxDQUNNLGtCQUROQSxFQUVDaUMsSUFGRGpDLENBRU0sQ0FBQzJCLFFBQVEsQ0FBQ2lCLFNBQVMsQ0FBQ2pCLFFBQXBCLENBQThCRSxRQUFRLENBQUNlLFNBQVMsQ0FBQ2YsUUFBakQsQ0FGTjdCLEVBR0NrQyxHQUhEbEMsQ0FHSyxTQUFTbUMsR0FBVCxDQUFjQyxRQUFkLENBQXdCLG1EQUN6QixHQUFJRCxHQUFKLENBQVMsMkRBQU83QixLQUFJLENBQUM2QixHQUFELENBQVgsRUFBVCxpQ0FEeUIseUJBR3pCQyxRQUFRLENBQUNuQyxNQUFUbUMsQ0FBZ0JDLElBQWhCRCxDQUFxQkUsTUFBckJGLENBQTRCLEdBQTVCQSxFQUh5Qix5QkFJekJBLFFBQVEsQ0FBQ0csSUFBVEgsQ0FBY25DLE1BQWRtQyxDQUFxQkksRUFBckJKLENBQXdCSyxDQUF4QkwsQ0FBMEIsUUFBMUJBLEVBSnlCLHlCQUt6QnRDLFFBQVEsQ0FBR3NDLFFBQVEsQ0FBQ0csSUFBVEgsQ0FBY1MsS0FBekIvQyxDQUx5Qix5QkFPekJRLElBQUksR0FWUixHQURGLEVBQUZrQixDQXBDNEIseUJBb0Q1QkEsRUFBRSxDQUFDLG9CQUFELENBQXdCbEIsSUFBRCxFQUFRLDBCQUM3QixLQUFNd0MsVUFBUywyQkFBRyxVQUFZaEQsUUFBZixDQUFmLENBRUEsS0FBTWtDLEtBQUksMkJBQUcsR0FBSWUsV0FBSixDQUFTLENBQ2xCQyxLQUFLLENBQUUsY0FEVyxDQUVsQkMsT0FBTyxDQUFFLGlFQUZTLENBQVQsQ0FBSCxDQUFWLENBSDZCLHlCQVE3QmpCLElBQUksQ0FBQ2tCLElBQUxsQixHQVI2Qix5QkFVN0JoQyxjQUFLOEIsT0FBTDlCLENBQWErQixjQUFiL0IsRUFDQ2dDLElBRERoQyxDQUNNLFlBRE5BLENBR0E7QUFIQUEsQ0FJQ21ELEdBSkRuRCxDQUlLLGVBSkxBLENBSXNCLFVBQVlGLFFBSmxDRSxFQUtDaUMsSUFMRGpDLENBS01nQyxJQUxOaEMsRUFNQ2tDLEdBTkRsQyxDQU1LLFNBQVNxQixLQUFULENBQWdCZSxRQUFoQixDQUEwQixtREFDM0JBLFFBQVEsQ0FBQ25DLE1BQVRtQyxDQUFnQkMsSUFBaEJELENBQXFCRSxNQUFyQkYsQ0FBNEIsR0FBNUJBLEVBRDJCLHlCQUUzQkEsUUFBUSxDQUFDRyxJQUFUSCxDQUFjbkMsTUFBZG1DLENBQXFCSSxFQUFyQkosQ0FBd0JLLENBQXhCTCxDQUEwQixRQUExQkEsRUFGMkIseUJBRzNCQSxRQUFRLENBQUNHLElBQVRILENBQWNuQyxNQUFkbUMsQ0FBcUJDLElBQXJCRCxDQUEwQk0sUUFBMUJOLENBQW1DLFNBQW5DQSxFQUE4Q08sR0FBOUNQLENBQWtELHlCQUFsREEsRUFIMkIseUJBSzNCckMsRUFBRSxDQUFFaUMsSUFBSSxDQUFDakMsRUFBVEEsQ0FMMkIseUJBTS9CTyxJQUFJLEdBWkosR0FWRixFQUFGa0IsQ0EyQkEsS0FBTXNCLFVBQVMsMkJBQUcsVUFBWWhELFFBQWYsQ0FBZixDQS9FNEIseUJBaUY1QjBCLEVBQUUsQ0FBQyxnREFBRCxDQUFvRGxCLElBQUQsRUFBUSwwQkFFekQsS0FBTTBCLEtBQUksMkJBQUcsR0FBSWUsV0FBSixDQUFTLENBQ2xCQyxLQUFLLENBQUUsZUFEVyxDQUVsQkMsT0FBTyxDQUFFLHVDQUZTLENBQVQsQ0FBSCxDQUFWLENBS0E7QUFQeUQseUJBU3pEakQsY0FBSzhCLE9BQUw5QixDQUFhK0IsY0FBYi9CLEVBQ0NnQyxJQUREaEMsQ0FDTSxZQUROQSxFQUVDaUMsSUFGRGpDLENBRU1nQyxJQUZOaEMsQ0FHQTtBQUhBQSxDQUlDbUQsR0FKRG5ELENBSUssZUFKTEEsQ0FJc0I4QyxTQUp0QjlDLEVBS0NrQyxHQUxEbEMsQ0FLSyxTQUFTcUIsS0FBVCxDQUFnQmUsUUFBaEIsQ0FBMEIsbURBQzNCQSxRQUFRLENBQUNuQyxNQUFUbUMsQ0FBZ0JDLElBQWhCRCxDQUFxQkUsTUFBckJGLENBQTRCLEdBQTVCQSxFQUQyQix5QkFFM0JBLFFBQVEsQ0FBQ0csSUFBVEgsQ0FBY25DLE1BQWRtQyxDQUFxQkMsSUFBckJELENBQTBCTSxRQUExQk4sQ0FBbUMsU0FBbkNBLEVBQThDTyxHQUE5Q1AsQ0FBa0QsZUFBbERBLEVBRjJCLHlCQUcvQjlCLElBQUksR0FSSixHQVRGLEVBQUZrQixDQWpGNEIseUJBd0c1QkEsRUFBRSxDQUFDLGdEQUFELENBQW9EbEIsSUFBRCxFQUFRLDBCQUV6RCxLQUFNMEIsS0FBSSwyQkFBRyxHQUFJZSxXQUFKLENBQVMsQ0FDbEJDLEtBQUssQ0FBRSxFQURXLENBRWxCQyxPQUFPLENBQUUsRUFGUyxDQUFULENBQUgsQ0FBVixDQUtBO0FBUHlELHlCQVN6RGpELGNBQUs4QixPQUFMOUIsQ0FBYStCLGNBQWIvQixFQUNDZ0MsSUFERGhDLENBQ00sWUFETkEsQ0FHQTtBQUhBQSxDQUlDbUQsR0FKRG5ELENBSUssZUFKTEEsQ0FJc0IsVUFBWUYsUUFKbENFLEVBS0NpQyxJQUxEakMsQ0FLTWdDLElBTE5oQyxFQU1Da0MsR0FORGxDLENBTUssU0FBU3FCLEtBQVQsQ0FBZ0JlLFFBQWhCLENBQTBCLG1EQUMzQkEsUUFBUSxDQUFDbkMsTUFBVG1DLENBQWdCQyxJQUFoQkQsQ0FBcUJFLE1BQXJCRixDQUE0QixHQUE1QkEsRUFEMkIseUJBRTNCQSxRQUFRLENBQUNHLElBQVRILENBQWNuQyxNQUFkbUMsQ0FBcUJDLElBQXJCRCxDQUEwQk0sUUFBMUJOLENBQW1DLFNBQW5DQSxFQUE4Q08sR0FBOUNQLENBQWtELGdDQUFsREEsRUFGMkIseUJBRy9COUIsSUFBSSxHQVRKLEdBVEYsRUFBRmtCLENBeEdJLEVBQVJwQixDQWtJSTtBQUNKO0FBQ0EsS0ExSndDLHlCQTRKdENBLFFBQVEsQ0FBQyxnQkFBRCxDQUFtQixJQUFJLG1EQUU3Qm9CLEVBQUUsQ0FBQyxtQkFBRCxDQUF1QmxCLElBQUQsRUFBUSxtREFDNUJOLGNBQUs4QixPQUFMOUIsQ0FBYStCLGNBQWIvQixFQUNDb0QsR0FERHBELENBQ0ssWUFETEEsRUFFQ2tDLEdBRkRsQyxDQUVLLENBQUNtQyxHQUFELENBQU1DLFFBQU4sR0FBaUIsbURBQ2xCQSxRQUFRLENBQUNuQyxNQUFUbUMsQ0FBZ0JDLElBQWhCRCxDQUFxQkUsTUFBckJGLENBQTRCLEdBQTVCQSxFQURrQix5QkFFbEJBLFFBQVEsQ0FBQ0csSUFBVEgsQ0FBY2lCLE9BQWRqQixDQUFzQm5DLE1BQXRCbUMsQ0FBNkJJLEVBQTdCSixDQUFnQ2tCLEVBQWhDbEIsQ0FBbUMsc0JBQW5DQSxFQUZrQix5QkFHdEI5QixJQUFJLEdBTEosR0FERixFQUFGa0IsQ0FGNkIseUJBYTdCQSxFQUFFLENBQUMsdUJBQUQsQ0FBMkJsQixJQUFELEVBQVEsbURBQ2hDTixjQUFLOEIsT0FBTDlCLENBQWErQixjQUFiL0IsRUFDQ29ELEdBRERwRCxDQUNLLFdBRExBLEVBRUNrQyxHQUZEbEMsQ0FFSyxDQUFDbUMsR0FBRCxDQUFNQyxRQUFOLEdBQWlCLG1EQUNsQkEsUUFBUSxDQUFDbkMsTUFBVG1DLENBQWdCQyxJQUFoQkQsQ0FBcUJFLE1BQXJCRixDQUE0QixHQUE1QkEsRUFEa0IseUJBR3RCOUIsSUFBSSxHQUxKLEdBREYsRUFBRmtCLENBYk0sRUFBUnBCLENBMkJGO0FBQ0E7QUFDQSxLQXpMd0MseUJBMkx4Q0EsUUFBUSxDQUFDLG9CQUFELENBQXVCLElBQUksbURBRS9Cb0IsRUFBRSxDQUFDLHVCQUFELENBQTJCbEIsSUFBRCxFQUFRLDBCQUNoQyxLQUFNaUQsT0FBTSwyQkFBR3hELEVBQUgsQ0FBWixDQURnQyx5QkFFaENDLGNBQUs4QixPQUFMOUIsQ0FBYStCLGNBQWIvQixFQUNDb0QsR0FERHBELENBQ00sY0FBYXVELE1BQU8sRUFEMUJ2RCxFQUVDa0MsR0FGRGxDLENBRUssQ0FBQ21DLEdBQUQsQ0FBTUMsUUFBTixHQUFpQixtREFDbEJBLFFBQVEsQ0FBQ25DLE1BQVRtQyxDQUFnQkMsSUFBaEJELENBQXFCRSxNQUFyQkYsQ0FBNEIsR0FBNUJBLEVBRGtCLHlCQUVsQkEsUUFBUSxDQUFDRyxJQUFUSCxDQUFjbkMsTUFBZG1DLENBQXFCSSxFQUFyQkosQ0FBd0JLLENBQXhCTCxDQUEwQixRQUExQkEsRUFGa0IseUJBR2xCQSxRQUFRLENBQUNHLElBQVRILENBQWNpQixPQUFkakIsQ0FBc0JuQyxNQUF0Qm1DLENBQTZCSSxFQUE3QkosQ0FBZ0NrQixFQUFoQ2xCLENBQW1DLHNCQUFuQ0EsRUFIa0IseUJBS3RCOUIsSUFBSSxHQVBKLEdBRkYsRUFBRmtCLENBRitCLHlCQWlCL0JBLEVBQUUsQ0FBQyxzQ0FBRCxDQUEwQ2xCLElBQUQsRUFBUSwwQkFDL0MsS0FBTWlELE9BQU0sMkJBQUcsSUFBSCxDQUFaLENBRCtDLHlCQUUvQ3ZELGNBQUs4QixPQUFMOUIsQ0FBYStCLGNBQWIvQixFQUNDb0QsR0FERHBELENBQ00sY0FBYXVELE1BQU8sRUFEMUJ2RCxFQUVDa0MsR0FGRGxDLENBRUssQ0FBQ21DLEdBQUQsQ0FBTXFCLGFBQU4sR0FBc0IsbURBQ3ZCQSxhQUFhLENBQUN2RCxNQUFkdUQsQ0FBcUJuQixJQUFyQm1CLENBQTBCbEIsTUFBMUJrQixDQUFpQyxHQUFqQ0EsRUFEdUIseUJBRXZCQSxhQUFhLENBQUNqQixJQUFkaUIsQ0FBbUJuQyxLQUFuQm1DLENBQXlCdkQsTUFBekJ1RCxDQUFnQ2hCLEVBQWhDZ0IsQ0FBbUNGLEVBQW5DRSxDQUFzQyxzQkFBdENBLEVBRnVCLHlCQUkzQmxELElBQUksR0FOSixHQUZGLEVBQUZrQixDQWpCSSxFQUFScEIsQ0FpQ0k7QUFDSjtBQUNBLEtBOU53Qyx5QkFnT3ZDQSxRQUFRLENBQUMsb0JBQUQsQ0FBdUIsSUFBSSxtREFDaENvQixFQUFFLENBQUMsZ0JBQUQsQ0FBb0JsQixJQUFELEVBQVEsMEJBRXpCLEtBQU1pRCxPQUFNLDJCQUFHeEQsRUFBSCxDQUFaLENBQ0EsS0FBTWlDLEtBQUksMkJBQUcsQ0FDVGdCLEtBQUssQ0FBRSxjQURFLENBRVRDLE9BQU8sQ0FBRSxnQ0FGQSxDQUFILENBQVYsQ0FIeUIseUJBUXpCakQsY0FBSzhCLE9BQUw5QixDQUFhK0IsY0FBYi9CLEVBQ0N5RCxLQUREekQsQ0FDUSxjQUFhdUQsTUFBTyxFQUQ1QnZELEVBRUNpQyxJQUZEakMsQ0FFTWdDLElBRk5oQyxFQUdDbUQsR0FIRG5ELENBR0ssZUFITEEsQ0FHc0IsVUFBWUYsUUFIbENFLEVBSUNrQyxHQUpEbEMsQ0FJSyxDQUFDbUMsR0FBRCxDQUFNQyxRQUFOLEdBQWlCLG1EQUNsQkEsUUFBUSxDQUFDbkMsTUFBVG1DLENBQWdCQyxJQUFoQkQsQ0FBcUJFLE1BQXJCRixDQUE0QixHQUE1QkEsRUFEa0IseUJBRWxCQSxRQUFRLENBQUNHLElBQVRILENBQWNuQyxNQUFkbUMsQ0FBcUJJLEVBQXJCSixDQUF3QkssQ0FBeEJMLENBQTBCLFFBQTFCQSxFQUZrQix5QkFHbEJBLFFBQVEsQ0FBQ0csSUFBVEgsQ0FBY25DLE1BQWRtQyxDQUFxQkMsSUFBckJELENBQTBCTSxRQUExQk4sQ0FBbUMsU0FBbkNBLEVBQThDTyxHQUE5Q1AsQ0FBa0QsNEJBQWxEQSxFQUhrQix5QkFLdEI5QixJQUFJLEdBVEosR0FSRixFQUFGa0IsQ0FEZ0MseUJBc0JoQ0EsRUFBRSxDQUFDLHNEQUFELENBQTBEbEIsSUFBRCxFQUFRLDBCQUUvRCxLQUFNaUQsT0FBTSwyQkFBR3hELEVBQUgsQ0FBWixDQUNBLEtBQU1pQyxLQUFJLDJCQUFHLENBQ1RnQixLQUFLLENBQUUsUUFERSxDQUVUQyxPQUFPLENBQUUsRUFGQSxDQUFILENBQVYsQ0FIK0QseUJBUS9EakQsY0FBSzhCLE9BQUw5QixDQUFhK0IsY0FBYi9CLEVBQ0N5RCxLQUREekQsQ0FDUSxjQUFhdUQsTUFBTyxFQUQ1QnZELEVBRUNpQyxJQUZEakMsQ0FFTWdDLElBRk5oQyxFQUdDbUQsR0FIRG5ELENBR0ssZUFITEEsQ0FHc0IsVUFBWUYsUUFIbENFLEVBSUNrQyxHQUpEbEMsQ0FJSyxDQUFDbUMsR0FBRCxDQUFNQyxRQUFOLEdBQWlCLG1EQUNsQkEsUUFBUSxDQUFDbkMsTUFBVG1DLENBQWdCQyxJQUFoQkQsQ0FBcUJFLE1BQXJCRixDQUE0QixHQUE1QkEsRUFEa0IseUJBRWxCQSxRQUFRLENBQUNHLElBQVRILENBQWNuQyxNQUFkbUMsQ0FBcUJJLEVBQXJCSixDQUF3QkssQ0FBeEJMLENBQTBCLFFBQTFCQSxFQUZrQiwwQkFHbEJBLFFBQVEsQ0FBQ0csSUFBVEgsQ0FBY25DLE1BQWRtQyxDQUFxQkMsSUFBckJELENBQTBCTSxRQUExQk4sQ0FBbUMsU0FBbkNBLEVBQThDTyxHQUE5Q1AsQ0FBa0QsK0JBQWxEQSxFQUhrQiwwQkFLdEI5QixJQUFJLEdBVEosR0FSRixFQUFGa0IsQ0F0QkssRUFBUnBCLENBOENHO0FBQ0o7QUFDQSxLQWhSd0MsMEJBa1J0Q0EsUUFBUSxDQUFDLHVCQUFELENBQTBCLElBQUksb0RBQ2xDc0QsS0FBSyxDQUFDLElBQUksb0RBQ1I5QyxrQkFBU1UsVUFBVFYsQ0FBb0JXLGNBQXBCWCxDQUFtQyxPQUFuQ0EsRUFEUSwwQkFFUkEsa0JBQVNVLFVBQVRWLENBQW9CVyxjQUFwQlgsQ0FBbUMsT0FBbkNBLEVBRkcsRUFBTDhDLENBRGtDLDBCQU9wQ2xDLEVBQUUsQ0FBQyxtQkFBRCxDQUF1QmxCLElBQUQsRUFBUSwwQkFDNUIsS0FBTWlELE9BQU0sNEJBQUd4RCxFQUFILENBQVosQ0FENEIsMEJBRTVCQyxjQUFLOEIsT0FBTDlCLENBQWErQixjQUFiL0IsRUFDQzJELE1BREQzRCxDQUNTLGNBQWF1RCxNQUFPLEVBRDdCdkQsRUFFQ21ELEdBRkRuRCxDQUVLLGVBRkxBLENBRXNCLFVBQVlGLFFBRmxDRSxFQUdDa0MsR0FIRGxDLENBR0ssQ0FBQ21DLEdBQUQsQ0FBTUMsUUFBTixHQUFpQixvREFDbEJBLFFBQVEsQ0FBQ25DLE1BQVRtQyxDQUFnQkMsSUFBaEJELENBQXFCRSxNQUFyQkYsQ0FBNEIsR0FBNUJBLEVBRGtCLDBCQUd0QjlCLElBQUksR0FOSixHQUZGLEVBQUZrQixDQVBvQywwQkFtQnBDQSxFQUFFLENBQUMscURBQUQsQ0FBeURsQixJQUFELEVBQVEsMEJBQzlELEtBQU1pRCxPQUFNLDRCQUFHeEQsRUFBSCxDQUFaLENBRDhELDBCQUU5REMsY0FBSzhCLE9BQUw5QixDQUFhK0IsY0FBYi9CLEVBQ0MyRCxNQUREM0QsQ0FDUyxjQUFhdUQsTUFBTyxFQUQ3QnZELEVBRUNtRCxHQUZEbkQsQ0FFSyxlQUZMQSxDQUVzQixVQUFZRixRQUZsQ0UsRUFHQ2tDLEdBSERsQyxDQUdLLENBQUNtQyxHQUFELENBQU1DLFFBQU4sR0FBaUIsb0RBQ2xCQSxRQUFRLENBQUNuQyxNQUFUbUMsQ0FBZ0JDLElBQWhCRCxDQUFxQkUsTUFBckJGLENBQTRCLEdBQTVCQSxFQURrQiwwQkFFbEJBLFFBQVEsQ0FBQ0csSUFBVEgsQ0FBY25DLE1BQWRtQyxDQUFxQkMsSUFBckJELENBQTBCTSxRQUExQk4sQ0FBbUMsT0FBbkNBLEVBQTRDTyxHQUE1Q1AsQ0FBZ0QscUJBQWhEQSxFQUZrQiwwQkFHdEI5QixJQUFJLEdBTkosR0FGRixFQUFGa0IsQ0FuQk0sRUFBUnBCLENBbFJNLEVBQVJBIiwibmFtZXMiOlsicmVxdWlyZSIsImNvbmZpZyIsInVzZXIiLCJhdXRUb2tlbiIsImlkIiwiY2hhaSIsInNob3VsZCIsInVzZSIsImNoYWlIdHRwIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJkb25lIiwiZGJVUkkiLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUiIsIkRCX1BBU1NXT1JEIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsInJlc3BvbnNldWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJjb25uZWN0aW9uIiwiZHJvcENvbGxlY3Rpb24iLCJpdCIsIm5ld1VzZXIiLCJVc2VyIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicmVxdWVzdCIsInNlcnZlciIsInBvc3QiLCJzZW5kIiwiZW5kIiwiZXJyIiwicmVzcG9uc2UiLCJoYXZlIiwic3RhdHVzIiwiYm9keSIsImJlIiwiYSIsInByb3BlcnR5IiwiZXFsIiwibG9nSW5Vc2VyIiwiVG9rZW4iLCJ1c2VyVG9rZW4iLCJQb3N0IiwidGl0bGUiLCJjb250ZW50Iiwic2F2ZSIsInNldCIsImdldCIsIm1lc3NhZ2UiLCJlcSIsInBvc3RJZCIsInJlc3BvbnNlcG9uc2UiLCJwYXRjaCIsImFmdGVyIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvdGVzdC8iLCJzb3VyY2VzIjpbInBvc3RfdGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGNoYWkgZnJvbSAnY2hhaSc7XG5pbXBvcnQgc2VydmVyIGZyb20gXCIuLi9pbmRleFwiO1xuaW1wb3J0IGNoYWlIdHRwIGZyb20gXCJjaGFpLWh0dHBcIjtcbmltcG9ydCB7UG9zdH0gZnJvbSBcIi4uL21vZGVscy9Qb3N0XCI7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5cbi8vdG8gbW9jayBhIGZ1bmN0aW9uIGR1cmluZyB0ZXN0aW5nXG5pbXBvcnQgc2lub24gZnJvbSAnc2lub24nXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vbW9kZWxzL1VzZXInO1xuXG5sZXQgdXNlciwgYXV0VG9rZW4sIGlkO1xuXG4vL2Fzc2VydGlvbiBzdHlsZVxuY2hhaS5zaG91bGQoKTtcblxuY2hhaS51c2UoY2hhaUh0dHApICBcbiAgICBcbiAgICBcbmRlc2NyaWJlKCdUZXN0IGZvciBQb3N0IEVuZHBvaW50cycsICgpPT57XG4gICAgYmVmb3JlKGZ1bmN0aW9uKGRvbmUpIHtcbiAgICAgICAgLy8gQ29ubmVjdCB0byBNb25nb0RCIGRhdGFiYXNlXG4gICAgY29uc3QgZGJVUkkgPWBtb25nb2RiK3NydjovLyR7cHJvY2Vzcy5lbnYuREJfVVNFUn06JHtwcm9jZXNzLmVudi5EQl9QQVNTV09SRH1Abm9kZS1hcHBsaWNhdGlvbnMuZmU0YXUubW9uZ29kYi5uZXQvbm9kZS10dXRvcmlhbD9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHlgXG4gICAgbW9uZ29vc2UuY29ubmVjdChkYlVSSSx7dXNlTmV3VXJsUGFyc2VyOnRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTp0cnVlfSkudGhlbigocmVzcG9uc2V1bHQpPT57XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEYiBDb25uZWN0ZWQhJylcblxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgIH0pLmNhdGNoKChlcnJvcik9PntcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgICAgICB9KVxuXG5cbiAgICB9KTsgICBcbiAgICBcbiAgICBcbiAgICAvKipcbiAgICAgKiBQT1NUIGEgcG9zdCByb3V0ZVxuICAgICAqL1xuXG5kZXNjcmliZShcIlBPU1QgL2FwaS9wb3N0c1wiLCAoKT0+e1xuICAgIGJlZm9yZSgoKT0+e1xuICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCd1c2VycycpXG4gICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ3Bvc3RzJylcbiAgICB9KVxuICAgXG4gICAgXG5cbiAgICAvLyBjcmVhdGUgdXNlciBhbmQgbG9naW4gXG4gICAgaXQoJ2NyZWF0ZXMgbmV3IHVzZXIgJywgKGRvbmUpPT57XG5cbiAgICAgICAgY29uc3QgbmV3VXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgICAgIHVzZXJuYW1lOlwibWVuYXNlXCIsXG4gICAgICAgICAgICBlbWFpbDpcIm1lbmFzZUBtYWlsLmNvbVwiLFxuICAgICAgICAgICAgcGFzc3dvcmQ6XCJwYXNzd29yZCB0ZXN0XCJcbiAgICAgICBcbiAgICAgICAgfSlcblxuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAucG9zdChcIi9hcGkvdXNlcnNcIilcbiAgICAgICAgLnNlbmQobmV3VXNlcilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwidXNlciBjcmVhdGVkIVwiKTtcbiAgICAgICAgZG9uZSgpOyAgIFxuICAgICAgICB9KVxuICAgIH0pXG5cblxuICAgIC8vIGxvZ2luXG4gICAgY29uc3QgbG9nSW5Vc2VyID0ge1xuICAgICAgICB1c2VybmFtZTonbWVuYXNlJyxcbiAgICAgICAgcGFzc3dvcmQ6J3Bhc3N3b3JkIHRlc3QnXG4gICAgfVxuXG4gICAgaXQoJ2xvZ2luIGEgdXNlcicsIChkb25lKT0+e1xuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAucG9zdCgnL2FwaS91c2Vycy9sb2dpbicpXG4gICAgICAgIC5zZW5kKHt1c2VybmFtZTpsb2dJblVzZXIudXNlcm5hbWUsIHBhc3N3b3JkOmxvZ0luVXNlci5wYXNzd29yZH0pXG4gICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyLCByZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGRvbmUoZXJyKTtcblxuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgIGF1dFRva2VuID0gcmVzcG9uc2UuYm9keS5Ub2tlblxuICAgICAgICAgICAgXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pO1xuXG4gICAgfSlcblxuICAgIGl0KFwiY3JlYXRlcyBhIG5ldyBwb3N0XCIsIChkb25lKT0+e1xuICAgICAgICBjb25zdCB1c2VyVG9rZW4gPSAnQmVhcmVyICcgKyBhdXRUb2tlblxuICAgICAgICBcbiAgICAgICAgY29uc3QgcG9zdCA9IG5ldyBQb3N0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcInVuaXQgdGVzdGluZ1wiLFxuICAgICAgICAgICAgY29udGVudDogXCJJIGFtIHRlc3Rpbmcgbm9kZWpzIGFwaSB1c2luZyBtb2NoYSB3aXRoIGNoYWkgYXNzZXJ0aW9uIGxpYnJhcnlcIlxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG4gICAgICAgIHBvc3Quc2F2ZSgpXG4gICAgICAgIFxuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAucG9zdChcIi9hcGkvcG9zdHNcIilcbiAgICBcbiAgICAgICAgLy9zZXQgdGhlIGF1dGggaGVhZGVyIHdpdGggb3VyIHRva2VuXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLnNlbmQocG9zdClcbiAgICAgICAgLmVuZChmdW5jdGlvbihlcnJvciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiUG9zdCBTYXZlZCBzdWNjZXNzZnVsbHlcIik7XG5cbiAgICAgICAgICAgIGlkPSBwb3N0LmlkXG4gICAgICAgIGRvbmUoKTsgIFxuICAgICAgICB9KTtcbiAgICB9KVxuICAgICAgICBcblxuICAgIGNvbnN0IHVzZXJUb2tlbiA9ICdCZWFyZXIgJyArIGF1dFRva2VuXG5cbiAgICBpdChcImZhaWxzIHRvIGNyZWF0ZSBhIHBvc3QgZHVlIHRvIHVuYXRob3JpemVkIHVzZXJcIiwgKGRvbmUpPT57XG5cbiAgICAgICAgY29uc3QgcG9zdCA9IG5ldyBQb3N0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcImtlemEgdGVzdGluZyBcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwidW5pdCB0ZXN0aW5nIHdpdGggbW9jaGEgYW5kIHVzZXIga2V6YVwiXG4gICAgICAgICAgICBcbiAgICAgICAgfSlcbiAgICAgICAgLy8gcG9zdC5zYXZlKClcbiAgICAgICAgXG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KFwiL2FwaS9wb3N0c1wiKVxuICAgICAgICAuc2VuZChwb3N0KVxuICAgICAgICAvL3NldCB0aGUgYXV0aCBoZWFkZXIgd2l0aCBvdXIgdG9rZW5cbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIHVzZXJUb2tlbilcbiAgICAgICAgLmVuZChmdW5jdGlvbihlcnJvciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDMpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIkludmFsaWQgdG9rZW5cIik7XG4gICAgICAgIGRvbmUoKTsgIFxuICAgICAgICB9KTtcbiAgICAgICBcbiAgICAgICAgXG4gICAgfSkgXG5cbiAgICBpdChcImRvIG5vdCBjcmVhdGUgYSBwb3N0IHdpdGhvdXQgdGl0bGUgYW5kIGNvbnRlbnRcIiwgKGRvbmUpPT57XG5cbiAgICAgICAgY29uc3QgcG9zdCA9IG5ldyBQb3N0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIlwiLFxuICAgICAgICAgICAgY29udGVudDogXCJcIlxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG4gICAgICAgIC8vIHBvc3Quc2F2ZSgpXG4gICAgICAgIFxuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAucG9zdChcIi9hcGkvcG9zdHNcIilcbiAgICBcbiAgICAgICAgLy9zZXQgdGhlIGF1dGggaGVhZGVyIHdpdGggb3VyIHRva2VuXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLnNlbmQocG9zdClcbiAgICAgICAgLmVuZChmdW5jdGlvbihlcnJvciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIlRpdGxlIGFuZCBjb250ZW50IGFyZSByZXF1aXJlZFwiKVxuICAgICAgICBkb25lKCk7ICBcbiAgICAgICAgfSk7XG4gICAgfSlcblxuICAgICAgICBcbn0pIFxuICAgIFxuICAgIFxuICAgIC8qKlxuICAgICAqIHRlc3QgR0VUIHBvc3RzIHJvdXRlXG4gICAgICovXG5cbiAgZGVzY3JpYmUoXCJHRVQgL2FwaS9wb3N0c1wiLCAoKT0+e1xuICAgICAgICBcbiAgICBpdChcInJldHVybnMgYWxsIHBvc3RzXCIsIChkb25lKT0+e1xuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAuZ2V0KFwiL2FwaS9wb3N0c1wiKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5Lm1lc3NhZ2Uuc2hvdWxkLmJlLmVxKFwiRmV0Y2hlZCBzdWNjZXNzZnVsbHlcIilcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgICAgICBcbiAgICB9KVxuXG4gICAgaXQoXCJub3QgcmV0dXJucyBhbGwgcG9zdHNcIiwgKGRvbmUpPT57XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5nZXQoXCIvYXBpL3Bvc3RcIilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgfSlcblxuICAgIFxufSk7XG5cbi8qKlxuICogdGVzdCBHRVQoYnkgaWQpIHBvc3Qgcm91dGVcbiAqL1xuXG5kZXNjcmliZShcIkdFVCAvYXBpL3Bvc3RzLzppZFwiLCAoKT0+e1xuICAgIFxuICAgIGl0KFwicmV0dXJucyBhIHNpbmdsZSBwb3N0XCIsIChkb25lKT0+e1xuICAgICAgICBjb25zdCBwb3N0SWQgPSBpZDtcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLmdldChgL2FwaS9wb3N0cy8ke3Bvc3RJZH1gKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkubWVzc2FnZS5zaG91bGQuYmUuZXEoXCJzdWNjZXNzZnVsbHkgZmV0Y2hlZFwiKVxuICAgICAgICAgICAgXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgfSk7XG5cbiAgICBcbiAgICBpdChcIm5vdCByZXR1cm5zIGEgc2luZ2xlIHBvc3QgYXQgdGhpcyBpZFwiLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgcG9zdElkID0gMTIzNDtcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLmdldChgL2FwaS9wb3N0cy8ke3Bvc3RJZH1gKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZXBvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgcmVzcG9uc2Vwb25zZS5ib2R5LmVycm9yLnNob3VsZC5iZS5lcShcIlBvc3QgZG9lcyBub3QgZXhpc3QhXCIpXG4gICAgICAgICAgICBcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgICAgICBcbiAgICB9KVxufSlcblxuXG5cbiAgICAvKipcbiAgICAgKiBQVVQgYSBwb3N0IHJvdXRlXG4gICAgICovXG5cbiBkZXNjcmliZSgnUFVUIC9hcGkvcG9zdHMvOmlkJywgKCk9PntcbiAgICBpdCgndXBkYXRlcyBhIHBvc3QnLCAoZG9uZSk9PntcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IGlkXG4gICAgICAgIGNvbnN0IHBvc3QgPSB7XG4gICAgICAgICAgICB0aXRsZTogXCJ1bml0IHRlc3RpbmdcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwibW9jaGEgSnMgZnJhbWV3b3JrIGZvciB0ZXN0aW5nXCIsXG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAucGF0Y2goYC9hcGkvcG9zdHMvJHtwb3N0SWR9YClcbiAgICAgICAgLnNlbmQocG9zdClcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJQb3N0IHN1Y2Nlc3NmdWxseSB1cGRhdGVkIVwiKVxuICAgICAgICAgICAgXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ2RvblxcJ3QgdXBkYXRlcyBhIHBvc3Qgd2hlbiB0aXRsZSBvciBjb250ZW50IGlzIGVtcHR5JywgKGRvbmUpPT57XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwb3N0SWQgPSBpZFxuICAgICAgICBjb25zdCBwb3N0ID0ge1xuICAgICAgICAgICAgdGl0bGU6IFwiYXZpY2lpXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBhdGNoKGAvYXBpL3Bvc3RzLyR7cG9zdElkfWApXG4gICAgICAgIC5zZW5kKHBvc3QpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiVGl0bGUgYW5kIGNvbnRlbnQgbmVlZCB2YWx1ZSFcIilcbiAgICAgICAgICAgIFxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgfSlcblxuXG59KVxuXG4gICAgLyoqXG4gICAgICogREVMRVRFIHBvc3Qgcm91dGVcbiAgICAgKi9cblxuICBkZXNjcmliZSgnREVMRVRFIC9hcGkvcG9zdHMvOmlkJywgKCk9PntcbiAgICAgIGFmdGVyKCgpPT57XG4gICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ3VzZXJzJykgXG4gICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ3Bvc3RzJylcbiAgICAgIH0pXG4gICAgXG5cbiAgICBpdCgnSXQgZGVsZXRlcyBhIHBvc3QnLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgcG9zdElkID0gaWQ7XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5kZWxldGUoYC9hcGkvcG9zdHMvJHtwb3N0SWR9YClcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnSXQgc2hvdWxkIG5vdCBkZWxldGUgcG9zdCB0aGF0IGRvZXNuXFwndCBleGlzdCBpbiBEQicsIChkb25lKT0+e1xuICAgICAgICBjb25zdCBwb3N0SWQgPSBpZDtcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLmRlbGV0ZShgL2FwaS9wb3N0cy8ke3Bvc3RJZH1gKVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDA0KTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ2Vycm9yJykuZXFsKFwiUG9zdCBkb2Vzbid0IGV4aXN0IVwiKVxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIFxuXG59KVxuXG59KSJdfQ==