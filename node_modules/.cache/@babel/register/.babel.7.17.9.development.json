{"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/blog_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"// import mongoose from 'mongoose';\n// import chai from 'chai';\n// import server from \"../index\";\n// import chaiHttp from \"chai-http\";\n// import {Post} from \"../models/Post\";\n// require(\"dotenv\").config();\n// //to mock a function during testing\n// import sinon from 'sinon'\n// import { User } from '../models/User';\n// let user, autToken;\n// //assertion style\n// chai.should();\n// chai.use(chaiHttp)\n// describe(\"Test CRUD of Blog\", ()=>{\n//     before(function(done) {\n//         // Connect to MongoDB database\n//     const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n//     mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n//             console.log('Db Connected!')\n//             done();\n//         }).catch((error)=>{\n//             console.log(error)\n//         })\n//     });\n//     /**\n//      * POST like route\n//      */\n//      describe('POST /api/posts/like', ()=>{\n//         it('likes a post on blog', (done)=>{\n//             const like={\n//                 postId:\"625c7165aec6ae2c5160b919\",\n//                 userId:\"625783e613e48cec4a6e5901\"\n//             }\n//             chai.request(server)\n//             .put('/api/posts/like')\n//             .send(like)\n//             .set('Authorization', 'Bearer ' + autToken)\n//             .end((err, response)=>{\n//                 response.should.have.status(200);\n//                 response.body.should.be.a('object');\n//                 response.body.should.have.property('message').eql(\"post liked!\")\n//             })\n//         })\n//     })\n// })\n\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2dfdGVzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0EiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL3Rlc3QvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbi8vIGltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuLy8gaW1wb3J0IHNlcnZlciBmcm9tIFwiLi4vaW5kZXhcIjtcbi8vIGltcG9ydCBjaGFpSHR0cCBmcm9tIFwiY2hhaS1odHRwXCI7XG4vLyBpbXBvcnQge1Bvc3R9IGZyb20gXCIuLi9tb2RlbHMvUG9zdFwiO1xuLy8gcmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxuXG4vLyAvL3RvIG1vY2sgYSBmdW5jdGlvbiBkdXJpbmcgdGVzdGluZ1xuLy8gaW1wb3J0IHNpbm9uIGZyb20gJ3Npbm9uJ1xuLy8gaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uL21vZGVscy9Vc2VyJztcblxuLy8gbGV0IHVzZXIsIGF1dFRva2VuO1xuXG4vLyAvL2Fzc2VydGlvbiBzdHlsZVxuLy8gY2hhaS5zaG91bGQoKTtcblxuLy8gY2hhaS51c2UoY2hhaUh0dHApXG5cbi8vIGRlc2NyaWJlKFwiVGVzdCBDUlVEIG9mIEJsb2dcIiwgKCk9Pntcbi8vICAgICBiZWZvcmUoZnVuY3Rpb24oZG9uZSkge1xuLy8gICAgICAgICAvLyBDb25uZWN0IHRvIE1vbmdvREIgZGF0YWJhc2Vcbi8vICAgICBjb25zdCBkYlVSSSA9YG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSfToke3Byb2Nlc3MuZW52LkRCX1BBU1NXT1JEfUBub2RlLWFwcGxpY2F0aW9ucy5mZTRhdS5tb25nb2RiLm5ldC9ub2RlLXR1dG9yaWFsP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWBcbi8vICAgICBtb25nb29zZS5jb25uZWN0KGRiVVJJLHt1c2VOZXdVcmxQYXJzZXI6dHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OnRydWV9KS50aGVuKChyZXNwb25zZXVsdCk9PntcblxuLy8gICAgICAgICAgICAgY29uc29sZS5sb2coJ0RiIENvbm5lY3RlZCEnKVxuXG4vLyAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICBcbi8vICAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuLy8gICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4vLyAgICAgICAgIH0pXG5cblxuLy8gICAgIH0pO1xuXG5cbi8vICAgICAvKipcbi8vICAgICAgKiBQT1NUIGxpa2Ugcm91dGVcbi8vICAgICAgKi9cblxuLy8gICAgICBkZXNjcmliZSgnUE9TVCAvYXBpL3Bvc3RzL2xpa2UnLCAoKT0+e1xuLy8gICAgICAgICBpdCgnbGlrZXMgYSBwb3N0IG9uIGJsb2cnLCAoZG9uZSk9Pntcbi8vICAgICAgICAgICAgIGNvbnN0IGxpa2U9e1xuLy8gICAgICAgICAgICAgICAgIHBvc3RJZDpcIjYyNWM3MTY1YWVjNmFlMmM1MTYwYjkxOVwiLFxuLy8gICAgICAgICAgICAgICAgIHVzZXJJZDpcIjYyNTc4M2U2MTNlNDhjZWM0YTZlNTkwMVwiXG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuLy8gICAgICAgICAgICAgLnB1dCgnL2FwaS9wb3N0cy9saWtlJylcbi8vICAgICAgICAgICAgIC5zZW5kKGxpa2UpXG4vLyAgICAgICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4vLyAgICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuLy8gICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuLy8gICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuLy8gICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJwb3N0IGxpa2VkIVwiKVxuLy8gICAgICAgICAgICAgfSlcbi8vICAgICAgICAgfSlcbi8vICAgICB9KVxuXG5cbi8vIH0pXG5cblxuIl19","map":{"version":3,"sources":["blog_test.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAGA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["// import mongoose from 'mongoose';\n// import chai from 'chai';\n// import server from \"../index\";\n// import chaiHttp from \"chai-http\";\n// import {Post} from \"../models/Post\";\n// require(\"dotenv\").config();\n\n\n// //to mock a function during testing\n// import sinon from 'sinon'\n// import { User } from '../models/User';\n\n// let user, autToken;\n\n// //assertion style\n// chai.should();\n\n// chai.use(chaiHttp)\n\n// describe(\"Test CRUD of Blog\", ()=>{\n//     before(function(done) {\n//         // Connect to MongoDB database\n//     const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n//     mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n//             console.log('Db Connected!')\n\n//             done();\n            \n//         }).catch((error)=>{\n//             console.log(error)\n//         })\n\n\n//     });\n\n\n//     /**\n//      * POST like route\n//      */\n\n//      describe('POST /api/posts/like', ()=>{\n//         it('likes a post on blog', (done)=>{\n//             const like={\n//                 postId:\"625c7165aec6ae2c5160b919\",\n//                 userId:\"625783e613e48cec4a6e5901\"\n//             }\n//             chai.request(server)\n//             .put('/api/posts/like')\n//             .send(like)\n//             .set('Authorization', 'Bearer ' + autToken)\n//             .end((err, response)=>{\n//                 response.should.have.status(200);\n//                 response.body.should.be.a('object');\n//                 response.body.should.have.property('message').eql(\"post liked!\")\n//             })\n//         })\n//     })\n\n\n// })\n\n\n"]}},"mtime":1650365209081},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _swaggerUiExpress = _interopRequireDefault(require(\"swagger-ui-express\"));\n\nvar _swagger = _interopRequireDefault(require(\"../swagger.json\"));\n\nvar _mongoose = require(\"mongoose\");\n\nvar _PostRoutes = _interopRequireDefault(require(\"./routes/PostRoutes\"));\n\nvar _UserRoutes = _interopRequireDefault(require(\"./routes/UserRoutes\"));\n\nvar _MessageRoutes = _interopRequireDefault(require(\"./routes/MessageRoutes\"));\n\nvar _CommentRoutes = _interopRequireDefault(require(\"./routes/CommentRoutes\"));\n\nvar _LikeRoutes = _interopRequireDefault(require(\"./routes/LikeRoutes\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config();\n\n//creating express app\nconst app = (0, _express.default)();\nconst port = process.env.PORT || 3000; // allow to pass json into body\n\napp.use(_express.default.json()); //routing routes\n\napp.use(\"/api\", _PostRoutes.default);\napp.use(\"/api\", _UserRoutes.default);\napp.use(\"/api\", _MessageRoutes.default);\napp.use(\"/api\", _CommentRoutes.default);\napp.use(\"/api\", _LikeRoutes.default); //swagger documentation\n\napp.use((0, _morgan.default)(\"dev\"));\napp.use(\"/api/\", _PostRoutes.default, _UserRoutes.default, _MessageRoutes.default, _CommentRoutes.default, _LikeRoutes.default); // set swagger doc as default route\n\napp.use(\"/api-docs\", _swaggerUiExpress.default.serve, _swaggerUiExpress.default.setup(_swagger.default, {\n  explorer: true\n})); // app.use(\"*\", (req, res, next) => {\n// \tres.status(404).json({\n// \t\terror: \"NOT FOUND\",\n// \t});\n// \tnext()\n// });\n//serve static images\n\napp.use(\"/poster\", _express.default.static(\"uploads/blog/images\"));\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use((0, _cors.default)()); // Connect to MongoDB database\n\nconst dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n_mongoose.mongoose.connect(dbURI, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(result => {\n  console.log('Db Connected!');\n}).catch(error => {\n  console.log(error);\n}); //listening to the request on server\n\n\nvar _default = app.listen(port, () => {\n  console.log('Server started listening on ' + port);\n});\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJhcHAiLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJ1c2UiLCJleHByZXNzIiwianNvbiIsInJvdXRlcyIsInVzZXJyb3V0ZXMiLCJjb250YWN0cm91dGVzIiwiY29tbWVudHJvdXRlcyIsImxpa2Vyb3V0ZXMiLCJzd2FnZ2VyVUkiLCJzZXJ2ZSIsInNldHVwIiwic3dhZ2dlckRvYyIsImV4cGxvcmVyIiwic3RhdGljIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiZGJVUkkiLCJEQl9VU0VSIiwiREJfUEFTU1dPUkQiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJsaXN0ZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFHQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQVZBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFZQTtBQUNBLE1BQU1DLEdBQUcsR0FBRSx1QkFBWDtBQUVBLE1BQU1DLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFBakMsQyxDQUVBOztBQUNBSixHQUFHLENBQUNLLEdBQUosQ0FBUUMsaUJBQVFDLElBQVIsRUFBUixFLENBSUE7O0FBQ0FQLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLE1BQVIsRUFBZ0JHLG1CQUFoQjtBQUNBUixHQUFHLENBQUNLLEdBQUosQ0FBUSxNQUFSLEVBQWdCSSxtQkFBaEI7QUFDQVQsR0FBRyxDQUFDSyxHQUFKLENBQVEsTUFBUixFQUFnQkssc0JBQWhCO0FBQ0FWLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLE1BQVIsRUFBZ0JNLHNCQUFoQjtBQUNBWCxHQUFHLENBQUNLLEdBQUosQ0FBUSxNQUFSLEVBQWdCTyxtQkFBaEIsRSxDQUdBOztBQUNBWixHQUFHLENBQUNLLEdBQUosQ0FBUSxxQkFBTyxLQUFQLENBQVI7QUFDQUwsR0FBRyxDQUFDSyxHQUFKLENBQVEsT0FBUixFQUFpQkcsbUJBQWpCLEVBQXlCQyxtQkFBekIsRUFBcUNDLHNCQUFyQyxFQUFvREMsc0JBQXBELEVBQW1FQyxtQkFBbkUsRSxDQUVBOztBQUNBWixHQUFHLENBQUNLLEdBQUosQ0FDQyxXQURELEVBRUNRLDBCQUFVQyxLQUZYLEVBR0NELDBCQUFVRSxLQUFWLENBQWdCQyxnQkFBaEIsRUFBNEI7QUFBRUMsRUFBQUEsUUFBUSxFQUFFO0FBQVosQ0FBNUIsQ0FIRCxFLENBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7O0FBQ0FqQixHQUFHLENBQUNLLEdBQUosQ0FBUSxTQUFSLEVBQW1CQyxpQkFBUVksTUFBUixDQUFlLHFCQUFmLENBQW5CO0FBRUFsQixHQUFHLENBQUNLLEdBQUosQ0FBUUMsaUJBQVFhLFVBQVIsQ0FBbUI7QUFBQ0MsRUFBQUEsUUFBUSxFQUFDO0FBQVYsQ0FBbkIsQ0FBUjtBQUVBcEIsR0FBRyxDQUFDSyxHQUFKLENBQVEsb0JBQVIsRSxDQUdBOztBQUNBLE1BQU1nQixLQUFLLEdBQUcsaUJBQWdCbkIsT0FBTyxDQUFDQyxHQUFSLENBQVltQixPQUFRLElBQUdwQixPQUFPLENBQUNDLEdBQVIsQ0FBWW9CLFdBQVksZ0ZBQTdFOztBQUNBQyxtQkFBU0MsT0FBVCxDQUFpQkosS0FBakIsRUFBdUI7QUFBQ0ssRUFBQUEsZUFBZSxFQUFDLElBQWpCO0FBQXVCQyxFQUFBQSxrQkFBa0IsRUFBQztBQUExQyxDQUF2QixFQUF3RUMsSUFBeEUsQ0FBOEVDLE1BQUQsSUFBVTtBQUUvRUMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWjtBQUVILENBSkwsRUFJT0MsS0FKUCxDQUljQyxLQUFELElBQVM7QUFDZEgsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlFLEtBQVo7QUFDSCxDQU5MLEUsQ0FRQTs7O2VBQ2VqQyxHQUFHLENBQUNrQyxNQUFKLENBQVdqQyxJQUFYLEVBQWlCLE1BQUk7QUFDaEM2QixFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxpQ0FBaUM5QixJQUE3QztBQUVILENBSGMsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnXG5pbXBvcnQgbW9yZ2FuIGZyb20gXCJtb3JnYW5cIjtcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5pbXBvcnQgc3dhZ2dlclVJIGZyb20gJ3N3YWdnZXItdWktZXhwcmVzcydcbmltcG9ydCBzd2FnZ2VyRG9jIGZyb20gXCIuLi9zd2FnZ2VyLmpzb25cIjtcbmltcG9ydCB7bW9uZ29vc2V9IGZyb20gJ21vbmdvb3NlJ1xuXG4vLyBnZXR0aW5nIHJvdXRlc1xuaW1wb3J0IHJvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvUG9zdFJvdXRlc1wiXG5pbXBvcnQgdXNlcnJvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvVXNlclJvdXRlc1wiXG5pbXBvcnQgY29udGFjdHJvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvTWVzc2FnZVJvdXRlc1wiXG5pbXBvcnQgY29tbWVudHJvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvQ29tbWVudFJvdXRlc1wiXG5pbXBvcnQgbGlrZXJvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvTGlrZVJvdXRlc1wiXG5cbi8vY3JlYXRpbmcgZXhwcmVzcyBhcHBcbmNvbnN0IGFwcCA9ZXhwcmVzcygpO1xuXG5jb25zdCBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAwXG5cbi8vIGFsbG93IHRvIHBhc3MganNvbiBpbnRvIGJvZHlcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuXG5cblxuLy9yb3V0aW5nIHJvdXRlc1xuYXBwLnVzZShcIi9hcGlcIiwgcm91dGVzKTtcbmFwcC51c2UoXCIvYXBpXCIsIHVzZXJyb3V0ZXMpO1xuYXBwLnVzZShcIi9hcGlcIiwgY29udGFjdHJvdXRlcyk7XG5hcHAudXNlKFwiL2FwaVwiLCBjb21tZW50cm91dGVzKTtcbmFwcC51c2UoXCIvYXBpXCIsIGxpa2Vyb3V0ZXMpO1xuXG5cbi8vc3dhZ2dlciBkb2N1bWVudGF0aW9uXG5hcHAudXNlKG1vcmdhbihcImRldlwiKSk7XG5hcHAudXNlKFwiL2FwaS9cIiwgcm91dGVzLCB1c2Vycm91dGVzLCBjb250YWN0cm91dGVzLCBjb21tZW50cm91dGVzLCBsaWtlcm91dGVzKTtcblxuLy8gc2V0IHN3YWdnZXIgZG9jIGFzIGRlZmF1bHQgcm91dGVcbmFwcC51c2UoXG5cdFwiL2FwaS1kb2NzXCIsXG5cdHN3YWdnZXJVSS5zZXJ2ZSxcblx0c3dhZ2dlclVJLnNldHVwKHN3YWdnZXJEb2MsIHsgZXhwbG9yZXI6IHRydWUgfSlcbik7XG5cbi8vIGFwcC51c2UoXCIqXCIsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuLy8gXHRyZXMuc3RhdHVzKDQwNCkuanNvbih7XG4vLyBcdFx0ZXJyb3I6IFwiTk9UIEZPVU5EXCIsXG4vLyBcdH0pO1xuLy8gXHRuZXh0KClcbi8vIH0pO1xuXG5cbi8vc2VydmUgc3RhdGljIGltYWdlc1xuYXBwLnVzZShcIi9wb3N0ZXJcIiwgZXhwcmVzcy5zdGF0aWMoXCJ1cGxvYWRzL2Jsb2cvaW1hZ2VzXCIpKVxuXG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7ZXh0ZW5kZWQ6dHJ1ZX0pKVxuXG5hcHAudXNlKGNvcnMoKSlcblxuXG4vLyBDb25uZWN0IHRvIE1vbmdvREIgZGF0YWJhc2VcbmNvbnN0IGRiVVJJID1gbW9uZ29kYitzcnY6Ly8ke3Byb2Nlc3MuZW52LkRCX1VTRVJ9OiR7cHJvY2Vzcy5lbnYuREJfUEFTU1dPUkR9QG5vZGUtYXBwbGljYXRpb25zLmZlNGF1Lm1vbmdvZGIubmV0L25vZGUtdHV0b3JpYWw/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5YFxubW9uZ29vc2UuY29ubmVjdChkYlVSSSx7dXNlTmV3VXJsUGFyc2VyOnRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTp0cnVlfSkudGhlbigocmVzdWx0KT0+e1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdEYiBDb25uZWN0ZWQhJylcblx0XHRcbiAgICB9KS5jYXRjaCgoZXJyb3IpPT57XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgIH0pXG4gICAgXG4vL2xpc3RlbmluZyB0byB0aGUgcmVxdWVzdCBvbiBzZXJ2ZXJcbmV4cG9ydCBkZWZhdWx0IGFwcC5saXN0ZW4ocG9ydCwgKCk9PntcbiAgICBjb25zb2xlLmxvZygnU2VydmVyIHN0YXJ0ZWQgbGlzdGVuaW5nIG9uICcgKyBwb3J0KVxuICBcbn0pOyAgICAiXX0=","map":{"version":3,"sources":["index.js"],"names":["require","config","app","port","process","env","PORT","use","express","json","routes","userroutes","contactroutes","commentroutes","likeroutes","swaggerUI","serve","setup","swaggerDoc","explorer","static","urlencoded","extended","dbURI","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","result","console","log","catch","error","listen"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAGA;;AACA;;AACA;;AACA;;AACA;;;;AAVAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAYA;AACA,MAAMC,GAAG,GAAE,uBAAX;AAEA,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC,C,CAEA;;AACAJ,GAAG,CAACK,GAAJ,CAAQC,iBAAQC,IAAR,EAAR,E,CAIA;;AACAP,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBG,mBAAhB;AACAR,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBI,mBAAhB;AACAT,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBK,sBAAhB;AACAV,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBM,sBAAhB;AACAX,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBO,mBAAhB,E,CAGA;;AACAZ,GAAG,CAACK,GAAJ,CAAQ,qBAAO,KAAP,CAAR;AACAL,GAAG,CAACK,GAAJ,CAAQ,OAAR,EAAiBG,mBAAjB,EAAyBC,mBAAzB,EAAqCC,sBAArC,EAAoDC,sBAApD,EAAmEC,mBAAnE,E,CAEA;;AACAZ,GAAG,CAACK,GAAJ,CACC,WADD,EAECQ,0BAAUC,KAFX,EAGCD,0BAAUE,KAAV,CAAgBC,gBAAhB,EAA4B;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAA5B,CAHD,E,CAMA;AACA;AACA;AACA;AACA;AACA;AAGA;;AACAjB,GAAG,CAACK,GAAJ,CAAQ,SAAR,EAAmBC,iBAAQY,MAAR,CAAe,qBAAf,CAAnB;AAEAlB,GAAG,CAACK,GAAJ,CAAQC,iBAAQa,UAAR,CAAmB;AAACC,EAAAA,QAAQ,EAAC;AAAV,CAAnB,CAAR;AAEApB,GAAG,CAACK,GAAJ,CAAQ,oBAAR,E,CAGA;;AACA,MAAMgB,KAAK,GAAG,iBAAgBnB,OAAO,CAACC,GAAR,CAAYmB,OAAQ,IAAGpB,OAAO,CAACC,GAAR,CAAYoB,WAAY,gFAA7E;;AACAC,mBAASC,OAAT,CAAiBJ,KAAjB,EAAuB;AAACK,EAAAA,eAAe,EAAC,IAAjB;AAAuBC,EAAAA,kBAAkB,EAAC;AAA1C,CAAvB,EAAwEC,IAAxE,CAA8EC,MAAD,IAAU;AAE/EC,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AAEH,CAJL,EAIOC,KAJP,CAIcC,KAAD,IAAS;AACdH,EAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,CANL,E,CAQA;;;eACejC,GAAG,CAACkC,MAAJ,CAAWjC,IAAX,EAAiB,MAAI;AAChC6B,EAAAA,OAAO,CAACC,GAAR,CAAY,iCAAiC9B,IAA7C;AAEH,CAHc,C","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/","sourcesContent":["import express from 'express'\nimport cors from 'cors'\nimport morgan from \"morgan\";\nrequire(\"dotenv\").config();\nimport swaggerUI from 'swagger-ui-express'\nimport swaggerDoc from \"../swagger.json\";\nimport {mongoose} from 'mongoose'\n\n// getting routes\nimport routes from \"./routes/PostRoutes\"\nimport userroutes from \"./routes/UserRoutes\"\nimport contactroutes from \"./routes/MessageRoutes\"\nimport commentroutes from \"./routes/CommentRoutes\"\nimport likeroutes from \"./routes/LikeRoutes\"\n\n//creating express app\nconst app =express();\n\nconst port = process.env.PORT || 3000\n\n// allow to pass json into body\napp.use(express.json());\n\n\n\n//routing routes\napp.use(\"/api\", routes);\napp.use(\"/api\", userroutes);\napp.use(\"/api\", contactroutes);\napp.use(\"/api\", commentroutes);\napp.use(\"/api\", likeroutes);\n\n\n//swagger documentation\napp.use(morgan(\"dev\"));\napp.use(\"/api/\", routes, userroutes, contactroutes, commentroutes, likeroutes);\n\n// set swagger doc as default route\napp.use(\n\t\"/api-docs\",\n\tswaggerUI.serve,\n\tswaggerUI.setup(swaggerDoc, { explorer: true })\n);\n\n// app.use(\"*\", (req, res, next) => {\n// \tres.status(404).json({\n// \t\terror: \"NOT FOUND\",\n// \t});\n// \tnext()\n// });\n\n\n//serve static images\napp.use(\"/poster\", express.static(\"uploads/blog/images\"))\n\napp.use(express.urlencoded({extended:true}))\n\napp.use(cors())\n\n\n// Connect to MongoDB database\nconst dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\nmongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((result)=>{\n\n        console.log('Db Connected!')\n\t\t\n    }).catch((error)=>{\n        console.log(error)\n    })\n    \n//listening to the request on server\nexport default app.listen(port, ()=>{\n    console.log('Server started listening on ' + port)\n  \n});    "]}},"mtime":1650899354888},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/PostRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _uploadConfig = _interopRequireDefault(require(\"../uploadConfig\"));\n\nvar _AuthenticateToken = require(\"../AuthMiddleWare/AuthenticateToken\");\n\nvar _postControllers = require(\"../controllers/postControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n// Get all posts\nrouter.get(\"/posts\", _postControllers.post_get_all); // create post\n\nrouter.post(\"/posts\", _AuthenticateToken.authenticateToken, _uploadConfig.default.single('poster'), _postControllers.post_create); // getting individual post\n\nrouter.get(\"/posts/:id\", _AuthenticateToken.authenticateToken, _postControllers.post_get_one); // updating post\n\nrouter.patch(\"/posts/:id\", _AuthenticateToken.authenticateToken, _uploadConfig.default.single('poster'), _postControllers.post_update); // delete post\n\nrouter.delete(\"/posts/:id\", _AuthenticateToken.authenticateToken, _postControllers.post_delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBvc3RSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInBvc3RfZ2V0X2FsbCIsInBvc3QiLCJhdXRoZW50aWNhdGVUb2tlbiIsInVwbG9hZCIsInNpbmdsZSIsInBvc3RfY3JlYXRlIiwicG9zdF9nZXRfb25lIiwicGF0Y2giLCJwb3N0X3VwZGF0ZSIsImRlbGV0ZSIsInBvc3RfZGVsZXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBSUE7O0FBRUE7O0FBRUE7Ozs7QUFOQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBU0E7QUFDQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsUUFBWCxFQUFzQkMsNkJBQXRCLEUsQ0FFQTs7QUFDQUosTUFBTSxDQUFDSyxJQUFQLENBQVksUUFBWixFQUFzQkMsb0NBQXRCLEVBQXlDQyxzQkFBT0MsTUFBUCxDQUFjLFFBQWQsQ0FBekMsRUFBbUVDLDRCQUFuRSxFLENBRUE7O0FBQ0FULE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFlBQVgsRUFBeUJHLG9DQUF6QixFQUE0Q0ksNkJBQTVDLEUsQ0FFQTs7QUFDQVYsTUFBTSxDQUFDVyxLQUFQLENBQWEsWUFBYixFQUEyQkwsb0NBQTNCLEVBQThDQyxzQkFBT0MsTUFBUCxDQUFjLFFBQWQsQ0FBOUMsRUFBdUVJLDRCQUF2RSxFLENBRUE7O0FBQ0FaLE1BQU0sQ0FBQ2EsTUFBUCxDQUFjLFlBQWQsRUFBNEJQLG9DQUE1QixFQUErQ1EsNEJBQS9DO2VBS2VkLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuaW1wb3J0IHVwbG9hZCBmcm9tICcuLi91cGxvYWRDb25maWcnO1xuXG5pbXBvcnQge2F1dGhlbnRpY2F0ZVRva2VufSBmcm9tIFwiLi4vQXV0aE1pZGRsZVdhcmUvQXV0aGVudGljYXRlVG9rZW5cIlxuXG5pbXBvcnQge3Bvc3RfZ2V0X2FsbCwgcG9zdF9jcmVhdGUsIHBvc3RfZ2V0X29uZSwgcG9zdF91cGRhdGUsIHBvc3RfZGVsZXRlfSBmcm9tICcuLi9jb250cm9sbGVycy9wb3N0Q29udHJvbGxlcnMnXG5cblxuLy8gR2V0IGFsbCBwb3N0c1xucm91dGVyLmdldChcIi9wb3N0c1wiLCAgcG9zdF9nZXRfYWxsKTtcblxuLy8gY3JlYXRlIHBvc3RcbnJvdXRlci5wb3N0KFwiL3Bvc3RzXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCB1cGxvYWQuc2luZ2xlKCdwb3N0ZXInKSwgIHBvc3RfY3JlYXRlKTtcblxuLy8gZ2V0dGluZyBpbmRpdmlkdWFsIHBvc3RcbnJvdXRlci5nZXQoXCIvcG9zdHMvOmlkXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBwb3N0X2dldF9vbmUpXG5cbi8vIHVwZGF0aW5nIHBvc3RcbnJvdXRlci5wYXRjaChcIi9wb3N0cy86aWRcIiwgYXV0aGVudGljYXRlVG9rZW4sIHVwbG9hZC5zaW5nbGUoJ3Bvc3RlcicpLCBwb3N0X3VwZGF0ZSlcblxuLy8gZGVsZXRlIHBvc3RcbnJvdXRlci5kZWxldGUoXCIvcG9zdHMvOmlkXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBwb3N0X2RlbGV0ZSlcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iXX0=","map":{"version":3,"sources":["PostRoutes.js"],"names":["router","express","Router","get","post_get_all","post","authenticateToken","upload","single","post_create","post_get_one","patch","post_update","delete","post_delete"],"mappings":";;;;;;;AAAA;;AAIA;;AAEA;;AAEA;;;;AANA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AASA;AACAF,MAAM,CAACG,GAAP,CAAW,QAAX,EAAsBC,6BAAtB,E,CAEA;;AACAJ,MAAM,CAACK,IAAP,CAAY,QAAZ,EAAsBC,oCAAtB,EAAyCC,sBAAOC,MAAP,CAAc,QAAd,CAAzC,EAAmEC,4BAAnE,E,CAEA;;AACAT,MAAM,CAACG,GAAP,CAAW,YAAX,EAAyBG,oCAAzB,EAA4CI,6BAA5C,E,CAEA;;AACAV,MAAM,CAACW,KAAP,CAAa,YAAb,EAA2BL,oCAA3B,EAA8CC,sBAAOC,MAAP,CAAc,QAAd,CAA9C,EAAuEI,4BAAvE,E,CAEA;;AACAZ,MAAM,CAACa,MAAP,CAAc,YAAd,EAA4BP,oCAA5B,EAA+CQ,4BAA/C;eAKed,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport upload from '../uploadConfig';\n\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\"\n\nimport {post_get_all, post_create, post_get_one, post_update, post_delete} from '../controllers/postControllers'\n\n\n// Get all posts\nrouter.get(\"/posts\",  post_get_all);\n\n// create post\nrouter.post(\"/posts\", authenticateToken, upload.single('poster'),  post_create);\n\n// getting individual post\nrouter.get(\"/posts/:id\", authenticateToken, post_get_one)\n\n// updating post\nrouter.patch(\"/posts/:id\", authenticateToken, upload.single('poster'), post_update)\n\n// delete post\nrouter.delete(\"/posts/:id\", authenticateToken, post_delete)\n\n\n\n\nexport default router\n"]}},"mtime":1650959699221},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/uploadConfig.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//storage engine\nconst storage = _multer.default.diskStorage({\n  destination: './uploads/blog/images',\n  filename: (req, file, cb) => {\n    return cb(null, `${file.fieldname}_${Date.now()}${_path.default.extname(file.originalname)}`);\n  }\n}); //upload image\n\n\nconst upload = (0, _multer.default)({\n  storage: storage\n}); // app.post('/upload', upload.single('poster'), (req, res)=>{\n// \tres.json({\n//         success:1,\n//         posterUrl:`http://localhost:3000/poster/${req.file.filename}`\n//     })\n// })    \n\nvar _default = upload;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZENvbmZpZy5qcyJdLCJuYW1lcyI6WyJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsImZpbGVuYW1lIiwicmVxIiwiZmlsZSIsImNiIiwiZmllbGRuYW1lIiwiRGF0ZSIsIm5vdyIsInBhdGgiLCJleHRuYW1lIiwib3JpZ2luYWxuYW1lIiwidXBsb2FkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFHQTtBQUNBLE1BQU1BLE9BQU8sR0FBR0MsZ0JBQU9DLFdBQVAsQ0FBbUI7QUFDL0JDLEVBQUFBLFdBQVcsRUFBQyx1QkFEbUI7QUFFL0JDLEVBQUFBLFFBQVEsRUFBQyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixLQUFpQjtBQUN0QixXQUFPQSxFQUFFLENBQUMsSUFBRCxFQUFRLEdBQUVELElBQUksQ0FBQ0UsU0FBVSxJQUFHQyxJQUFJLENBQUNDLEdBQUwsRUFBVyxHQUFFQyxjQUFLQyxPQUFMLENBQWFOLElBQUksQ0FBQ08sWUFBbEIsQ0FBZ0MsRUFBekUsQ0FBVDtBQUNIO0FBSjhCLENBQW5CLENBQWhCLEMsQ0FRQTs7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHLHFCQUFPO0FBQ3JCZCxFQUFBQSxPQUFPLEVBQUNBO0FBRGEsQ0FBUCxDQUFmLEMsQ0FLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O2VBRWVjLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5cbi8vc3RvcmFnZSBlbmdpbmVcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xuICAgIGRlc3RpbmF0aW9uOicuL3VwbG9hZHMvYmxvZy9pbWFnZXMnLFxuICAgIGZpbGVuYW1lOihyZXEsIGZpbGUsIGNiKT0+e1xuICAgICAgICByZXR1cm4gY2IobnVsbCwgYCR7ZmlsZS5maWVsZG5hbWV9XyR7RGF0ZS5ub3coKX0ke3BhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsbmFtZSl9YClcbiAgICB9XG4gICAgXG59KVxuXG4vL3VwbG9hZCBpbWFnZVxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHtcblx0c3RvcmFnZTpzdG9yYWdlXG59KVxuXG5cbi8vIGFwcC5wb3N0KCcvdXBsb2FkJywgdXBsb2FkLnNpbmdsZSgncG9zdGVyJyksIChyZXEsIHJlcyk9Pntcbi8vIFx0cmVzLmpzb24oe1xuLy8gICAgICAgICBzdWNjZXNzOjEsXG4vLyAgICAgICAgIHBvc3RlclVybDpgaHR0cDovL2xvY2FsaG9zdDozMDAwL3Bvc3Rlci8ke3JlcS5maWxlLmZpbGVuYW1lfWBcbi8vICAgICB9KVxuLy8gfSkgICAgXG5cbmV4cG9ydCBkZWZhdWx0IHVwbG9hZCJdfQ==","map":{"version":3,"sources":["uploadConfig.js"],"names":["storage","multer","diskStorage","destination","filename","req","file","cb","fieldname","Date","now","path","extname","originalname","upload"],"mappings":";;;;;;;AAAA;;AACA;;;;AAGA;AACA,MAAMA,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,EAAC,uBADmB;AAE/BC,EAAAA,QAAQ,EAAC,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAiB;AACtB,WAAOA,EAAE,CAAC,IAAD,EAAQ,GAAED,IAAI,CAACE,SAAU,IAAGC,IAAI,CAACC,GAAL,EAAW,GAAEC,cAAKC,OAAL,CAAaN,IAAI,CAACO,YAAlB,CAAgC,EAAzE,CAAT;AACH;AAJ8B,CAAnB,CAAhB,C,CAQA;;;AACA,MAAMC,MAAM,GAAG,qBAAO;AACrBd,EAAAA,OAAO,EAACA;AADa,CAAP,CAAf,C,CAKA;AACA;AACA;AACA;AACA;AACA;;eAEec,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/","sourcesContent":["import multer from 'multer';\nimport path from 'path';\n\n\n//storage engine\nconst storage = multer.diskStorage({\n    destination:'./uploads/blog/images',\n    filename:(req, file, cb)=>{\n        return cb(null, `${file.fieldname}_${Date.now()}${path.extname(file.originalname)}`)\n    }\n    \n})\n\n//upload image\nconst upload = multer({\n\tstorage:storage\n})\n\n\n// app.post('/upload', upload.single('poster'), (req, res)=>{\n// \tres.json({\n//         success:1,\n//         posterUrl:`http://localhost:3000/poster/${req.file.filename}`\n//     })\n// })    \n\nexport default upload"]}},"mtime":1650892599163},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/AuthMiddleWare/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/AuthMiddleWare/AuthenticateToken.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.authenticateToken = authenticateToken;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction authenticateToken(req, res, next) {\n  const authHeader = req.headers['authorization'];\n  const token = authHeader && authHeader.split(' ')[1];\n  if (token == null) return res.status(401).json({\n    message: 'Token is required'\n  });\n\n  _jsonwebtoken.default.verify(token, process.env.ACCESS_TOKEN_SECRET, (error, user) => {\n    // console.log(error.message)\n    if (error) return res.status(403).json({\n      message: \"Invalid Token\"\n    });\n    req.user = user;\n    next();\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1dGhlbnRpY2F0ZVRva2VuLmpzIl0sIm5hbWVzIjpbImF1dGhlbnRpY2F0ZVRva2VuIiwicmVxIiwicmVzIiwibmV4dCIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwidG9rZW4iLCJzcGxpdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiand0IiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIkFDQ0VTU19UT0tFTl9TRUNSRVQiLCJlcnJvciIsInVzZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUdPLFNBQVNBLGlCQUFULENBQTJCQyxHQUEzQixFQUFnQ0MsR0FBaEMsRUFBcUNDLElBQXJDLEVBQTBDO0FBQ2hELFFBQU1DLFVBQVUsR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVksZUFBWixDQUFuQjtBQUNBLFFBQU1DLEtBQUssR0FBR0YsVUFBVSxJQUFJQSxVQUFVLENBQUNHLEtBQVgsQ0FBaUIsR0FBakIsRUFBc0IsQ0FBdEIsQ0FBNUI7QUFDQSxNQUFHRCxLQUFLLElBQUksSUFBWixFQUFrQixPQUFPSixHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxJQUFBQSxPQUFPLEVBQUM7QUFBVCxHQUFyQixDQUFQOztBQUVsQkMsd0JBQUlDLE1BQUosQ0FBV04sS0FBWCxFQUFrQk8sT0FBTyxDQUFDQyxHQUFSLENBQVlDLG1CQUE5QixFQUFtRCxDQUFDQyxLQUFELEVBQVFDLElBQVIsS0FBZTtBQUNqRTtBQUVBLFFBQUdELEtBQUgsRUFBVSxPQUFPZCxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxPQUFPLEVBQUM7QUFBVCxLQUFyQixDQUFQO0FBRVZULElBQUFBLEdBQUcsQ0FBQ2dCLElBQUosR0FBV0EsSUFBWDtBQUVBZCxJQUFBQSxJQUFJO0FBQ0osR0FSRDtBQVNBIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9BdXRoTWlkZGxlV2FyZS8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcblxuXG5leHBvcnQgZnVuY3Rpb24gYXV0aGVudGljYXRlVG9rZW4ocmVxLCByZXMsIG5leHQpe1xuXHRjb25zdCBhdXRoSGVhZGVyID0gcmVxLmhlYWRlcnNbJ2F1dGhvcml6YXRpb24nXVxuXHRjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIgJiYgYXV0aEhlYWRlci5zcGxpdCgnICcpWzFdXG5cdGlmKHRva2VuID09IG51bGwpIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTonVG9rZW4gaXMgcmVxdWlyZWQnfSlcblxuXHRqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5BQ0NFU1NfVE9LRU5fU0VDUkVULCAoZXJyb3IsIHVzZXIpPT57XG5cdFx0Ly8gY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSlcblx0XG5cdFx0aWYoZXJyb3IpIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTpcIkludmFsaWQgVG9rZW5cIn0pXG5cblx0XHRyZXEudXNlciA9IHVzZXI7XG5cdFx0XG5cdFx0bmV4dCgpO1xuXHR9KVxufVxuIl19","map":{"version":3,"sources":["AuthenticateToken.js"],"names":["authenticateToken","req","res","next","authHeader","headers","token","split","status","json","message","jwt","verify","process","env","ACCESS_TOKEN_SECRET","error","user"],"mappings":";;;;;;;AAAA;;;;AAGO,SAASA,iBAAT,CAA2BC,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA0C;AAChD,QAAMC,UAAU,GAAGH,GAAG,CAACI,OAAJ,CAAY,eAAZ,CAAnB;AACA,QAAMC,KAAK,GAAGF,UAAU,IAAIA,UAAU,CAACG,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAA5B;AACA,MAAGD,KAAK,IAAI,IAAZ,EAAkB,OAAOJ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,IAAAA,OAAO,EAAC;AAAT,GAArB,CAAP;;AAElBC,wBAAIC,MAAJ,CAAWN,KAAX,EAAkBO,OAAO,CAACC,GAAR,CAAYC,mBAA9B,EAAmD,CAACC,KAAD,EAAQC,IAAR,KAAe;AACjE;AAEA,QAAGD,KAAH,EAAU,OAAOd,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AAEVT,IAAAA,GAAG,CAACgB,IAAJ,GAAWA,IAAX;AAEAd,IAAAA,IAAI;AACJ,GARD;AASA","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/AuthMiddleWare/","sourcesContent":["import jwt from 'jsonwebtoken'\n\n\nexport function authenticateToken(req, res, next){\n\tconst authHeader = req.headers['authorization']\n\tconst token = authHeader && authHeader.split(' ')[1]\n\tif(token == null) return res.status(401).json({message:'Token is required'})\n\n\tjwt.verify(token, process.env.ACCESS_TOKEN_SECRET, (error, user)=>{\n\t\t// console.log(error.message)\n\t\n\t\tif(error) return res.status(403).json({message:\"Invalid Token\"})\n\n\t\treq.user = user;\n\t\t\n\t\tnext();\n\t})\n}\n"]}},"mtime":1650876624320},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/postControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.post_update = exports.post_get_one = exports.post_get_all = exports.post_delete = exports.post_create = void 0;\n\nvar _Post = require(\"../models/Post\");\n\nvar _cloudinaryImage = _interopRequireDefault(require(\"../helpers/cloudinaryImage\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import models\n// get all posts\nconst post_get_all = async (req, res) => {\n  const posts = await _Post.Post.find().sort({\n    createdAt: -1\n  });\n  return res.json({\n    posts,\n    status: 200,\n    message: \"Fetched successfully\"\n  });\n}; // create new post\n\n\nexports.post_get_all = post_get_all;\n\nconst post_create = async (req, res) => {\n  try {\n    if (req.body.title === '' || req.body.content === '') {\n      return res.status(400).json({\n        message: \"Title and content are required\"\n      });\n    } else {\n      // generating link from cloudinary\n      const cloud_save = await _cloudinaryImage.default.uploader.upload(req.file.path, {\n        with: 500,\n        height: 500,\n        crop: 'fill'\n      }); // new post\n\n      const post = new _Post.Post({\n        title: req.body.title,\n        content: req.body.content,\n        poster: cloud_save.url\n      });\n      await post.save();\n      return res.status(201).json({\n        status: 201,\n        message: \"Post Saved successfully\",\n        success: 1,\n        posterUrl: `${cloud_save.url}`\n      });\n    }\n  } catch (error) {\n    return res.status(403).json({\n      message: error.message\n    });\n  }\n}; // get individual post\n\n\nexports.post_create = post_create;\n\nconst post_get_one = async (req, res) => {\n  try {\n    const post = await _Post.Post.findOne({\n      _id: req.params.id\n    });\n\n    if (post === null) {\n      return res.status(404).json({\n        message: \"Post of that id is not available\"\n      });\n    }\n\n    return res.status(200).json({\n      data: post,\n      message: \"successfully fetched\"\n    });\n  } catch {\n    return res.status(404).json({\n      error: \"Post does not exist!\"\n    });\n  }\n}; // update a post\n\n\nexports.post_get_one = post_get_one;\n\nconst post_update = async (req, res) => {\n  try {\n    const post = await _Post.Post.findOne({\n      _id: req.params.id\n    });\n\n    if (req.body.title.length > 0 && req.body.content.length > 0) {\n      post.title = req.body.title, post.content = req.body.content;\n      await post.save();\n      return res.status(200).json({\n        message: \"Post successfully updated!\"\n      });\n    } else {\n      return res.status(400).json({\n        message: \"Title and content need value!\"\n      });\n    }\n  } catch {\n    return res.status(404).json({\n      error: \"Post doesn't exist!\"\n    });\n  }\n}; // delete a post\n\n\nexports.post_update = post_update;\n\nconst post_delete = async (req, res) => {\n  try {\n    const post = await _Post.Post.findById(req.params.id);\n\n    if (post != null) {\n      await post.remove();\n      return res.status(200).json({\n        message: \"Post deleted successfully!\"\n      });\n    } else {\n      return res.status(404).json({\n        error: \"Post doesn't exist!\"\n      });\n    }\n  } catch {\n    return res.status(500).json({\n      error: \"Server error\"\n    });\n  }\n};\n\nexports.post_delete = post_delete;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJwb3N0X2dldF9hbGwiLCJyZXEiLCJyZXMiLCJwb3N0cyIsIlBvc3QiLCJmaW5kIiwic29ydCIsImNyZWF0ZWRBdCIsImpzb24iLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdF9jcmVhdGUiLCJib2R5IiwidGl0bGUiLCJjb250ZW50IiwiY2xvdWRfc2F2ZSIsImNsb3VkaW5hcnkiLCJ1cGxvYWRlciIsInVwbG9hZCIsImZpbGUiLCJwYXRoIiwid2l0aCIsImhlaWdodCIsImNyb3AiLCJwb3N0IiwicG9zdGVyIiwidXJsIiwic2F2ZSIsInN1Y2Nlc3MiLCJwb3N0ZXJVcmwiLCJlcnJvciIsInBvc3RfZ2V0X29uZSIsImZpbmRPbmUiLCJfaWQiLCJwYXJhbXMiLCJpZCIsImRhdGEiLCJwb3N0X3VwZGF0ZSIsImxlbmd0aCIsInBvc3RfZGVsZXRlIiwiZmluZEJ5SWQiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFDQTs7OztBQUZBO0FBS0E7QUFDQSxNQUFNQSxZQUFZLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3hDLFFBQU1DLEtBQUssR0FBRyxNQUFNQyxXQUFLQyxJQUFMLEdBQVlDLElBQVosQ0FBaUI7QUFBQ0MsSUFBQUEsU0FBUyxFQUFFLENBQUM7QUFBYixHQUFqQixDQUFwQjtBQUNBLFNBQU9MLEdBQUcsQ0FBQ00sSUFBSixDQUFTO0FBQUNMLElBQUFBLEtBQUQ7QUFBUU0sSUFBQUEsTUFBTSxFQUFDLEdBQWY7QUFBb0JDLElBQUFBLE9BQU8sRUFBQztBQUE1QixHQUFULENBQVA7QUFDQSxDQUhELEMsQ0FLQTs7Ozs7QUFDQSxNQUFNQyxXQUFXLEdBQUcsT0FBT1YsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBRXZDLE1BQUk7QUFDSCxRQUFHRCxHQUFHLENBQUNXLElBQUosQ0FBU0MsS0FBVCxLQUFtQixFQUFuQixJQUF5QlosR0FBRyxDQUFDVyxJQUFK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LENBQXFCO0FBQUNzQixRQUFBQSxLQUFLLEVBQUU7QUFBUixPQUFyQixDQUFQO0FBQ0E7QUFHRCxHQVpELENBWUUsTUFBTTtBQUNQLFdBQU81QixHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCRCxJQUFoQixDQUFxQjtBQUFDc0IsTUFBQUEsS0FBSyxFQUFFO0FBQVIsS0FBckIsQ0FBUDtBQUNBO0FBQ0QsQ0FoQkQiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCBtb2RlbHNcbmltcG9ydCB7UG9zdH0gZnJvbSAnLi4vbW9kZWxzL1Bvc3QnXG5pbXBvcnQgY2xvdWRpbmFyeSBmcm9tICcuLi9oZWxwZXJzL2Nsb3VkaW5hcnlJbWFnZSdcblxuXG4vLyBnZXQgYWxsIHBvc3RzXG5jb25zdCBwb3N0X2dldF9hbGwgPSBhc3luYyAocmVxLCByZXMpID0+IHtcblx0Y29uc3QgcG9zdHMgPSBhd2FpdCBQb3N0LmZpbmQoKS5zb3J0KHtjcmVhdGVkQXQ6IC0xfSlcblx0cmV0dXJuIHJlcy5qc29uKHtwb3N0cywgc3RhdHVzOjIwMCwgbWVzc2FnZTpcIkZldGNoZWQgc3VjY2Vzc2Z1bGx5XCJ9KVxufVxuXG4vLyBjcmVhdGUgbmV3IHBvc3RcbmNvbnN0IHBvc3RfY3JlYXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdFxuXHR0cnkge1xuXHRcdGlmKHJlcS5ib2R5LnRpdGxlID09PSAnJyB8fCByZXEuYm9keS5jb250ZW50ID09PSAnJyl7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6XCJUaXRsZSBhbmQgY29udGVudCBhcmUgcmVxdWlyZWRcIn0pXG5cdFx0fVxuXHRcdGVsc2V7XG5cblx0XHRcdC8vIGdlbmVyYXRpbmcgbGluayBmcm9tIGNsb3VkaW5hcnlcblx0XHRcdGNvbnN0IGNsb3VkX3NhdmUgPSBhd2FpdCBjbG91ZGluYXJ5LnVwbG9hZGVyLnVwbG9hZChyZXEuZmlsZS5wYXRoLCB7XG5cdFx0XHRcdHdpdGg6NTAwLFxuXHRcdFx0XHRoZWlnaHQ6NTAwLFxuXHRcdFx0XHRjcm9wOidmaWxsJ1xuXG5cdFx0XHR9KVxuXG5cdFx0XHQvLyBuZXcgcG9zdFxuXHRcdFx0Y29uc3QgcG9zdCA9IG5ldyBQb3N0KHtcblx0XHRcdFx0dGl0bGU6IHJlcS5ib2R5LnRpdGxlLFxuXHRcdFx0XHRjb250ZW50OiByZXEuYm9keS5jb250ZW50LFxuXHRcdFx0XHRwb3N0ZXI6IGNsb3VkX3NhdmUudXJsXG5cdFx0XHRcdFxuXHRcdFx0XHRcblx0XHRcdH0pXG5cblx0XHRcdFxuXHRcdFx0YXdhaXQgcG9zdC5zYXZlKClcblx0XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuXHRcdFx0XHRzdGF0dXM6MjAxLCBcblx0XHRcdFx0bWVzc2FnZTpcIlBvc3QgU2F2ZWQgc3VjY2Vzc2Z1bGx5XCIsIFxuXHRcdFx0XHRzdWNjZXNzOjEsXG5cdFx0XHRcdHBvc3RlclVybDpgJHtjbG91ZF9zYXZlLnVybH1gXG5cdFx0XHR9KVxuXHRcdH1cblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6ZXJyb3IubWVzc2FnZX0pXG5cdH1cblx0XG5cdFxufVxuXG4vLyBnZXQgaW5kaXZpZHVhbCBwb3N0XG5jb25zdCBwb3N0X2dldF9vbmUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcblx0dHJ5IHtcblx0XHRjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pXG5cblx0XHRpZihwb3N0ID09PSBudWxsKXtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTpcIlBvc3Qgb2YgdGhhdCBpZCBpcyBub3QgYXZhaWxhYmxlXCJ9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe2RhdGE6cG9zdCwgbWVzc2FnZTpcInN1Y2Nlc3NmdWxseSBmZXRjaGVkXCJ9KTtcblxuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe2Vycm9yOiBcIlBvc3QgZG9lcyBub3QgZXhpc3QhXCJ9KVxuXHR9XG59XG5cbi8vIHVwZGF0ZSBhIHBvc3RcbmNvbnN0IHBvc3RfdXBkYXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KVxuXG5cdFx0aWYgKHJlcS5ib2R5LnRpdGxlLmxlbmd0aCA+IDAgJiYgcmVxLmJvZHkuY29udGVudC5sZW5ndGggPiAwKSB7XG5cdFx0XHRwb3N0LnRpdGxlID0gcmVxLmJvZHkudGl0bGUsXG5cdFx0XHRwb3N0LmNvbnRlbnQgPSByZXEuYm9keS5jb250ZW50XG5cblxuXHRcdFx0YXdhaXQgcG9zdC5zYXZlKClcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTpcIlBvc3Qgc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQhXCJ9KTtcblx0XHR9XG5cdFx0ZWxzZXtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTpcIlRpdGxlIGFuZCBjb250ZW50IG5lZWQgdmFsdWUhXCJ9KTtcblx0XHR9XG5cblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtlcnJvcjogXCJQb3N0IGRvZXNuJ3QgZXhpc3QhXCJ9KVxuXHR9XG59XG5cbi8vIGRlbGV0ZSBhIHBvc3RcbmNvbnN0IHBvc3RfZGVsZXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZClcblx0XHRpZihwb3N0ICE9IG51bGwpe1xuXG5cdFx0XHRhd2FpdCBwb3N0LnJlbW92ZSgpO1xuXHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBcIlBvc3QgZGVsZXRlZCBzdWNjZXNzZnVsbHkhXCJ9KVxuXHRcdH1cblx0XHRlbHNle1xuXHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtlcnJvcjogXCJQb3N0IGRvZXNuJ3QgZXhpc3QhXCJ9KVxuXHRcdH1cblxuXHRcdFxuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe2Vycm9yOiBcIlNlcnZlciBlcnJvclwifSlcblx0fVxufVxuXG5cblxuZXhwb3J0IHtwb3N0X2dldF9hbGwsIHBvc3RfY3JlYXRlLCBwb3N0X2dldF9vbmUsIHBvc3RfdXBkYXRlLCBwb3N0X2RlbGV0ZX1cbiJdfQ==","map":{"version":3,"sources":["postControllers.js"],"names":["post_get_all","req","res","posts","Post","find","sort","createdAt","json","status","message","post_create","body","title","content","cloud_save","cloudinary","uploader","upload","file","path","with","height","crop","post","poster","url","save","success","posterUrl","error","post_get_one","findOne","_id","params","id","data","post_update","length","post_delete","findById","remove"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["// import models\nimport {Post} from '../models/Post'\nimport cloudinary from '../helpers/cloudinaryImage'\n\n\n// get all posts\nconst post_get_all = async (req, res) => {\n\tconst posts = await Post.find().sort({createdAt: -1})\n\treturn res.json({posts, status:200, message:\"Fetched successfully\"})\n}\n\n// create new post\nconst post_create = async (req, res) => {\n\t\n\ttry {\n\t\tif(req.body.title === '' || req.body.content === ''){\n\t\t\treturn res.status(400).json({message:\"Title and content are required\"})\n\t\t}\n\t\telse{\n\n\t\t\t// generating link from cloudinary\n\t\t\tconst cloud_save = await cloudinary.uploader.upload(req.file.path, {\n\t\t\t\twith:500,\n\t\t\t\theight:500,\n\t\t\t\tcrop:'fill'\n\n\t\t\t})\n\n\t\t\t// new post\n\t\t\tconst post = new Post({\n\t\t\t\ttitle: req.body.title,\n\t\t\t\tcontent: req.body.content,\n\t\t\t\tposter: cloud_save.url\n\t\t\t\t\n\t\t\t\t\n\t\t\t})\n\n\t\t\t\n\t\t\tawait post.save()\n\t\n\t\t\treturn res.status(201).json({\n\t\t\t\tstatus:201, \n\t\t\t\tmessage:\"Post Saved successfully\", \n\t\t\t\tsuccess:1,\n\t\t\t\tposterUrl:`${cloud_save.url}`\n\t\t\t})\n\t\t}\n\t} catch (error) {\n\t\treturn res.status(403).json({message:error.message})\n\t}\n\t\n\t\n}\n\n// get individual post\nconst post_get_one = async (req, res) => {\n\ttry {\n\t\tconst post = await Post.findOne({ _id: req.params.id })\n\n\t\tif(post === null){\n\t\t\treturn res.status(404).json({message:\"Post of that id is not available\"});\n\t\t}\n\n\t\treturn res.status(200).json({data:post, message:\"successfully fetched\"});\n\n\t} catch {\n\t\treturn res.status(404).json({error: \"Post does not exist!\"})\n\t}\n}\n\n// update a post\nconst post_update = async (req, res) => {\n\ttry {\n\t\tconst post = await Post.findOne({ _id: req.params.id })\n\n\t\tif (req.body.title.length > 0 && req.body.content.length > 0) {\n\t\t\tpost.title = req.body.title,\n\t\t\tpost.content = req.body.content\n\n\n\t\t\tawait post.save()\n\t\t\treturn res.status(200).json({message:\"Post successfully updated!\"});\n\t\t}\n\t\telse{\n\t\t\treturn res.status(400).json({message:\"Title and content need value!\"});\n\t\t}\n\n\t} catch {\n\t\treturn res.status(404).json({error: \"Post doesn't exist!\"})\n\t}\n}\n\n// delete a post\nconst post_delete = async (req, res) => {\n\ttry {\n\t\tconst post = await Post.findById(req.params.id)\n\t\tif(post != null){\n\n\t\t\tawait post.remove();\n\t\t\treturn res.status(200).json({message: \"Post deleted successfully!\"})\n\t\t}\n\t\telse{\n\t\t\treturn res.status(404).json({error: \"Post doesn't exist!\"})\n\t\t}\n\n\t\t\n\t} catch {\n\t\treturn res.status(500).json({error: \"Server error\"})\n\t}\n}\n\n\n\nexport {post_get_all, post_create, post_get_one, post_update, post_delete}\n"]}},"mtime":1650906751931},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/Post.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Post = exports.Comment = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar _User = _interopRequireDefault(require(\"./User\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst commentSchema = new _mongoose.mongoose.Schema({\n  postId: {\n    type: _mongoose.mongoose.Schema.Types.ObjectId,\n    ref: 'Post'\n  },\n  description: String\n}); // const likeSchema = new mongoose.Schema({\n// \tuserId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref: 'User'\n// \t},\n// \tpostId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref:'Post'\n// \t}\n// })\n\nconst schema = new _mongoose.mongoose.Schema({\n  title: {\n    type: String,\n    required: true\n  },\n  content: {\n    type: String,\n    required: true\n  },\n  poster: {\n    type: String,\n    required: true\n  },\n  comments: [commentSchema],\n  likes: [],\n  postedBy: {\n    type: _mongoose.mongoose.Schema.Types.ObjectId,\n    ref: 'User'\n  }\n}, {\n  timestamps: true\n});\n\nconst Comment = _mongoose.mongoose.model(\"Comment\", commentSchema);\n\nexports.Comment = Comment;\n\nconst Post = _mongoose.mongoose.model(\"Post\", schema);\n\nexports.Post = Post;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBvc3QuanMiXSwibmFtZXMiOlsiY29tbWVudFNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwicG9zdElkIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJkZXNjcmlwdGlvbiIsIlN0cmluZyIsInNjaGVtYSIsInRpdGxlIiwicmVxdWlyZWQiLCJjb250ZW50IiwicG9zdGVyIiwiY29tbWVudHMiLCJsaWtlcyIsInBvc3RlZEJ5IiwidGltZXN0YW1wcyIsIkNvbW1lbnQiLCJtb2RlbCIsIlBvc3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyxtQkFBU0MsTUFBYixDQUFvQjtBQUN6Q0MsRUFBQUEsTUFBTSxFQUFDO0FBQ05DLElBQUFBLElBQUksRUFBQ0gsbUJBQVNDLE1BQVQsQ0FBZ0JHLEtBQWhCLENBQXNCQyxRQURyQjtBQUVOQyxJQUFBQSxHQUFHLEVBQUM7QUFGRSxHQURrQztBQUt0Q0MsRUFBQUEsV0FBVyxFQUFDQztBQUwwQixDQUFwQixDQUF0QixDLENBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBS0EsTUFBTUMsTUFBTSxHQUFHLElBQUlULG1CQUFTQyxNQUFiLENBQW9CO0FBQ2xDUyxFQUFBQSxLQUFLLEVBQUU7QUFDTlAsSUFBQUEsSUFBSSxFQUFDSyxNQURDO0FBRU5HLElBQUFBLFFBQVEsRUFBQztBQUZILEdBRDJCO0FBS2xDQyxFQUFBQSxPQUFPLEVBQUU7QUFDUlQsSUFBQUEsSUFBSSxFQUFDSyxNQURHO0FBRVJHLElBQUFBLFFBQVEsRUFBQztBQUZELEdBTHlCO0FBU2xDRSxFQUFBQSxNQUFNLEVBQUU7QUFDUFYsSUFBQUEsSUFBSSxFQUFDSyxNQURFO0FBRVBHLElBQUFBLFFBQVEsRUFBQztBQUZGLEdBVDBCO0FBY2xDRyxFQUFBQSxRQUFRLEVBQUMsQ0FBQ2YsYUFBRCxDQWR5QjtBQWdCbENnQixFQUFBQSxLQUFLLEVBQUMsRUFoQjRCO0FBa0JsQ0MsRUFBQUEsUUFBUSxFQUFFO0FBQ1RiLElBQUFBLElBQUksRUFBQ0gsbUJBQVNDLE1BQVQsQ0FBZ0JHLEtBQWhCLENBQXNCQyxRQURsQjtBQUVUQyxJQUFBQSxHQUFHLEVBQUM7QUFGSztBQWxCd0IsQ0FBcEIsRUF1QmI7QUFBQ1csRUFBQUEsVUFBVSxFQUFDO0FBQVosQ0F2QmEsQ0FBZjs7QUEwQk8sTUFBTUMsT0FBTyxHQUFHbEIsbUJBQVNtQixLQUFULENBQWUsU0FBZixFQUEwQnBCLGFBQTFCLENBQWhCOzs7O0FBQ0EsTUFBTXFCLElBQUksR0FBR3BCLG1CQUFTbUIsS0FBVCxDQUFlLE1BQWYsRUFBdUJWLE1BQXZCLENBQWIiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge21vbmdvb3NlfSBmcm9tIFwibW9uZ29vc2VcIlxuaW1wb3J0ICBVc2VyICBmcm9tIFwiLi9Vc2VyXCJcblxuY29uc3QgY29tbWVudFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuXHRwb3N0SWQ6e1xuXHRcdHR5cGU6bW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuXHRcdHJlZjonUG9zdCdcblx0fSxcbiAgICBkZXNjcmlwdGlvbjpTdHJpbmdcbn0pXG5cbi8vIGNvbnN0IGxpa2VTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbi8vIFx0dXNlcklkOntcbi8vIFx0XHR0eXBlOm1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbi8vIFx0XHRyZWY6ICdVc2VyJ1xuLy8gXHR9LFxuLy8gXHRwb3N0SWQ6e1xuLy8gXHRcdHR5cGU6bW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuLy8gXHRcdHJlZjonUG9zdCdcbi8vIFx0fVxuICAgIFxuLy8gfSlcblxuXG5cblxuY29uc3Qgc2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG5cdHRpdGxlOiB7XG5cdFx0dHlwZTpTdHJpbmcsXG5cdFx0cmVxdWlyZWQ6dHJ1ZVxuXHR9LFxuXHRjb250ZW50OiB7XG5cdFx0dHlwZTpTdHJpbmcsXG5cdFx0cmVxdWlyZWQ6dHJ1ZVxuXHR9LFxuXHRwb3N0ZXI6IHtcblx0XHR0eXBlOlN0cmluZyxcblx0XHRyZXF1aXJlZDp0cnVlXG5cdH0sXG5cblx0Y29tbWVudHM6W2NvbW1lbnRTY2hlbWFdLFxuXG5cdGxpa2VzOltdLFxuXG5cdHBvc3RlZEJ5OiB7XG5cdFx0dHlwZTptb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG5cdFx0cmVmOidVc2VyJ1xuXHR9XG5cbn0se3RpbWVzdGFtcHM6dHJ1ZX0pXG5cblxuZXhwb3J0IGNvbnN0IENvbW1lbnQgPSBtb25nb29zZS5tb2RlbChcIkNvbW1lbnRcIiwgY29tbWVudFNjaGVtYSlcbmV4cG9ydCBjb25zdCBQb3N0ID0gbW9uZ29vc2UubW9kZWwoXCJQb3N0XCIsIHNjaGVtYSlcblxuIl19","map":{"version":3,"sources":["Post.js"],"names":["commentSchema","mongoose","Schema","postId","type","Types","ObjectId","ref","description","String","schema","title","required","content","poster","comments","likes","postedBy","timestamps","Comment","model","Post"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,mBAASC,MAAb,CAAoB;AACzCC,EAAAA,MAAM,EAAC;AACNC,IAAAA,IAAI,EAACH,mBAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QADrB;AAENC,IAAAA,GAAG,EAAC;AAFE,GADkC;AAKtCC,EAAAA,WAAW,EAACC;AAL0B,CAApB,CAAtB,C,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAKA,MAAMC,MAAM,GAAG,IAAIT,mBAASC,MAAb,CAAoB;AAClCS,EAAAA,KAAK,EAAE;AACNP,IAAAA,IAAI,EAACK,MADC;AAENG,IAAAA,QAAQ,EAAC;AAFH,GAD2B;AAKlCC,EAAAA,OAAO,EAAE;AACRT,IAAAA,IAAI,EAACK,MADG;AAERG,IAAAA,QAAQ,EAAC;AAFD,GALyB;AASlCE,EAAAA,MAAM,EAAE;AACPV,IAAAA,IAAI,EAACK,MADE;AAEPG,IAAAA,QAAQ,EAAC;AAFF,GAT0B;AAclCG,EAAAA,QAAQ,EAAC,CAACf,aAAD,CAdyB;AAgBlCgB,EAAAA,KAAK,EAAC,EAhB4B;AAkBlCC,EAAAA,QAAQ,EAAE;AACTb,IAAAA,IAAI,EAACH,mBAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QADlB;AAETC,IAAAA,GAAG,EAAC;AAFK;AAlBwB,CAApB,EAuBb;AAACW,EAAAA,UAAU,EAAC;AAAZ,CAvBa,CAAf;;AA0BO,MAAMC,OAAO,GAAGlB,mBAASmB,KAAT,CAAe,SAAf,EAA0BpB,aAA1B,CAAhB;;;;AACA,MAAMqB,IAAI,GAAGpB,mBAASmB,KAAT,CAAe,MAAf,EAAuBV,MAAvB,CAAb","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/","sourcesContent":["import {mongoose} from \"mongoose\"\nimport  User  from \"./User\"\n\nconst commentSchema = new mongoose.Schema({\n\tpostId:{\n\t\ttype:mongoose.Schema.Types.ObjectId,\n\t\tref:'Post'\n\t},\n    description:String\n})\n\n// const likeSchema = new mongoose.Schema({\n// \tuserId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref: 'User'\n// \t},\n// \tpostId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref:'Post'\n// \t}\n    \n// })\n\n\n\n\nconst schema = new mongoose.Schema({\n\ttitle: {\n\t\ttype:String,\n\t\trequired:true\n\t},\n\tcontent: {\n\t\ttype:String,\n\t\trequired:true\n\t},\n\tposter: {\n\t\ttype:String,\n\t\trequired:true\n\t},\n\n\tcomments:[commentSchema],\n\n\tlikes:[],\n\n\tpostedBy: {\n\t\ttype:mongoose.Schema.Types.ObjectId,\n\t\tref:'User'\n\t}\n\n},{timestamps:true})\n\n\nexport const Comment = mongoose.model(\"Comment\", commentSchema)\nexport const Post = mongoose.model(\"Post\", schema)\n\n"]}},"mtime":1650878195498},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/UserRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userControllers = require(\"../controllers/userControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n//users//\nrouter.get(\"/users\", _userControllers.users_get_all);\nrouter.post(\"/users\", _userControllers.user_create); //login user\n\nrouter.post(\"/users/login\", _userControllers.user_get_token);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInVzZXJzX2dldF9hbGwiLCJwb3N0IiwidXNlcl9jcmVhdGUiLCJ1c2VyX2dldF90b2tlbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUlBOzs7O0FBRkEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmOztBQVNBO0FBQ0FGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFFBQVgsRUFBcUJDLDhCQUFyQjtBQUVBSixNQUFNLENBQUNLLElBQVAsQ0FBWSxRQUFaLEVBQXNCQyw0QkFBdEIsRSxDQUVBOztBQUNBTixNQUFNLENBQUNLLElBQVAsQ0FBWSxjQUFaLEVBQTRCRSwrQkFBNUI7ZUFFZVAsTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5pbXBvcnQgeyB1c2Vyc19nZXRfYWxsLCB1c2VyX2NyZWF0ZSwgdXNlcl9nZXRfdG9rZW4gfSBmcm9tICcuLi9jb250cm9sbGVycy91c2VyQ29udHJvbGxlcnMnXG5cblxuXG5cblxuXG4vL3VzZXJzLy9cbnJvdXRlci5nZXQoXCIvdXNlcnNcIiwgdXNlcnNfZ2V0X2FsbClcblxucm91dGVyLnBvc3QoXCIvdXNlcnNcIiwgdXNlcl9jcmVhdGUpXG5cbi8vbG9naW4gdXNlclxucm91dGVyLnBvc3QoXCIvdXNlcnMvbG9naW5cIiwgdXNlcl9nZXRfdG9rZW4pXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlclxuIl19","map":{"version":3,"sources":["UserRoutes.js"],"names":["router","express","Router","get","users_get_all","post","user_create","user_get_token"],"mappings":";;;;;;;AAAA;;AAIA;;;;AAFA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AASA;AACAF,MAAM,CAACG,GAAP,CAAW,QAAX,EAAqBC,8BAArB;AAEAJ,MAAM,CAACK,IAAP,CAAY,QAAZ,EAAsBC,4BAAtB,E,CAEA;;AACAN,MAAM,CAACK,IAAP,CAAY,cAAZ,EAA4BE,+BAA5B;eAEeP,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport { users_get_all, user_create, user_get_token } from '../controllers/userControllers'\n\n\n\n\n\n\n//users//\nrouter.get(\"/users\", users_get_all)\n\nrouter.post(\"/users\", user_create)\n\n//login user\nrouter.post(\"/users/login\", user_get_token)\n\nexport default router\n"]}},"mtime":1650546131665},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/userControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.users_get_all = exports.user_get_token = exports.user_create = void 0;\n\nvar _User = require(\"../models/User\");\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import models\n//listing all users\nconst users_get_all = (req, res) => {\n  const users = _User.User.find().then(result => {\n    return res.status(200).json({\n      data: result\n    });\n  });\n}; // creating a new user\n\n\nexports.users_get_all = users_get_all;\n\nconst user_create = async (req, res) => {\n  try {\n    if (req.body.username === '' || req.body.email === '' || req.body.password === '') {\n      return res.status(403).json({\n        message: \"All fields are required\"\n      });\n    }\n\n    const salt = await _bcrypt.default.genSalt();\n    const hashedPassword = await _bcrypt.default.hash(req.body.password, salt);\n    const isNewUser = await _User.User.isThisEmailInUSe(req.body.email);\n    if (!isNewUser) return res.status(403).json({\n      message: \"user already exists\"\n    });\n    const user = await new _User.User({\n      username: req.body.username,\n      email: req.body.email,\n      password: hashedPassword\n    });\n    await user.save();\n    return res.status(201).json({\n      message: \"user created!\"\n    });\n  } catch (error) {\n    return res.status(500).json({\n      error: error.message\n    });\n  }\n}; //login user\n\n\nexports.user_create = user_create;\n\nconst user_get_token = async (req, res) => {\n  try {\n    const user = await _User.User.findOne({\n      username: req.body.username\n    });\n\n    if (user) {\n      const match = await user.passwordComparison(req.body.password, user.password);\n\n      if (match) {\n        //further code to maintain jwt authentication\n        const user = {\n          username: req.body.username\n        };\n\n        const accesToken = _jsonwebtoken.default.sign(user, process.env.ACCESS_TOKEN_SECRET, {\n          expiresIn: '30m'\n        });\n\n        return res.status(200).json({\n          Token: accesToken\n        });\n      } else {\n        res.status(403).json({\n          message: \"Invalid username or password.\"\n        });\n      }\n    } else {\n      res.status(400).json({\n        message: \"Not User.\"\n      });\n    }\n  } catch (error) {\n    res.status(500).json({\n      message: \"Internal Server error occured\"\n    });\n  }\n};\n\nexports.user_get_token = user_get_token;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJ1c2Vyc19nZXRfYWxsIiwicmVxIiwicmVzIiwidXNlcnMiLCJVc2VyIiwiZmluZCIsInRoZW4iLCJyZXN1bHQiLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsInVzZXJfY3JlYXRlIiwiYm9keSIsInVzZXJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsIm1lc3NhZ2UiLCJzYWx0IiwiYmNyeXB0IiwiZ2VuU2FsdCIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsImlzTmV3VXNlciIsImlzVGhpc0VtYWlsSW5VU2UiLCJ1c2VyIiwic2F2ZSIsImVycm9yIiwidXNlcl9nZXRfdG9rZW4iLCJmaW5kT25lIiwibWF0Y2giLCJwYXNzd29yZENvbXBhcmlzb24iLCJhY2Nlc1Rva2VuIiwiand0Iiwic2lnbiIsInByb2Nlc3MiLCJlbnYiLCJBQ0NFU1NfVE9LRU5fU0VDUkVUIiwiZXhwaXJlc0luIiwiVG9rZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUhBO0FBS0E7QUFDQSxNQUFNQSxhQUFhLEdBQUUsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQVk7QUFFaEMsUUFBTUMsS0FBSyxHQUFHQyxXQUFLQyxJQUFMLEdBQVlDLElBQVosQ0FBa0JDLE1BQUQsSUFBVTtBQUN4QyxXQUFPTCxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxJQUFJLEVBQUNIO0FBQU4sS0FBckIsQ0FBUDtBQUNBLEdBRmEsQ0FBZDtBQUdBLENBTEQsQyxDQU9BOzs7OztBQUNBLE1BQU1JLFdBQVcsR0FBRyxPQUFPVixHQUFQLEVBQVlDLEdBQVosS0FBa0I7QUFDckMsTUFBSTtBQUNILFFBQUdELEdBQUcsQ0FBQ1csSUFBSixDQUFTQyxRQUFULEtBQXNCLEVBQXRCLElBQTRCWixHQUFHLENBQUNXLElBQUosQ0FBU0UsS0FBVCxLQUFtQixFQUEvQyxJQUFx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QUFDO0FBQVQsT0FBckI7QUFDRDtBQUVDLEdBdkJILENBdUJJLE9BQU9VLEtBQVAsRUFBYztBQUVqQnhCLElBQUFBLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNPLE1BQUFBLE9BQU8sRUFBQztBQUFULEtBQXJCO0FBQ0U7QUFFSCxDQTdCRCIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IG1vZGVsc1xuaW1wb3J0IHtVc2VyfSBmcm9tICcuLi9tb2RlbHMvVXNlcidcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0J1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXG5cbi8vbGlzdGluZyBhbGwgdXNlcnNcbmNvbnN0IHVzZXJzX2dldF9hbGw9IChyZXEsIHJlcyk9Pntcblx0XG5cdGNvbnN0IHVzZXJzID0gVXNlci5maW5kKCkudGhlbigocmVzdWx0KT0+e1xuXHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7ZGF0YTpyZXN1bHR9KVxuXHR9KVxufVxuXG4vLyBjcmVhdGluZyBhIG5ldyB1c2VyXG5jb25zdCB1c2VyX2NyZWF0ZSA9IGFzeW5jIChyZXEsIHJlcyk9Pntcblx0dHJ5IHtcblx0XHRpZihyZXEuYm9keS51c2VybmFtZSA9PT0gJycgfHwgcmVxLmJvZHkuZW1haWwgPT09ICcnIHx8IHJlcS5ib2R5LnBhc3N3b3JkID09PSAnJyl7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJBbGwgZmllbGRzIGFyZSByZXF1aXJlZFwifSlcblx0XHR9XG5cblx0XHRjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoKVxuXHRcdGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsIHNhbHQpXG5cblx0XHRjb25zdCBpc05ld1VzZXIgPSBhd2FpdCBVc2VyLmlzVGhpc0VtYWlsSW5VU2UocmVxLmJvZHkuZW1haWwpO1xuXHRcdGlmKCFpc05ld1VzZXIpIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTpcInVzZXIgYWxyZWFkeSBleGlzdHNcIn0pO1xuXG5cdFx0Y29uc3QgdXNlciA9IGF3YWl0IG5ldyBVc2VyKHtcblx0XHRcdHVzZXJuYW1lOnJlcS5ib2R5LnVzZXJuYW1lLFxuXHRcdFx0ZW1haWw6cmVxLmJvZHkuZW1haWwsXG5cdFx0XHRwYXNzd29yZDpoYXNoZWRQYXNzd29yZFxuXHRcdH0pXG5cdFxuXHRcdGF3YWl0IHVzZXIuc2F2ZSgpXG5cdFxuXHRcdHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7bWVzc2FnZTpcInVzZXIgY3JlYXRlZCFcIn0pXG5cdFx0XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtlcnJvcjplcnJvci5tZXNzYWdlfSlcblx0fVxuXG5cdFxufVxuXG4vL2xvZ2luIHVzZXJcbmNvbnN0IHVzZXJfZ2V0X3Rva2VuPSBhc3luYyAocmVxLCByZXMpPT57XG5cdHRyeSB7XG5cdFx0Y29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiByZXEuYm9keS51c2VybmFtZSB9KTtcblxuXHRcdGlmICh1c2VyKSB7XG5cdFx0ICBjb25zdCBtYXRjaCA9IGF3YWl0IHVzZXIucGFzc3dvcmRDb21wYXJpc29uKHJlcS5ib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcblx0XHQgIGlmIChtYXRjaCkge1xuXHRcdFx0Ly9mdXJ0aGVyIGNvZGUgdG8gbWFpbnRhaW4gand0IGF1dGhlbnRpY2F0aW9uXG5cdFx0XHRcblx0XHRcdGNvbnN0IHVzZXIgPSB7XG5cdFx0XHRcdHVzZXJuYW1lIDogcmVxLmJvZHkudXNlcm5hbWVcblx0XHRcdFx0XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBhY2Nlc1Rva2VuID0gand0LnNpZ24odXNlciwgcHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCwge2V4cGlyZXNJbjogJzMwbSd9KTtcblx0XHRcdFxuXHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtUb2tlbjphY2Nlc1Rva2VufSk7XG5cdFx0ICB9IGVsc2Uge1xuXHRcdFx0cmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJJbnZhbGlkIHVzZXJuYW1lIG9yIHBhc3N3b3JkLlwifSk7XG5cdFx0ICB9XG5cblx0XHR9IGVsc2Uge1xuXHRcdCAgcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6XCJOb3QgVXNlci5cIn0pO1xuXHRcdH1cbiAgICAgICAgXG5cdCAgfSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcblx0XHRyZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTpcIkludGVybmFsIFNlcnZlciBlcnJvciBvY2N1cmVkXCJ9KTtcblx0ICB9XG5cbn1cblxuZXhwb3J0IHt1c2Vyc19nZXRfYWxsLCB1c2VyX2NyZWF0ZSwgdXNlcl9nZXRfdG9rZW59XG5cbiJdfQ==","map":{"version":3,"sources":["userControllers.js"],"names":["users_get_all","req","res","users","User","find","then","result","status","json","data","user_create","body","username","email","password","message","salt","bcrypt","genSalt","hashedPassword","hash","isNewUser","isThisEmailInUSe","user","save","error","user_get_token","findOne","match","passwordComparison","accesToken","jwt","sign","process","env","ACCESS_TOKEN_SECRET","expiresIn","Token"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["// import models\nimport {User} from '../models/User'\nimport bcrypt from 'bcrypt'\nimport jwt from 'jsonwebtoken'\n\n//listing all users\nconst users_get_all= (req, res)=>{\n\t\n\tconst users = User.find().then((result)=>{\n\t\treturn res.status(200).json({data:result})\n\t})\n}\n\n// creating a new user\nconst user_create = async (req, res)=>{\n\ttry {\n\t\tif(req.body.username === '' || req.body.email === '' || req.body.password === ''){\n\t\t\treturn res.status(403).json({message:\"All fields are required\"})\n\t\t}\n\n\t\tconst salt = await bcrypt.genSalt()\n\t\tconst hashedPassword = await bcrypt.hash(req.body.password, salt)\n\n\t\tconst isNewUser = await User.isThisEmailInUSe(req.body.email);\n\t\tif(!isNewUser) return res.status(403).json({message:\"user already exists\"});\n\n\t\tconst user = await new User({\n\t\t\tusername:req.body.username,\n\t\t\temail:req.body.email,\n\t\t\tpassword:hashedPassword\n\t\t})\n\t\n\t\tawait user.save()\n\t\n\t\treturn res.status(201).json({message:\"user created!\"})\n\t\t\n\t} catch (error) {\n\t\treturn res.status(500).json({error:error.message})\n\t}\n\n\t\n}\n\n//login user\nconst user_get_token= async (req, res)=>{\n\ttry {\n\t\tconst user = await User.findOne({ username: req.body.username });\n\n\t\tif (user) {\n\t\t  const match = await user.passwordComparison(req.body.password, user.password);\n\t\t  if (match) {\n\t\t\t//further code to maintain jwt authentication\n\t\t\t\n\t\t\tconst user = {\n\t\t\t\tusername : req.body.username\n\t\t\t\t\n\t\t\t}\n\t\t\tconst accesToken = jwt.sign(user, process.env.ACCESS_TOKEN_SECRET, {expiresIn: '30m'});\n\t\t\t\n\t\t\treturn res.status(200).json({Token:accesToken});\n\t\t  } else {\n\t\t\tres.status(403).json({message:\"Invalid username or password.\"});\n\t\t  }\n\n\t\t} else {\n\t\t  res.status(400).json({message:\"Not User.\"});\n\t\t}\n        \n\t  } catch (error) {\n\t\t\n\t\tres.status(500).json({message:\"Internal Server error occured\"});\n\t  }\n\n}\n\nexport {users_get_all, user_create, user_get_token}\n\n"]}},"mtime":1650868690979},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.User = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  username: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String\n  },\n  password: {\n    type: String,\n    required: true\n  }\n});\n\nuserSchema.statics.isThisEmailInUSe = async function (email) {\n  try {\n    const user = await this.findOne({\n      email\n    });\n\n    if (user) {\n      return false;\n    } else {\n      return true;\n    }\n  } catch (error) {\n    console.log('error', error.message);\n    return false;\n  }\n};\n\nuserSchema.methods.passwordComparison = function (inputPassword) {\n  let user = this;\n  return _bcrypt.default.compare(inputPassword, user.password);\n};\n\nuserSchema.statics.getUser = function (username) {\n  return this.find({\n    username: username\n  });\n};\n\nconst User = _mongoose.default.model(\"User\", userSchema);\n\nexports.User = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwidXNlcm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJlbWFpbCIsInBhc3N3b3JkIiwic3RhdGljcyIsImlzVGhpc0VtYWlsSW5VU2UiLCJ1c2VyIiwiZmluZE9uZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJtZXRob2RzIiwicGFzc3dvcmRDb21wYXJpc29uIiwiaW5wdXRQYXNzd29yZCIsImJjcnlwdCIsImNvbXBhcmUiLCJnZXRVc2VyIiwiZmluZCIsIlVzZXIiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQ3RDQyxFQUFBQSxRQUFRLEVBQUM7QUFDUkMsSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLElBQUFBLFFBQVEsRUFBRTtBQUZGLEdBRDZCO0FBS3RDQyxFQUFBQSxLQUFLLEVBQUM7QUFDTEgsSUFBQUEsSUFBSSxFQUFFQztBQURELEdBTGdDO0FBUXRDRyxFQUFBQSxRQUFRLEVBQUM7QUFDUkosSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLElBQUFBLFFBQVEsRUFBRTtBQUZGO0FBUjZCLENBQXBCLENBQW5COztBQWVBTixVQUFVLENBQUNTLE9BQVgsQ0FBbUJDLGdCQUFuQixHQUFzQyxnQkFBZUgsS0FBZixFQUFxQjtBQUMxRCxNQUFJO0FBQ0gsVUFBTUksSUFBSSxHQUFHLE1BQU0sS0FBS0MsT0FBTCxDQUFhO0FBQUNMLE1BQUFBO0FBQUQsS0FBYixDQUFuQjs7QUFDQSxRQUFHSSxJQUFILEVBQVM7QUFDUixhQUFPLEtBQVA7QUFDQSxLQUZELE1BRUs7QUFDSixhQUFPLElBQVA7QUFDQTtBQUdELEdBVEQsQ0FTRSxPQUFPRSxLQUFQLEVBQWM7QUFDZkMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWixFQUFxQkYsS0FBSyxDQUFDRyxPQUEzQjtBQUNBLFdBQU8sS0FBUDtBQUVBO0FBR0QsQ0FqQkQ7O0FBbUJBaEIsVUFBVSxDQUFDaUIsT0FBWCxDQUFtQkMsa0JBQW5CLEdBQXdDLFVBQVNDLGFBQVQsRUFBdUI7QUFDL0QsTUFBSVIsSUFBSSxHQUFHLElBQVg7QUFDRSxTQUFPUyxnQkFBT0MsT0FBUCxDQUFlRixhQUFmLEVBQThCUixJQUFJLENBQUNILFFBQW5DLENBQVA7QUFDRCxDQUhEOztBQUtBUixVQUFVLENBQUNTLE9BQVgsQ0FBbUJhLE9BQW5CLEdBQTZCLFVBQVVuQixRQUFWLEVBQW9CO0FBQ2hELFNBQU8sS0FBS29CLElBQUwsQ0FBVTtBQUFFcEIsSUFBQUEsUUFBUSxFQUFFQTtBQUFaLEdBQVYsQ0FBUDtBQUNBLENBRkQ7O0FBSU8sTUFBTXFCLElBQUksR0FBRXZCLGtCQUFTd0IsS0FBVCxDQUFlLE1BQWYsRUFBdUJ6QixVQUF2QixDQUFaIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCdcblxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuXHR1c2VybmFtZTp7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiB0cnVlXG5cdH0sXG5cdGVtYWlsOntcblx0XHR0eXBlOiBTdHJpbmdcblx0fSxcblx0cGFzc3dvcmQ6e1xuXHRcdHR5cGU6IFN0cmluZyxcblx0XHRyZXF1aXJlZDogdHJ1ZVxuXHR9XG5cbn0pXG5cbnVzZXJTY2hlbWEuc3RhdGljcy5pc1RoaXNFbWFpbEluVVNlID0gYXN5bmMgZnVuY3Rpb24oZW1haWwpe1xuXHR0cnkge1xuXHRcdGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRPbmUoe2VtYWlsfSlcblx0XHRpZih1c2VyKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fWVsc2V7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0XG5cdFx0XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IubWVzc2FnZSk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFxuXHR9XG5cblx0XG59XG5cbnVzZXJTY2hlbWEubWV0aG9kcy5wYXNzd29yZENvbXBhcmlzb24gPSBmdW5jdGlvbihpbnB1dFBhc3N3b3JkKXtcbmxldCB1c2VyID0gdGhpcztcbiAgcmV0dXJuIGJjcnlwdC5jb21wYXJlKGlucHV0UGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xufTtcblxudXNlclNjaGVtYS5zdGF0aWNzLmdldFVzZXIgPSBmdW5jdGlvbiAodXNlcm5hbWUpIHtcblx0cmV0dXJuIHRoaXMuZmluZCh7IHVzZXJuYW1lOiB1c2VybmFtZSB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IFVzZXIgPW1vbmdvb3NlLm1vZGVsKFwiVXNlclwiLCB1c2VyU2NoZW1hKSJdfQ==","map":{"version":3,"sources":["User.js"],"names":["userSchema","mongoose","Schema","username","type","String","required","email","password","statics","isThisEmailInUSe","user","findOne","error","console","log","message","methods","passwordComparison","inputPassword","bcrypt","compare","getUser","find","User","model"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACtCC,EAAAA,QAAQ,EAAC;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GAD6B;AAKtCC,EAAAA,KAAK,EAAC;AACLH,IAAAA,IAAI,EAAEC;AADD,GALgC;AAQtCG,EAAAA,QAAQ,EAAC;AACRJ,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF;AAR6B,CAApB,CAAnB;;AAeAN,UAAU,CAACS,OAAX,CAAmBC,gBAAnB,GAAsC,gBAAeH,KAAf,EAAqB;AAC1D,MAAI;AACH,UAAMI,IAAI,GAAG,MAAM,KAAKC,OAAL,CAAa;AAACL,MAAAA;AAAD,KAAb,CAAnB;;AACA,QAAGI,IAAH,EAAS;AACR,aAAO,KAAP;AACA,KAFD,MAEK;AACJ,aAAO,IAAP;AACA;AAGD,GATD,CASE,OAAOE,KAAP,EAAc;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAAK,CAACG,OAA3B;AACA,WAAO,KAAP;AAEA;AAGD,CAjBD;;AAmBAhB,UAAU,CAACiB,OAAX,CAAmBC,kBAAnB,GAAwC,UAASC,aAAT,EAAuB;AAC/D,MAAIR,IAAI,GAAG,IAAX;AACE,SAAOS,gBAAOC,OAAP,CAAeF,aAAf,EAA8BR,IAAI,CAACH,QAAnC,CAAP;AACD,CAHD;;AAKAR,UAAU,CAACS,OAAX,CAAmBa,OAAnB,GAA6B,UAAUnB,QAAV,EAAoB;AAChD,SAAO,KAAKoB,IAAL,CAAU;AAAEpB,IAAAA,QAAQ,EAAEA;AAAZ,GAAV,CAAP;AACA,CAFD;;AAIO,MAAMqB,IAAI,GAAEvB,kBAASwB,KAAT,CAAe,MAAf,EAAuBzB,UAAvB,CAAZ","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/","sourcesContent":["import mongoose from \"mongoose\"\nimport bcrypt from 'bcrypt'\n\nconst userSchema = new mongoose.Schema({\n\tusername:{\n\t\ttype: String,\n\t\trequired: true\n\t},\n\temail:{\n\t\ttype: String\n\t},\n\tpassword:{\n\t\ttype: String,\n\t\trequired: true\n\t}\n\n})\n\nuserSchema.statics.isThisEmailInUSe = async function(email){\n\ttry {\n\t\tconst user = await this.findOne({email})\n\t\tif(user) {\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t\n\t} catch (error) {\n\t\tconsole.log('error', error.message);\n\t\treturn false;\n\t\t\n\t}\n\n\t\n}\n\nuserSchema.methods.passwordComparison = function(inputPassword){\nlet user = this;\n  return bcrypt.compare(inputPassword, user.password);\n};\n\nuserSchema.statics.getUser = function (username) {\n\treturn this.find({ username: username });\n}\n\nexport const User =mongoose.model(\"User\", userSchema)"]}},"mtime":1650546131661},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/MessageRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _AuthenticateToken = require(\"../AuthMiddleWare/AuthenticateToken\");\n\nvar _messageControllers = require(\"../controllers/messageControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n//Contact or Messages\nrouter.get(\"/messages\", _AuthenticateToken.authenticateToken, _messageControllers.messages_get_all);\nrouter.get(\"/messages/:messageId\", _AuthenticateToken.authenticateToken, _messageControllers.message_get_one);\nrouter.post(\"/messages\", _messageControllers.message_create);\nrouter.delete(\"/messages/:messageId\", _AuthenticateToken.authenticateToken, _messageControllers.message_delete_one);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1lc3NhZ2VSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImF1dGhlbnRpY2F0ZVRva2VuIiwibWVzc2FnZXNfZ2V0X2FsbCIsIm1lc3NhZ2VfZ2V0X29uZSIsInBvc3QiLCJtZXNzYWdlX2NyZWF0ZSIsImRlbGV0ZSIsIm1lc3NhZ2VfZGVsZXRlX29uZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUdBOzs7O0FBRkEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmOztBQUtBO0FBQ0FGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFdBQVgsRUFBd0JDLG9DQUF4QixFQUEyQ0Msb0NBQTNDO0FBRUFMLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLHNCQUFYLEVBQW1DQyxvQ0FBbkMsRUFBc0RFLG1DQUF0RDtBQUVBTixNQUFNLENBQUNPLElBQVAsQ0FBWSxXQUFaLEVBQXlCQyxrQ0FBekI7QUFFQVIsTUFBTSxDQUFDUyxNQUFQLENBQWMsc0JBQWQsRUFBc0NMLG9DQUF0QyxFQUF5RE0sc0NBQXpEO2VBQ2VWLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCB7YXV0aGVudGljYXRlVG9rZW59IGZyb20gXCIuLi9BdXRoTWlkZGxlV2FyZS9BdXRoZW50aWNhdGVUb2tlblwiXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5pbXBvcnQge21lc3NhZ2VzX2dldF9hbGwsIG1lc3NhZ2VfY3JlYXRlLCBtZXNzYWdlX2dldF9vbmUsIG1lc3NhZ2VfZGVsZXRlX29uZX0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL21lc3NhZ2VDb250cm9sbGVyc1wiXG5cblxuLy9Db250YWN0IG9yIE1lc3NhZ2VzXG5yb3V0ZXIuZ2V0KFwiL21lc3NhZ2VzXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBtZXNzYWdlc19nZXRfYWxsKVxuXG5yb3V0ZXIuZ2V0KFwiL21lc3NhZ2VzLzptZXNzYWdlSWRcIiwgYXV0aGVudGljYXRlVG9rZW4sIG1lc3NhZ2VfZ2V0X29uZSlcblxucm91dGVyLnBvc3QoXCIvbWVzc2FnZXNcIiwgbWVzc2FnZV9jcmVhdGUpXG5cbnJvdXRlci5kZWxldGUoXCIvbWVzc2FnZXMvOm1lc3NhZ2VJZFwiLCBhdXRoZW50aWNhdGVUb2tlbiwgbWVzc2FnZV9kZWxldGVfb25lKVxuZXhwb3J0IGRlZmF1bHQgcm91dGVyIl19","map":{"version":3,"sources":["MessageRoutes.js"],"names":["router","express","Router","get","authenticateToken","messages_get_all","message_get_one","post","message_create","delete","message_delete_one"],"mappings":";;;;;;;AAAA;;AACA;;AAGA;;;;AAFA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAKA;AACAF,MAAM,CAACG,GAAP,CAAW,WAAX,EAAwBC,oCAAxB,EAA2CC,oCAA3C;AAEAL,MAAM,CAACG,GAAP,CAAW,sBAAX,EAAmCC,oCAAnC,EAAsDE,mCAAtD;AAEAN,MAAM,CAACO,IAAP,CAAY,WAAZ,EAAyBC,kCAAzB;AAEAR,MAAM,CAACS,MAAP,CAAc,sBAAd,EAAsCL,oCAAtC,EAAyDM,sCAAzD;eACeV,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\"\nconst router = express.Router();\n\nimport {messages_get_all, message_create, message_get_one, message_delete_one} from \"../controllers/messageControllers\"\n\n\n//Contact or Messages\nrouter.get(\"/messages\", authenticateToken, messages_get_all)\n\nrouter.get(\"/messages/:messageId\", authenticateToken, message_get_one)\n\nrouter.post(\"/messages\", message_create)\n\nrouter.delete(\"/messages/:messageId\", authenticateToken, message_delete_one)\nexport default router"]}},"mtime":1651128216122},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/messageControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.messages_get_all = exports.message_get_one = exports.message_delete_one = exports.message_create = void 0;\n\nvar _Contact = require(\"../models/Contact\");\n\n//contact or mesages\nconst messages_get_all = async (req, res) => {\n  try {\n    const messages = await _Contact.Contact.find();\n    if (messages == null) return res.status(404);\n    return res.status(200).json({\n      data: messages,\n      message: \"contacts fetched!\"\n    });\n  } catch (error) {\n    return res.status(404);\n  }\n}; // get single message\n\n\nexports.messages_get_all = messages_get_all;\n\nconst message_get_one = async (req, res) => {\n  try {\n    const message = await _Contact.Contact.findById(req.params.messageId);\n    if (!message) return res.status(404).json({\n      message: \"Contact not available\"\n    });\n    return res.status(200).json({\n      data: message\n    });\n  } catch (error) {\n    return res.status(404).json({\n      error: error.message\n    });\n  }\n}; // delete a message\n\n\nexports.message_get_one = message_get_one;\n\nconst message_delete_one = async (req, res) => {\n  try {\n    const message = await _Contact.Contact.findById(req.params.messageId);\n    if (!message) return res.status(404).json({\n      message: \"Contact not available\"\n    });\n    await message.remove();\n    return res.status(200).json({\n      message: \"Message Deleted!\"\n    });\n  } catch (error) {\n    return res.status(404).json({\n      error: error.message\n    });\n  }\n}; // sending a message\n\n\nexports.message_delete_one = message_delete_one;\n\nconst message_create = async (req, res) => {\n  if (req.body.sender === '' || req.body.message === '') {\n    return res.status(403).json({\n      message: \"sender and message are required\"\n    });\n  } else {\n    const message = new _Contact.Contact({\n      sender: req.body.sender,\n      name: req.body.name,\n      message: req.body.message\n    });\n    await message.save();\n    return res.status(201).json({\n      message: \"Message Sent successfully\"\n    });\n  }\n};\n\nexports.message_create = message_create;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2VDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJtZXNzYWdlc19nZXRfYWxsIiwicmVxIiwicmVzIiwibWVzc2FnZXMiLCJDb250YWN0IiwiZmluZCIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwibWVzc2FnZSIsImVycm9yIiwibWVzc2FnZV9nZXRfb25lIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJtZXNzYWdlSWQiLCJtZXNzYWdlX2RlbGV0ZV9vbmUiLCJyZW1vdmUiLCJtZXNzYWdlX2NyZWF0ZSIsImJvZHkiLCJzZW5kZXIiLCJuYW1lIiwic2F2ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBO0FBQ0EsTUFBTUEsZ0JBQWdCLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQWtCO0FBQ3ZDLE1BQUc7QUFDQyxVQUFNQyxRQUFRLEdBQUcsTUFBTUMsaUJBQVFDLElBQVIsRUFBdkI7QUFDQSxRQUFJRixRQUFRLElBQUksSUFBaEIsRUFBc0IsT0FBUUQsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxDQUFSO0FBRXRCLFdBQU9KLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNDLE1BQUFBLElBQUksRUFBQ0wsUUFBTjtBQUFnQk0sTUFBQUEsT0FBTyxFQUFDO0FBQXhCLEtBQXJCLENBQVA7QUFDQyxHQUxMLENBS00sT0FBTUMsS0FBTixFQUFZO0FBQ2QsV0FBT1IsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxDQUFQO0FBQ0g7QUFFSixDQVZELEMsQ0FXQTs7Ozs7QUFFQSxNQUFNSyxlQUFlLEdBQUcsT0FBT1YsR0FBUCxFQUFZQyxHQUFaLEtBQWtCO0FBQ3RDLE1BQUc7QUFDQyxVQUFNTyxPQUFPLEdBQUcsTUFBTUwsaUJBQVFRLFFBQVIsQ0FBaUJYLEdBQUcsQ0FBQ1ksTUFBSixDQUFXQyxTQUE1QixDQUF0QjtBQUNBLFFBQUksQ0FBQ0wsT0FBTCxFQUFjLE9BQVFQLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNFLE1BQUFBLE9BQU8sRUFBQztBQUFULEtBQXJCLENBQVI7QUFFZCxXQUFPUCxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxJQUFJLEVBQUNDO0FBQU4sS0FBckIsQ0FBUDtBQUVDLEdBTkwsQ0FNTSxPQUFNQyxLQUFOLEVBQVk7QUFDZCxXQUFPUixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDRyxNQUFBQSxLQUFLLEVBQUNBLEtBQUssQ0FBQ0Q7QUFBYixLQUFyQixDQUFQO0FBQ0g7QUFFSixDQVhELEMsQ0FhQTs7Ozs7QUFDQSxNQUFNTSxrQkFBa0IsR0FBRyxPQUFPZCxHQUFQLEVBQVlDLEdBQVosS0FBa0I7QUFDekMsTUFBRztBQUNDLFVBQU1PLE9BQU8sR0FBRyxNQUFNTCxpQkFBUVEsUUFBUixDQUFpQlgsR0FBRyxDQUFDWSxNQUFKLENBQVdDLFNBQTVCLENBQXRCO0FBQ0EsUUFBSSxDQUFDTCxPQUFMLEVBQWMsT0FBUVAsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0UsTUFBQUEsT0FBTyxFQUFDO0FBQVQsS0FBckIsQ0FBUjtBQUVkLFVBQU1BLE9BQU8sQ0FBQ08sTUFBUixFQUFOO0FBRUEsV0FBT2QsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0UsTUFBQUEsT0FBTyxFQUFDO0FBQVQsS0FBckIsQ0FBUDtBQUVDLEdBUkwsQ0FRTSxPQUFNQyxLQUFOLEVBQVk7QUFDZCxXQUFPUixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDRyxNQUFBQSxLQUFLLEVBQUNBLEtBQUssQ0FBQ0Q7QUFBYixLQUFyQixDQUFQO0FBQ0g7QUFFSixDQWJELEMsQ0FlQTs7Ozs7QUFDQSxNQUFNUSxjQUFjLEdBQUcsT0FBTWhCLEdBQU4sRUFBV0MsR0FBWCxLQUFpQjtBQUNwQyxNQUFHRCxHQUFHLENBQUNpQixJQUFKLENBQVNDLE1BQVQsS0FBb0IsRUFBcEIsSUFBMEJsQixHQUFHLENBQUNpQixJQUFKLENBQVNULE9BQVQsS0FBcUIsRUFBbEQsRUFBcUQ7QUFDakQsV0FBT1AsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0UsTUFBQUEsT0FBTyxFQUFDO0FBQVQsS0FBckIsQ0FBUDtBQUNILEdBRkQsTUFHSTtBQUNBLFVBQU1BLE9BQU8sR0FBRyxJQUFJTCxnQkFBSixDQUFZO0FBQ3hCZSxNQUFBQSxNQUFNLEVBQUVsQixHQUFHLENBQUNpQixJQUFKLENBQVNDLE1BRE87QUFFeEJDLE1BQUFBLElBQUksRUFBQ25CLEdBQUcsQ0FBQ2lCLElBQUosQ0FBU0UsSUFGVTtBQUd4QlgsTUFBQUEsT0FBTyxFQUFFUixHQUFHLENBQUNpQixJQUFKLENBQVNUO0FBSE0sS0FBWixDQUFoQjtBQU1BLFVBQU1BLE9BQU8sQ0FBQ1ksSUFBUixFQUFOO0FBRUEsV0FBT25CLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNFLE1BQUFBLE9BQU8sRUFBQztBQUFULEtBQXJCLENBQVA7QUFDSDtBQUNKLENBZkQiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29udGFjdH0gZnJvbSAnLi4vbW9kZWxzL0NvbnRhY3QnXG5cbi8vY29udGFjdCBvciBtZXNhZ2VzXG5jb25zdCBtZXNzYWdlc19nZXRfYWxsID0gYXN5bmMgKHJlcSwgcmVzKT0+e1xuICAgIHRyeXtcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBhd2FpdCBDb250YWN0LmZpbmQoKTtcbiAgICAgICAgaWYgKG1lc3NhZ2VzID09IG51bGwpIHJldHVybiAgcmVzLnN0YXR1cyg0MDQpXG4gICAgICAgXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7ZGF0YTptZXNzYWdlcywgbWVzc2FnZTpcImNvbnRhY3RzIGZldGNoZWQhXCJ9KVxuICAgICAgICB9IGNhdGNoKGVycm9yKXtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KVxuICAgIH1cbiAgICBcbn1cbi8vIGdldCBzaW5nbGUgbWVzc2FnZVxuXG5jb25zdCBtZXNzYWdlX2dldF9vbmUgPSBhc3luYyAocmVxLCByZXMpPT57XG4gICAgdHJ5e1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgQ29udGFjdC5maW5kQnlJZChyZXEucGFyYW1zLm1lc3NhZ2VJZCk7XG4gICAgICAgIGlmICghbWVzc2FnZSkgcmV0dXJuICByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTpcIkNvbnRhY3Qgbm90IGF2YWlsYWJsZVwifSlcbiAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtkYXRhOm1lc3NhZ2V9KVxuXG4gICAgICAgIH0gY2F0Y2goZXJyb3Ipe1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe2Vycm9yOmVycm9yLm1lc3NhZ2V9KVxuICAgIH1cbiAgICBcbn1cblxuLy8gZGVsZXRlIGEgbWVzc2FnZVxuY29uc3QgbWVzc2FnZV9kZWxldGVfb25lID0gYXN5bmMgKHJlcSwgcmVzKT0+e1xuICAgIHRyeXtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IENvbnRhY3QuZmluZEJ5SWQocmVxLnBhcmFtcy5tZXNzYWdlSWQpO1xuICAgICAgICBpZiAoIW1lc3NhZ2UpIHJldHVybiAgcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6XCJDb250YWN0IG5vdCBhdmFpbGFibGVcIn0pXG4gICAgICAgIFxuICAgICAgICBhd2FpdCBtZXNzYWdlLnJlbW92ZSgpXG5cbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOlwiTWVzc2FnZSBEZWxldGVkIVwifSlcblxuICAgICAgICB9IGNhdGNoKGVycm9yKXtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtlcnJvcjplcnJvci5tZXNzYWdlfSlcbiAgICB9XG4gICAgXG59XG5cbi8vIHNlbmRpbmcgYSBtZXNzYWdlXG5jb25zdCBtZXNzYWdlX2NyZWF0ZSA9IGFzeW5jKHJlcSwgcmVzKT0+e1xuICAgIGlmKHJlcS5ib2R5LnNlbmRlciA9PT0gJycgfHwgcmVxLmJvZHkubWVzc2FnZSA9PT0gJycpe1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJzZW5kZXIgYW5kIG1lc3NhZ2UgYXJlIHJlcXVpcmVkXCJ9KVxuICAgIH1cbiAgICBlbHNle1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gbmV3IENvbnRhY3Qoe1xuICAgICAgICAgICAgc2VuZGVyOiByZXEuYm9keS5zZW5kZXIsXG4gICAgICAgICAgICBuYW1lOnJlcS5ib2R5Lm5hbWUsXG4gICAgICAgICAgICBtZXNzYWdlOiByZXEuYm9keS5tZXNzYWdlLFxuICAgIFxuICAgICAgICB9KVxuICAgICAgICBhd2FpdCBtZXNzYWdlLnNhdmUoKVxuXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7bWVzc2FnZTpcIk1lc3NhZ2UgU2VudCBzdWNjZXNzZnVsbHlcIn0pXG4gICAgfVxufVxuXG5leHBvcnQge21lc3NhZ2VzX2dldF9hbGwsIG1lc3NhZ2VfY3JlYXRlLCBtZXNzYWdlX2dldF9vbmUsIG1lc3NhZ2VfZGVsZXRlX29uZX0gICAgIl19","map":{"version":3,"sources":["messageControllers.js"],"names":["messages_get_all","req","res","messages","Contact","find","status","json","data","message","error","message_get_one","findById","params","messageId","message_delete_one","remove","message_create","body","sender","name","save"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import {Contact} from '../models/Contact'\n\n//contact or mesages\nconst messages_get_all = async (req, res)=>{\n    try{\n        const messages = await Contact.find();\n        if (messages == null) return  res.status(404)\n       \n        return res.status(200).json({data:messages, message:\"contacts fetched!\"})\n        } catch(error){\n        return res.status(404)\n    }\n    \n}\n// get single message\n\nconst message_get_one = async (req, res)=>{\n    try{\n        const message = await Contact.findById(req.params.messageId);\n        if (!message) return  res.status(404).json({message:\"Contact not available\"})\n       \n        return res.status(200).json({data:message})\n\n        } catch(error){\n        return res.status(404).json({error:error.message})\n    }\n    \n}\n\n// delete a message\nconst message_delete_one = async (req, res)=>{\n    try{\n        const message = await Contact.findById(req.params.messageId);\n        if (!message) return  res.status(404).json({message:\"Contact not available\"})\n        \n        await message.remove()\n\n        return res.status(200).json({message:\"Message Deleted!\"})\n\n        } catch(error){\n        return res.status(404).json({error:error.message})\n    }\n    \n}\n\n// sending a message\nconst message_create = async(req, res)=>{\n    if(req.body.sender === '' || req.body.message === ''){\n        return res.status(403).json({message:\"sender and message are required\"})\n    }\n    else{\n        const message = new Contact({\n            sender: req.body.sender,\n            name:req.body.name,\n            message: req.body.message,\n    \n        })\n        await message.save()\n\n        return res.status(201).json({message:\"Message Sent successfully\"})\n    }\n}\n\nexport {messages_get_all, message_create, message_get_one, message_delete_one}    "]}},"mtime":1650900496077},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/Contact.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Contact = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst contactSchema = new _mongoose.mongoose.Schema({\n  sender: {\n    type: String\n  },\n  name: {\n    type: String\n  },\n  message: {\n    type: String\n  }\n}, {\n  timestamps: true\n});\n\nconst Contact = _mongoose.mongoose.model(\"Message\", contactSchema);\n\nexports.Contact = Contact;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbnRhY3QuanMiXSwibmFtZXMiOlsiY29udGFjdFNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwic2VuZGVyIiwidHlwZSIsIlN0cmluZyIsIm5hbWUiLCJtZXNzYWdlIiwidGltZXN0YW1wcyIsIkNvbnRhY3QiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyxtQkFBU0MsTUFBYixDQUFvQjtBQUN6Q0MsRUFBQUEsTUFBTSxFQUFDO0FBQ05DLElBQUFBLElBQUksRUFBQ0M7QUFEQyxHQURrQztBQUl0Q0MsRUFBQUEsSUFBSSxFQUFDO0FBQ0RGLElBQUFBLElBQUksRUFBQ0M7QUFESixHQUppQztBQU96Q0UsRUFBQUEsT0FBTyxFQUFDO0FBQ1BILElBQUFBLElBQUksRUFBQ0M7QUFERTtBQVBpQyxDQUFwQixFQVVwQjtBQUFDRyxFQUFBQSxVQUFVLEVBQUM7QUFBWixDQVZvQixDQUF0Qjs7QUFhTyxNQUFNQyxPQUFPLEdBQUdSLG1CQUFTUyxLQUFULENBQWUsU0FBZixFQUEwQlYsYUFBMUIsQ0FBaEIiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge21vbmdvb3NlfSBmcm9tIFwibW9uZ29vc2VcIlxuXG5jb25zdCBjb250YWN0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG5cdHNlbmRlcjp7XG5cdFx0dHlwZTpTdHJpbmdcblx0fSxcbiAgICBuYW1lOntcbiAgICAgICAgdHlwZTpTdHJpbmdcbiAgICB9LFxuXHRtZXNzYWdlOntcblx0XHR0eXBlOlN0cmluZ1xuXHR9XG59LHt0aW1lc3RhbXBzOnRydWV9KVxuXG5cbmV4cG9ydCBjb25zdCBDb250YWN0ID0gbW9uZ29vc2UubW9kZWwoXCJNZXNzYWdlXCIsIGNvbnRhY3RTY2hlbWEpIl19","map":{"version":3,"sources":["Contact.js"],"names":["contactSchema","mongoose","Schema","sender","type","String","name","message","timestamps","Contact","model"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,aAAa,GAAG,IAAIC,mBAASC,MAAb,CAAoB;AACzCC,EAAAA,MAAM,EAAC;AACNC,IAAAA,IAAI,EAACC;AADC,GADkC;AAItCC,EAAAA,IAAI,EAAC;AACDF,IAAAA,IAAI,EAACC;AADJ,GAJiC;AAOzCE,EAAAA,OAAO,EAAC;AACPH,IAAAA,IAAI,EAACC;AADE;AAPiC,CAApB,EAUpB;AAACG,EAAAA,UAAU,EAAC;AAAZ,CAVoB,CAAtB;;AAaO,MAAMC,OAAO,GAAGR,mBAASS,KAAT,CAAe,SAAf,EAA0BV,aAA1B,CAAhB","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/","sourcesContent":["import {mongoose} from \"mongoose\"\n\nconst contactSchema = new mongoose.Schema({\n\tsender:{\n\t\ttype:String\n\t},\n    name:{\n        type:String\n    },\n\tmessage:{\n\t\ttype:String\n\t}\n},{timestamps:true})\n\n\nexport const Contact = mongoose.model(\"Message\", contactSchema)"]}},"mtime":1650546131661},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/CommentRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _AuthenticateToken = require(\"../AuthMiddleWare/AuthenticateToken\");\n\nvar _commentControllers = require(\"../controllers/commentControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router(); //add comment\n\n\nrouter.post(\"/posts/:id/comment\", _AuthenticateToken.authenticateToken, _commentControllers.comment_one); // get all comment of a post\n\nrouter.get(\"/posts/:id/comment\", _commentControllers.comment_get_all); // get one comment\n\nrouter.get(\"/comments/:id\", _commentControllers.comment_get_one); // delete comment \n\nrouter.delete(\"/comments/:id\", _AuthenticateToken.authenticateToken, _commentControllers.comment_delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbW1lbnRSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJhdXRoZW50aWNhdGVUb2tlbiIsImNvbW1lbnRfb25lIiwiZ2V0IiwiY29tbWVudF9nZXRfYWxsIiwiY29tbWVudF9nZXRfb25lIiwiZGVsZXRlIiwiY29tbWVudF9kZWxldGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZixDLENBRUE7OztBQUNBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxvQkFBWixFQUFtQ0Msb0NBQW5DLEVBQXNEQywrQkFBdEQsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNNLEdBQVAsQ0FBVyxvQkFBWCxFQUFrQ0MsbUNBQWxDLEUsQ0FFQTs7QUFDQVAsTUFBTSxDQUFDTSxHQUFQLENBQVcsZUFBWCxFQUE2QkUsbUNBQTdCLEUsQ0FFQTs7QUFDQVIsTUFBTSxDQUFDUyxNQUFQLENBQWMsZUFBZCxFQUErQkwsb0NBQS9CLEVBQWtETSxrQ0FBbEQ7ZUFJZVYsTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHthdXRoZW50aWNhdGVUb2tlbn0gZnJvbSBcIi4uL0F1dGhNaWRkbGVXYXJlL0F1dGhlbnRpY2F0ZVRva2VuXCI7XG5pbXBvcnQge2NvbW1lbnRfb25lLCBjb21tZW50X2dldF9hbGwsIGNvbW1lbnRfZ2V0X29uZSxjb21tZW50X2RlbGV0ZX0gZnJvbSAnLi4vY29udHJvbGxlcnMvY29tbWVudENvbnRyb2xsZXJzJztcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTsgXG5cbi8vYWRkIGNvbW1lbnRcbnJvdXRlci5wb3N0KFwiL3Bvc3RzLzppZC9jb21tZW50XCIsICBhdXRoZW50aWNhdGVUb2tlbiwgY29tbWVudF9vbmUpXG5cbi8vIGdldCBhbGwgY29tbWVudCBvZiBhIHBvc3RcbnJvdXRlci5nZXQoXCIvcG9zdHMvOmlkL2NvbW1lbnRcIiwgIGNvbW1lbnRfZ2V0X2FsbClcblxuLy8gZ2V0IG9uZSBjb21tZW50XG5yb3V0ZXIuZ2V0KFwiL2NvbW1lbnRzLzppZFwiLCAgY29tbWVudF9nZXRfb25lKVxuXG4vLyBkZWxldGUgY29tbWVudCBcbnJvdXRlci5kZWxldGUoXCIvY29tbWVudHMvOmlkXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBjb21tZW50X2RlbGV0ZSlcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlciJdfQ==","map":{"version":3,"sources":["CommentRoutes.js"],"names":["router","express","Router","post","authenticateToken","comment_one","get","comment_get_all","comment_get_one","delete","comment_delete"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf,C,CAEA;;;AACAF,MAAM,CAACG,IAAP,CAAY,oBAAZ,EAAmCC,oCAAnC,EAAsDC,+BAAtD,E,CAEA;;AACAL,MAAM,CAACM,GAAP,CAAW,oBAAX,EAAkCC,mCAAlC,E,CAEA;;AACAP,MAAM,CAACM,GAAP,CAAW,eAAX,EAA6BE,mCAA7B,E,CAEA;;AACAR,MAAM,CAACS,MAAP,CAAc,eAAd,EAA+BL,oCAA/B,EAAkDM,kCAAlD;eAIeV,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\";\nimport {comment_one, comment_get_all, comment_get_one,comment_delete} from '../controllers/commentControllers';\n\nconst router = express.Router(); \n\n//add comment\nrouter.post(\"/posts/:id/comment\",  authenticateToken, comment_one)\n\n// get all comment of a post\nrouter.get(\"/posts/:id/comment\",  comment_get_all)\n\n// get one comment\nrouter.get(\"/comments/:id\",  comment_get_one)\n\n// delete comment \nrouter.delete(\"/comments/:id\", authenticateToken, comment_delete)\n\n\n\nexport default router"]}},"mtime":1651128242501},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/commentControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.comment_one = exports.comment_get_one = exports.comment_get_all = exports.comment_delete = void 0;\n\nvar _Post = require(\"../models/Post\");\n\n//comment on a post\nconst comment_one = async (req, res) => {\n  const id = req.params.id;\n  const post = await _Post.Post.findById(id);\n\n  if (post !== null) {\n    //create comment\n    const newComment = await _Post.Comment.create({\n      postId: id,\n      description: req.body.comment\n    });\n    post.comments.push(newComment);\n    await post.save();\n    return res.status(201).json({\n      comment: newComment\n    });\n  } else {\n    return res.status(404).json({\n      message: \"Post not available\"\n    });\n  }\n}; // get all comments of a post\n\n\nexports.comment_one = comment_one;\n\nconst comment_get_all = async (req, res) => {\n  try {\n    const postId = req.params.id;\n    const post = await _Post.Post.findById(postId);\n    if (post == null) return res.status(404).json({\n      message: \"post not found\"\n    });\n    const comments = await _Post.Comment.find({\n      postId: postId\n    });\n\n    if (comments.length > 0) {\n      return res.status(200).json({\n        comments: comments\n      });\n    } else {\n      return res.status(404).json({\n        comment: \"no comments related to this post\"\n      });\n    }\n  } catch (error) {\n    return res.status(404).json({\n      message: error.message\n    });\n  }\n}; // get one comment\n\n\nexports.comment_get_all = comment_get_all;\n\nconst comment_get_one = async (req, res) => {\n  try {\n    const commentId = req.params.id;\n    const comment = await _Post.Comment.findById(commentId);\n\n    if (comment != null) {\n      return res.status(200).json({\n        comment\n      });\n    }\n\n    return res.status(404).json({\n      comment: \"Comment Doesn't Exists\"\n    });\n  } catch (error) {\n    return res.status(404).json({\n      comment: \"Comment Doesn't Exists\"\n    });\n  }\n}; // delete a comment\n\n\nexports.comment_get_one = comment_get_one;\n\nconst comment_delete = async (req, res) => {\n  try {\n    const commentId = req.params.id;\n    const comment = await _Post.Comment.findById(commentId);\n\n    if (comment != null) {\n      // delete a comment\n      await _Post.Comment.deleteOne(comment);\n      return res.status(200).json({\n        message: \"Comment deleted\"\n      });\n    }\n\n    return res.status(404).json({\n      message: \"Comment doesn't exist\"\n    });\n  } catch (error) {\n    return res.status(500).json({\n      comment: \"Internal server error\"\n    });\n  }\n};\n\nexports.comment_delete = comment_delete;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJjb21tZW50X29uZSIsInJlcSIsInJlcyIsImlkIiwicGFyYW1zIiwicG9zdCIsIlBvc3QiLCJmaW5kQnlJZCIsIm5ld0NvbW1lbnQiLCJDb21tZW50IiwiY3JlYXRlIiwicG9zdElkIiwiZGVzY3JpcHRpb24iLCJib2R5IiwiY29tbWVudCIsImNvbW1lbnRzIiwicHVzaCIsInNhdmUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImNvbW1lbnRfZ2V0X2FsbCIsImZpbmQiLCJsZW5ndGgiLCJlcnJvciIsImNvbW1lbnRfZ2V0X29uZSIsImNvbW1lbnRJZCIsImNvbW1lbnRfZGVsZXRlIiwiZGVsZXRlT25lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBR0E7QUFDQSxNQUFNQSxXQUFXLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQWtCO0FBQ3JDLFFBQU1DLEVBQUUsR0FBR0YsR0FBRyxDQUFDRyxNQUFKLENBQVdELEVBQXRCO0FBQ0EsUUFBTUUsSUFBSSxHQUFHLE1BQU1DLFdBQUtDLFFBQUwsQ0FBY0osRUFBZCxDQUFuQjs7QUFFQSxNQUFJRSxJQUFJLEtBQUssSUFBYixFQUFrQjtBQUNqQjtBQUNBLFVBQU1HLFVBQVUsR0FBRyxNQUFNQyxjQUFRQyxNQUFSLENBQWU7QUFDdkNDLE1BQUFBLE1BQU0sRUFBQ1IsRUFEZ0M7QUFFdkNTLE1BQUFBLFdBQVcsRUFBRVgsR0FBRyxDQUFDWSxJQUFKLENBQVNDO0FBRmlCLEtBQWYsQ0FBekI7QUFLQVQsSUFBQUEsSUFBSSxDQUFDVSxRQUFMLENBQWNDLElBQWQsQ0FBbUJSLFVBQW5CO0FBQ0EsVUFBTUgsSUFBSSxDQUFDWSxJQUFMLEVBQU47QUFDQSxXQUFPZixHQUFHLENBQUNnQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0wsTUFBQUEsT0FBTyxFQUFDTjtBQUFULEtBQXJCLENBQVA7QUFFQSxHQVhELE1B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QUFULE9BQXJCLENBQVA7QUFFQTs7QUFFRCxXQUFPbEIsR0FBRyxDQUFDZ0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNDLE1BQUFBLE9BQU8sRUFBQztBQUFULEtBQXJCLENBQVA7QUFHQSxHQWZELENBZUUsT0FBT0ksS0FBUCxFQUFjO0FBQ2YsV0FBT3RCLEdBQUcsQ0FBQ2dCLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDTCxNQUFBQSxPQUFPLEVBQUM7QUFBVCxLQUFyQixDQUFQO0FBQ0E7QUFHRCxDQXRCRCIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtQb3N0LENvbW1lbnR9IGZyb20gJy4uL21vZGVscy9Qb3N0J1xuXG5cbi8vY29tbWVudCBvbiBhIHBvc3RcbmNvbnN0IGNvbW1lbnRfb25lID0gYXN5bmMgKHJlcSwgcmVzKT0+e1xuXHRjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XG5cdGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRCeUlkKGlkKTtcblxuXHRpZiAocG9zdCAhPT0gbnVsbCl7XG5cdFx0Ly9jcmVhdGUgY29tbWVudFxuXHRcdGNvbnN0IG5ld0NvbW1lbnQgPSBhd2FpdCBDb21tZW50LmNyZWF0ZSh7XG5cdFx0XHRwb3N0SWQ6aWQsXG5cdFx0XHRkZXNjcmlwdGlvbjogcmVxLmJvZHkuY29tbWVudFxuXHRcdH0pO1xuXG5cdFx0cG9zdC5jb21tZW50cy5wdXNoKG5ld0NvbW1lbnQpO1xuXHRcdGF3YWl0IHBvc3Quc2F2ZSgpXG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtjb21tZW50Om5ld0NvbW1lbnR9KVxuXHRcdFxuXHR9ZWxzZXtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6XCJQb3N0IG5vdCBhdmFpbGFibGVcIn0pXG5cdH1cbn1cblxuLy8gZ2V0IGFsbCBjb21tZW50cyBvZiBhIHBvc3RcbmNvbnN0IGNvbW1lbnRfZ2V0X2FsbCA9IGFzeW5jIChyZXEsIHJlcyk9Pntcblx0dHJ5IHtcblx0XHRjb25zdCBwb3N0SWQ9IHJlcS5wYXJhbXMuaWQ7XG5cdFx0Y29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZEJ5SWQocG9zdElkKTtcblx0XHRpZihwb3N0ID09IG51bGwpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTpcInBvc3Qgbm90IGZvdW5kXCJ9KTtcblx0XHRcblx0XHRjb25zdCBjb21tZW50cyA9IGF3YWl0IENvbW1lbnQuZmluZCh7cG9zdElkOnBvc3RJZH0pO1xuXG5cdFx0aWYoY29tbWVudHMubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICBcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7Y29tbWVudHM6Y29tbWVudHN9KTtcblx0XHR9ZWxzZXtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7Y29tbWVudDpcIm5vIGNvbW1lbnRzIHJlbGF0ZWQgdG8gdGhpcyBwb3N0XCJ9KTtcblx0XHR9XG5cdFxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTplcnJvci5tZXNzYWdlfSlcblx0fVxuXHRcbn1cblxuLy8gZ2V0IG9uZSBjb21tZW50XG5jb25zdCBjb21tZW50X2dldF9vbmUgPSBhc3luYyAocmVxLCByZXMpPT57XG5cdFxuXHR0cnkge1xuXHRcdGNvbnN0IGNvbW1lbnRJZCA9IHJlcS5wYXJhbXMuaWQ7XG5cdFx0Y29uc3QgY29tbWVudCA9IGF3YWl0IENvbW1lbnQuZmluZEJ5SWQoY29tbWVudElkKVxuXHRcdGlmKGNvbW1lbnQgIT0gbnVsbCApe1xuXHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtjb21tZW50fSlcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe2NvbW1lbnQ6XCJDb21tZW50IERvZXNuJ3QgRXhpc3RzXCJ9KVxuXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtjb21tZW50OlwiQ29tbWVudCBEb2Vzbid0IEV4aXN0c1wifSlcblx0fVxuXHRcblxufVxuXG4vLyBkZWxldGUgYSBjb21tZW50XG5jb25zdCBjb21tZW50X2RlbGV0ZSA9IGFzeW5jIChyZXEsIHJlcyk9Pntcblx0XG5cdHRyeSB7XG5cdFx0Y29uc3QgY29tbWVudElkID0gcmVxLnBhcmFtcy5pZDtcblx0XHRjb25zdCBjb21tZW50ID0gYXdhaXQgQ29tbWVudC5maW5kQnlJZChjb21tZW50SWQpXG5cdFx0aWYoY29tbWVudCAhPSBudWxsICl7XG5cblx0XHRcdC8vIGRlbGV0ZSBhIGNvbW1lbnRcblx0XHRcdGF3YWl0IENvbW1lbnQuZGVsZXRlT25lKGNvbW1lbnQpXG5cblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTpcIkNvbW1lbnQgZGVsZXRlZFwifSlcblx0XHRcdFxuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6XCJDb21tZW50IGRvZXNuJ3QgZXhpc3RcIn0pXG5cdFx0XG5cblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe2NvbW1lbnQ6XCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIn0pXG5cdH1cblx0XG5cbn1cblxuZXhwb3J0IHtjb21tZW50X29uZSxjb21tZW50X2dldF9hbGwsY29tbWVudF9nZXRfb25lLGNvbW1lbnRfZGVsZXRlfSJdfQ==","map":{"version":3,"sources":["commentControllers.js"],"names":["comment_one","req","res","id","params","post","Post","findById","newComment","Comment","create","postId","description","body","comment","comments","push","save","status","json","message","comment_get_all","find","length","error","comment_get_one","commentId","comment_delete","deleteOne"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import {Post,Comment} from '../models/Post'\n\n\n//comment on a post\nconst comment_one = async (req, res)=>{\n\tconst id = req.params.id;\n\tconst post = await Post.findById(id);\n\n\tif (post !== null){\n\t\t//create comment\n\t\tconst newComment = await Comment.create({\n\t\t\tpostId:id,\n\t\t\tdescription: req.body.comment\n\t\t});\n\n\t\tpost.comments.push(newComment);\n\t\tawait post.save()\n\t\treturn res.status(201).json({comment:newComment})\n\t\t\n\t}else{\n\t\treturn res.status(404).json({message:\"Post not available\"})\n\t}\n}\n\n// get all comments of a post\nconst comment_get_all = async (req, res)=>{\n\ttry {\n\t\tconst postId= req.params.id;\n\t\tconst post = await Post.findById(postId);\n\t\tif(post == null) return res.status(404).json({message:\"post not found\"});\n\t\t\n\t\tconst comments = await Comment.find({postId:postId});\n\n\t\tif(comments.length > 0){\n            \n\t\t\treturn res.status(200).json({comments:comments});\n\t\t}else{\n\t\t\treturn res.status(404).json({comment:\"no comments related to this post\"});\n\t\t}\n\t\n\t} catch (error) {\n\t\treturn res.status(404).json({message:error.message})\n\t}\n\t\n}\n\n// get one comment\nconst comment_get_one = async (req, res)=>{\n\t\n\ttry {\n\t\tconst commentId = req.params.id;\n\t\tconst comment = await Comment.findById(commentId)\n\t\tif(comment != null ){\n\t\t\treturn res.status(200).json({comment})\n\t\t}\n\n\t\treturn res.status(404).json({comment:\"Comment Doesn't Exists\"})\n\n\t} catch (error) {\n\t\treturn res.status(404).json({comment:\"Comment Doesn't Exists\"})\n\t}\n\t\n\n}\n\n// delete a comment\nconst comment_delete = async (req, res)=>{\n\t\n\ttry {\n\t\tconst commentId = req.params.id;\n\t\tconst comment = await Comment.findById(commentId)\n\t\tif(comment != null ){\n\n\t\t\t// delete a comment\n\t\t\tawait Comment.deleteOne(comment)\n\n\t\t\treturn res.status(200).json({message:\"Comment deleted\"})\n\t\t\t\n\t\t}\n\t\t\n\t\treturn res.status(404).json({message:\"Comment doesn't exist\"})\n\t\t\n\n\t} catch (error) {\n\t\treturn res.status(500).json({comment:\"Internal server error\"})\n\t}\n\t\n\n}\n\nexport {comment_one,comment_get_all,comment_get_one,comment_delete}"]}},"mtime":1650955320863},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/LikeRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _likeControllers = require(\"../controllers/likeControllers\");\n\nvar _AuthenticateToken = require(\"../AuthMiddleWare/AuthenticateToken\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n//like a post\nrouter.put(\"/posts/like\", _AuthenticateToken.authenticateToken, _likeControllers.post_like); //unlike a post\n\nrouter.put(\"/posts/:id/unlike\", _AuthenticateToken.authenticateToken, _likeControllers.post_unlike);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxpa2VSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInB1dCIsImF1dGhlbnRpY2F0ZVRva2VuIiwicG9zdF9saWtlIiwicG9zdF91bmxpa2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFJQTs7QUFFQTs7OztBQUpBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFPQTtBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxhQUFYLEVBQTBCQyxvQ0FBMUIsRUFBNkNDLDBCQUE3QyxFLENBRUE7O0FBQ0FMLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLG1CQUFYLEVBQWdDQyxvQ0FBaEMsRUFBbURFLDRCQUFuRDtlQUdlTixNIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmltcG9ydCB7cG9zdF9saWtlLHBvc3RfdW5saWtlfSBmcm9tICcuLi9jb250cm9sbGVycy9saWtlQ29udHJvbGxlcnMnXG5cbmltcG9ydCB7YXV0aGVudGljYXRlVG9rZW59IGZyb20gXCIuLi9BdXRoTWlkZGxlV2FyZS9BdXRoZW50aWNhdGVUb2tlblwiXG5cblxuLy9saWtlIGEgcG9zdFxucm91dGVyLnB1dChcIi9wb3N0cy9saWtlXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBwb3N0X2xpa2UpXG5cbi8vdW5saWtlIGEgcG9zdFxucm91dGVyLnB1dChcIi9wb3N0cy86aWQvdW5saWtlXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBwb3N0X3VubGlrZSlcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXX0=","map":{"version":3,"sources":["LikeRoutes.js"],"names":["router","express","Router","put","authenticateToken","post_like","post_unlike"],"mappings":";;;;;;;AAAA;;AAIA;;AAEA;;;;AAJA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAOA;AACAF,MAAM,CAACG,GAAP,CAAW,aAAX,EAA0BC,oCAA1B,EAA6CC,0BAA7C,E,CAEA;;AACAL,MAAM,CAACG,GAAP,CAAW,mBAAX,EAAgCC,oCAAhC,EAAmDE,4BAAnD;eAGeN,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport {post_like,post_unlike} from '../controllers/likeControllers'\n\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\"\n\n\n//like a post\nrouter.put(\"/posts/like\", authenticateToken, post_like)\n\n//unlike a post\nrouter.put(\"/posts/:id/unlike\", authenticateToken, post_unlike)\n\n\nexport default router"]}},"mtime":1650959573416},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/likeControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.post_unlike = exports.post_like = void 0;\n\nvar _Post = require(\"../models/Post\");\n\n// like a post\nconst post_like = async (req, res) => {\n  const id = req.body.postId;\n\n  _Post.Post.findByIdAndUpdate(id, {\n    $push: {\n      likes: {\n        postId: id,\n        user: req.user.username\n      }\n    }\n  }, {\n    new: true\n  }).exec((err, result) => {\n    if (err) {\n      return res.status(422).json({\n        err: err\n      });\n    } else {\n      return res.status(200).json({\n        message: \"post liked!\"\n      });\n    }\n  });\n}; //unlike a post\n\n\nexports.post_like = post_like;\n\nconst post_unlike = (req, res) => {\n  const id = req.params.id;\n\n  _Post.Post.findByIdAndUpdate(id, {\n    $pull: {\n      likes: {\n        postId: id,\n        userId: req.user.username\n      }\n    }\n  }, {\n    new: true\n  }).exec((err, result) => {\n    if (err) {\n      return res.status(422).json({\n        err: err\n      });\n    } else {\n      return res.status(200).json({\n        message: \"unliked post!\"\n      });\n    }\n  });\n};\n\nexports.post_unlike = post_unlike;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpa2VDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJwb3N0X2xpa2UiLCJyZXEiLCJyZXMiLCJpZCIsImJvZHkiLCJwb3N0SWQiLCJQb3N0IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCIkcHVzaCIsImxpa2VzIiwidXNlciIsInVzZXJuYW1lIiwibmV3IiwiZXhlYyIsImVyciIsInJlc3VsdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwicG9zdF91bmxpa2UiLCJwYXJhbXMiLCIkcHVsbCIsInVzZXJJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUdBO0FBQ0EsTUFBTUEsU0FBUyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFrQjtBQUNuQyxRQUFNQyxFQUFFLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSixDQUFTQyxNQUFwQjs7QUFFQUMsYUFBS0MsaUJBQUwsQ0FBdUJKLEVBQXZCLEVBQTBCO0FBQ3pCSyxJQUFBQSxLQUFLLEVBQUM7QUFBQ0MsTUFBQUEsS0FBSyxFQUFDO0FBQUNKLFFBQUFBLE1BQU0sRUFBQ0YsRUFBUjtBQUFZTyxRQUFBQSxJQUFJLEVBQUNULEdBQUcsQ0FBQ1MsSUFBSixDQUFTQztBQUExQjtBQUFQO0FBRG1CLEdBQTFCLEVBQ29EO0FBQ2xEQyxJQUFBQSxHQUFHLEVBQUM7QUFEOEMsR0FEcEQsRUFHSUMsSUFISixDQUdTLENBQUNDLEdBQUQsRUFBTUMsTUFBTixLQUFlO0FBQ3RCLFFBQUdELEdBQUgsRUFBTztBQUNOLGFBQU9aLEdBQUcsQ0FBQ2MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNILFFBQUFBLEdBQUcsRUFBQ0E7QUFBTCxPQUFyQixDQUFQO0FBQ0EsS0FGRCxNQUdJO0FBRUgsYUFBT1osR0FBRyxDQUFDYyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0MsUUFBQUEsT0FBTyxFQUFDO0FBQVQsT0FBckIsQ0FBUDtBQUNBO0FBQ0QsR0FYRjtBQVlBLENBZkQsQyxDQWlCQTs7Ozs7QUFDQSxNQUFNQyxXQUFXLEdBQUcsQ0FBQ2xCLEdBQUQsRUFBTUMsR0FBTixLQUFZO0FBQy9CLFFBQU1DLEVBQUUsR0FBR0YsR0FBRyxDQUFDbUIsTUFBSixDQUFXakIsRUFBdEI7O0FBQ0FHLGFBQUtDLGlCQUFMLENBQXVCSixFQUF2QixFQUEwQjtBQUN6QmtCLElBQUFBLEtBQUssRUFBQztBQUFDWixNQUFBQSxLQUFLLEVBQUM7QUFBQ0osUUFBQUEsTUFBTSxFQUFDRixFQUFSO0FBQVltQixRQUFBQSxNQUFNLEVBQUNyQixHQUFHLENBQUNTLElBQUosQ0FBU0M7QUFBNUI7QUFBUDtBQURtQixHQUExQixFQUNzRDtBQUNwREMsSUFBQUEsR0FBRyxFQUFDO0FBRGdELEdBRHRELEVBR0lDLElBSEosQ0FHUyxDQUFDQyxHQUFELEVBQU1DLE1BQU4sS0FBZTtBQUN0QixRQUFHRCxHQUFILEVBQU87QUFDTixhQUFPWixHQUFHLENBQUNjLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDSCxRQUFBQSxHQUFHLEVBQUNBO0FBQUwsT0FBckIsQ0FBUDtBQUNBLEtBRkQsTUFHSTtBQUNILGFBQU9aLEdBQUcsQ0FBQ2MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNDLFFBQUFBLE9BQU8sRUFBQztBQUFULE9BQXJCLENBQVA7QUFDQTtBQUNELEdBVkY7QUFXQSxDQWJEIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb3N0IH0gZnJvbSBcIi4uL21vZGVscy9Qb3N0XCJcblxuXG4vLyBsaWtlIGEgcG9zdFxuY29uc3QgcG9zdF9saWtlID0gYXN5bmMgKHJlcSwgcmVzKT0+e1xuXHRjb25zdCBpZCA9IHJlcS5ib2R5LnBvc3RJZFxuXG5cdFBvc3QuZmluZEJ5SWRBbmRVcGRhdGUoaWQse1xuXHRcdCRwdXNoOntsaWtlczp7cG9zdElkOmlkLCB1c2VyOnJlcS51c2VyLnVzZXJuYW1lfX19LHtcblx0XHRcdG5ldzp0cnVlXG5cdFx0fSkuZXhlYygoZXJyLCByZXN1bHQpPT57XG5cdFx0XHRpZihlcnIpe1xuXHRcdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MjIpLmpzb24oe2VycjplcnJ9KVxuXHRcdFx0fVxuXHRcdFx0ZWxzZXtcblx0XHRcdFx0XG5cdFx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTpcInBvc3QgbGlrZWQhXCJ9KVxuXHRcdFx0fVxuXHRcdH0pXG59XG5cbi8vdW5saWtlIGEgcG9zdFxuY29uc3QgcG9zdF91bmxpa2UgPSAocmVxLCByZXMpPT57XG5cdGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZFxuXHRQb3N0LmZpbmRCeUlkQW5kVXBkYXRlKGlkLHtcblx0XHQkcHVsbDp7bGlrZXM6e3Bvc3RJZDppZCwgdXNlcklkOnJlcS51c2VyLnVzZXJuYW1lfX19LHtcblx0XHRcdG5ldzp0cnVlXG5cdFx0fSkuZXhlYygoZXJyLCByZXN1bHQpPT57XG5cdFx0XHRpZihlcnIpe1xuXHRcdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MjIpLmpzb24oe2VycjplcnJ9KVxuXHRcdFx0fVxuXHRcdFx0ZWxzZXtcblx0XHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOlwidW5saWtlZCBwb3N0IVwifSlcblx0XHRcdH1cblx0XHR9KVxufVxuXG5cbmV4cG9ydCB7cG9zdF9saWtlLCBwb3N0X3VubGlrZSx9XG4iXX0=","map":{"version":3,"sources":["likeControllers.js"],"names":["post_like","req","res","id","body","postId","Post","findByIdAndUpdate","$push","likes","user","username","new","exec","err","result","status","json","message","post_unlike","params","$pull","userId"],"mappings":";;;;;;;AAAA;;AAGA;AACA,MAAMA,SAAS,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAkB;AACnC,QAAMC,EAAE,GAAGF,GAAG,CAACG,IAAJ,CAASC,MAApB;;AAEAC,aAAKC,iBAAL,CAAuBJ,EAAvB,EAA0B;AACzBK,IAAAA,KAAK,EAAC;AAACC,MAAAA,KAAK,EAAC;AAACJ,QAAAA,MAAM,EAACF,EAAR;AAAYO,QAAAA,IAAI,EAACT,GAAG,CAACS,IAAJ,CAASC;AAA1B;AAAP;AADmB,GAA1B,EACoD;AAClDC,IAAAA,GAAG,EAAC;AAD8C,GADpD,EAGIC,IAHJ,CAGS,CAACC,GAAD,EAAMC,MAAN,KAAe;AACtB,QAAGD,GAAH,EAAO;AACN,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACH,QAAAA,GAAG,EAACA;AAAL,OAArB,CAAP;AACA,KAFD,MAGI;AAEH,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AACA;AACD,GAXF;AAYA,CAfD,C,CAiBA;;;;;AACA,MAAMC,WAAW,GAAG,CAAClB,GAAD,EAAMC,GAAN,KAAY;AAC/B,QAAMC,EAAE,GAAGF,GAAG,CAACmB,MAAJ,CAAWjB,EAAtB;;AACAG,aAAKC,iBAAL,CAAuBJ,EAAvB,EAA0B;AACzBkB,IAAAA,KAAK,EAAC;AAACZ,MAAAA,KAAK,EAAC;AAACJ,QAAAA,MAAM,EAACF,EAAR;AAAYmB,QAAAA,MAAM,EAACrB,GAAG,CAACS,IAAJ,CAASC;AAA5B;AAAP;AADmB,GAA1B,EACsD;AACpDC,IAAAA,GAAG,EAAC;AADgD,GADtD,EAGIC,IAHJ,CAGS,CAACC,GAAD,EAAMC,MAAN,KAAe;AACtB,QAAGD,GAAH,EAAO;AACN,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACH,QAAAA,GAAG,EAACA;AAAL,OAArB,CAAP;AACA,KAFD,MAGI;AACH,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AACA;AACD,GAVF;AAWA,CAbD","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import { Post } from \"../models/Post\"\n\n\n// like a post\nconst post_like = async (req, res)=>{\n\tconst id = req.body.postId\n\n\tPost.findByIdAndUpdate(id,{\n\t\t$push:{likes:{postId:id, user:req.user.username}}},{\n\t\t\tnew:true\n\t\t}).exec((err, result)=>{\n\t\t\tif(err){\n\t\t\t\treturn res.status(422).json({err:err})\n\t\t\t}\n\t\t\telse{\n\t\t\t\t\n\t\t\t\treturn res.status(200).json({message:\"post liked!\"})\n\t\t\t}\n\t\t})\n}\n\n//unlike a post\nconst post_unlike = (req, res)=>{\n\tconst id = req.params.id\n\tPost.findByIdAndUpdate(id,{\n\t\t$pull:{likes:{postId:id, userId:req.user.username}}},{\n\t\t\tnew:true\n\t\t}).exec((err, result)=>{\n\t\t\tif(err){\n\t\t\t\treturn res.status(422).json({err:err})\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn res.status(200).json({message:\"unliked post!\"})\n\t\t\t}\n\t\t})\n}\n\n\nexport {post_like, post_unlike,}\n"]}},"mtime":1651045035960},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _swaggerUiExpress = _interopRequireDefault(require(\"swagger-ui-express\"));\n\nvar _swagger = _interopRequireDefault(require(\"../swagger.json\"));\n\nvar _mongoose = require(\"mongoose\");\n\nvar _PostRoutes = _interopRequireDefault(require(\"./routes/PostRoutes\"));\n\nvar _UserRoutes = _interopRequireDefault(require(\"./routes/UserRoutes\"));\n\nvar _MessageRoutes = _interopRequireDefault(require(\"./routes/MessageRoutes\"));\n\nvar _CommentRoutes = _interopRequireDefault(require(\"./routes/CommentRoutes\"));\n\nvar _LikeRoutes = _interopRequireDefault(require(\"./routes/LikeRoutes\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config();\n\n//creating express app\nconst app = (0, _express.default)();\nconst port = process.env.PORT || 3000; // allow to pass json into body\n\napp.use(_express.default.json()); //routing routes\n\napp.use(\"/api\", _PostRoutes.default);\napp.use(\"/api\", _UserRoutes.default);\napp.use(\"/api\", _MessageRoutes.default);\napp.use(\"/api\", _CommentRoutes.default);\napp.use(\"/api\", _LikeRoutes.default); //swagger documentation\n\napp.use((0, _morgan.default)(\"dev\"));\napp.use(\"/api/\", _PostRoutes.default, _UserRoutes.default, _MessageRoutes.default, _CommentRoutes.default, _LikeRoutes.default); // set swagger doc as default route\n\napp.use(\"/api-docs\", _swaggerUiExpress.default.serve, _swaggerUiExpress.default.setup(_swagger.default, {\n  explorer: true\n})); // app.use(\"*\", (req, res, next) => {\n// \tres.status(404).json({\n// \t\terror: \"NOT FOUND\",\n// \t});\n// \tnext()\n// });\n//serve static images\n\napp.use(\"/poster\", _express.default.static(\"uploads/blog/images\"));\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use((0, _cors.default)()); // Connect to MongoDB database\n\nconst dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n_mongoose.mongoose.connect(dbURI, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(result => {\n  console.log('Db Connected!');\n}).catch(error => {\n  console.log(error);\n}); //listening to the request on server\n\n\nvar _default = app.listen(port, () => {\n  console.log('Server started listening on ' + port);\n});\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJhcHAiLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJ1c2UiLCJleHByZXNzIiwianNvbiIsInJvdXRlcyIsInVzZXJyb3V0ZXMiLCJjb250YWN0cm91dGVzIiwiY29tbWVudHJvdXRlcyIsImxpa2Vyb3V0ZXMiLCJzd2FnZ2VyVUkiLCJzZXJ2ZSIsInNldHVwIiwic3dhZ2dlckRvYyIsImV4cGxvcmVyIiwic3RhdGljIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiZGJVUkkiLCJEQl9VU0VSIiwiREJfUEFTU1dPUkQiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJsaXN0ZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFHQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQVZBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFZQTtBQUNBLE1BQU1DLEdBQUcsR0FBRSx1QkFBWDtBQUVBLE1BQU1DLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFBakMsQyxDQUVBOztBQUNBSixHQUFHLENBQUNLLEdBQUosQ0FBUUMsaUJBQVFDLElBQVIsRUFBUixFLENBSUE7O0FBQ0FQLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLE1BQVIsRUFBZ0JHLG1CQUFoQjtBQUNBUixHQUFHLENBQUNLLEdBQUosQ0FBUSxNQUFSLEVBQWdCSSxtQkFBaEI7QUFDQVQsR0FBRyxDQUFDSyxHQUFKLENBQVEsTUFBUixFQUFnQkssc0JBQWhCO0FBQ0FWLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLE1BQVIsRUFBZ0JNLHNCQUFoQjtBQUNBWCxHQUFHLENBQUNLLEdBQUosQ0FBUSxNQUFSLEVBQWdCTyxtQkFBaEIsRSxDQUdBOztBQUNBWixHQUFHLENBQUNLLEdBQUosQ0FBUSxxQkFBTyxLQUFQLENBQVI7QUFDQUwsR0FBRyxDQUFDSyxHQUFKLENBQVEsT0FBUixFQUFpQkcsbUJBQWpCLEVBQXlCQyxtQkFBekIsRUFBcUNDLHNCQUFyQyxFQUFvREMsc0JBQXBELEVBQW1FQyxtQkFBbkUsRSxDQUVBOztBQUNBWixHQUFHLENBQUNLLEdBQUosQ0FDQyxXQURELEVBRUNRLDBCQUFVQyxLQUZYLEVBR0NELDBCQUFVRSxLQUFWLENBQWdCQyxnQkFBaEIsRUFBNEI7QUFBRUMsRUFBQUEsUUFBUSxFQUFFO0FBQVosQ0FBNUIsQ0FIRCxFLENBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7O0FBQ0FqQixHQUFHLENBQUNLLEdBQUosQ0FBUSxTQUFSLEVBQW1CQyxpQkFBUVksTUFBUixDQUFlLHFCQUFmLENBQW5CO0FBRUFsQixHQUFHLENBQUNLLEdBQUosQ0FBUUMsaUJBQVFhLFVBQVIsQ0FBbUI7QUFBQ0MsRUFBQUEsUUFBUSxFQUFDO0FBQVYsQ0FBbkIsQ0FBUjtBQUVBcEIsR0FBRyxDQUFDSyxHQUFKLENBQVEsb0JBQVIsRSxDQUdBOztBQUNBLE1BQU1nQixLQUFLLEdBQUcsaUJBQWdCbkIsT0FBTyxDQUFDQyxHQUFSLENBQVltQixPQUFRLElBQUdwQixPQUFPLENBQUNDLEdBQVIsQ0FBWW9CLFdBQVksZ0ZBQTdFOztBQUNBQyxtQkFBU0MsT0FBVCxDQUFpQkosS0FBakIsRUFBdUI7QUFBQ0ssRUFBQUEsZUFBZSxFQUFDLElBQWpCO0FBQXVCQyxFQUFBQSxrQkFBa0IsRUFBQztBQUExQyxDQUF2QixFQUF3RUMsSUFBeEUsQ0FBOEVDLE1BQUQsSUFBVTtBQUUvRUMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWjtBQUVILENBSkwsRUFJT0MsS0FKUCxDQUljQyxLQUFELElBQVM7QUFDZEgsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlFLEtBQVo7QUFDSCxDQU5MLEUsQ0FRQTs7O2VBQ2VqQyxHQUFHLENBQUNrQyxNQUFKLENBQVdqQyxJQUFYLEVBQWlCLE1BQUk7QUFDaEM2QixFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxpQ0FBaUM5QixJQUE3QztBQUVILENBSGMsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnXG5pbXBvcnQgbW9yZ2FuIGZyb20gXCJtb3JnYW5cIjtcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5pbXBvcnQgc3dhZ2dlclVJIGZyb20gJ3N3YWdnZXItdWktZXhwcmVzcydcbmltcG9ydCBzd2FnZ2VyRG9jIGZyb20gXCIuLi9zd2FnZ2VyLmpzb25cIjtcbmltcG9ydCB7bW9uZ29vc2V9IGZyb20gJ21vbmdvb3NlJ1xuXG4vLyBnZXR0aW5nIHJvdXRlc1xuaW1wb3J0IHJvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvUG9zdFJvdXRlc1wiXG5pbXBvcnQgdXNlcnJvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvVXNlclJvdXRlc1wiXG5pbXBvcnQgY29udGFjdHJvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvTWVzc2FnZVJvdXRlc1wiXG5pbXBvcnQgY29tbWVudHJvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvQ29tbWVudFJvdXRlc1wiXG5pbXBvcnQgbGlrZXJvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvTGlrZVJvdXRlc1wiXG5cbi8vY3JlYXRpbmcgZXhwcmVzcyBhcHBcbmNvbnN0IGFwcCA9ZXhwcmVzcygpO1xuXG5jb25zdCBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAwXG5cbi8vIGFsbG93IHRvIHBhc3MganNvbiBpbnRvIGJvZHlcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuXG5cblxuLy9yb3V0aW5nIHJvdXRlc1xuYXBwLnVzZShcIi9hcGlcIiwgcm91dGVzKTtcbmFwcC51c2UoXCIvYXBpXCIsIHVzZXJyb3V0ZXMpO1xuYXBwLnVzZShcIi9hcGlcIiwgY29udGFjdHJvdXRlcyk7XG5hcHAudXNlKFwiL2FwaVwiLCBjb21tZW50cm91dGVzKTtcbmFwcC51c2UoXCIvYXBpXCIsIGxpa2Vyb3V0ZXMpO1xuXG5cbi8vc3dhZ2dlciBkb2N1bWVudGF0aW9uXG5hcHAudXNlKG1vcmdhbihcImRldlwiKSk7XG5hcHAudXNlKFwiL2FwaS9cIiwgcm91dGVzLCB1c2Vycm91dGVzLCBjb250YWN0cm91dGVzLCBjb21tZW50cm91dGVzLCBsaWtlcm91dGVzKTtcblxuLy8gc2V0IHN3YWdnZXIgZG9jIGFzIGRlZmF1bHQgcm91dGVcbmFwcC51c2UoXG5cdFwiL2FwaS1kb2NzXCIsXG5cdHN3YWdnZXJVSS5zZXJ2ZSxcblx0c3dhZ2dlclVJLnNldHVwKHN3YWdnZXJEb2MsIHsgZXhwbG9yZXI6IHRydWUgfSlcbik7XG5cbi8vIGFwcC51c2UoXCIqXCIsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuLy8gXHRyZXMuc3RhdHVzKDQwNCkuanNvbih7XG4vLyBcdFx0ZXJyb3I6IFwiTk9UIEZPVU5EXCIsXG4vLyBcdH0pO1xuLy8gXHRuZXh0KClcbi8vIH0pO1xuXG5cbi8vc2VydmUgc3RhdGljIGltYWdlc1xuYXBwLnVzZShcIi9wb3N0ZXJcIiwgZXhwcmVzcy5zdGF0aWMoXCJ1cGxvYWRzL2Jsb2cvaW1hZ2VzXCIpKVxuXG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7ZXh0ZW5kZWQ6dHJ1ZX0pKVxuXG5hcHAudXNlKGNvcnMoKSlcblxuXG4vLyBDb25uZWN0IHRvIE1vbmdvREIgZGF0YWJhc2VcbmNvbnN0IGRiVVJJID1gbW9uZ29kYitzcnY6Ly8ke3Byb2Nlc3MuZW52LkRCX1VTRVJ9OiR7cHJvY2Vzcy5lbnYuREJfUEFTU1dPUkR9QG5vZGUtYXBwbGljYXRpb25zLmZlNGF1Lm1vbmdvZGIubmV0L25vZGUtdHV0b3JpYWw/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5YFxubW9uZ29vc2UuY29ubmVjdChkYlVSSSx7dXNlTmV3VXJsUGFyc2VyOnRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTp0cnVlfSkudGhlbigocmVzdWx0KT0+e1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdEYiBDb25uZWN0ZWQhJylcblx0XHRcbiAgICB9KS5jYXRjaCgoZXJyb3IpPT57XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgIH0pXG4gICAgXG4vL2xpc3RlbmluZyB0byB0aGUgcmVxdWVzdCBvbiBzZXJ2ZXJcbmV4cG9ydCBkZWZhdWx0IGFwcC5saXN0ZW4ocG9ydCwgKCk9PntcbiAgICBjb25zb2xlLmxvZygnU2VydmVyIHN0YXJ0ZWQgbGlzdGVuaW5nIG9uICcgKyBwb3J0KVxuICBcbn0pOyAgICAiXX0=","map":{"version":3,"sources":["index.js"],"names":["require","config","app","port","process","env","PORT","use","express","json","routes","userroutes","contactroutes","commentroutes","likeroutes","swaggerUI","serve","setup","swaggerDoc","explorer","static","urlencoded","extended","dbURI","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","result","console","log","catch","error","listen"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAGA;;AACA;;AACA;;AACA;;AACA;;;;AAVAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAYA;AACA,MAAMC,GAAG,GAAE,uBAAX;AAEA,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC,C,CAEA;;AACAJ,GAAG,CAACK,GAAJ,CAAQC,iBAAQC,IAAR,EAAR,E,CAIA;;AACAP,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBG,mBAAhB;AACAR,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBI,mBAAhB;AACAT,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBK,sBAAhB;AACAV,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBM,sBAAhB;AACAX,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBO,mBAAhB,E,CAGA;;AACAZ,GAAG,CAACK,GAAJ,CAAQ,qBAAO,KAAP,CAAR;AACAL,GAAG,CAACK,GAAJ,CAAQ,OAAR,EAAiBG,mBAAjB,EAAyBC,mBAAzB,EAAqCC,sBAArC,EAAoDC,sBAApD,EAAmEC,mBAAnE,E,CAEA;;AACAZ,GAAG,CAACK,GAAJ,CACC,WADD,EAECQ,0BAAUC,KAFX,EAGCD,0BAAUE,KAAV,CAAgBC,gBAAhB,EAA4B;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAA5B,CAHD,E,CAMA;AACA;AACA;AACA;AACA;AACA;AAGA;;AACAjB,GAAG,CAACK,GAAJ,CAAQ,SAAR,EAAmBC,iBAAQY,MAAR,CAAe,qBAAf,CAAnB;AAEAlB,GAAG,CAACK,GAAJ,CAAQC,iBAAQa,UAAR,CAAmB;AAACC,EAAAA,QAAQ,EAAC;AAAV,CAAnB,CAAR;AAEApB,GAAG,CAACK,GAAJ,CAAQ,oBAAR,E,CAGA;;AACA,MAAMgB,KAAK,GAAG,iBAAgBnB,OAAO,CAACC,GAAR,CAAYmB,OAAQ,IAAGpB,OAAO,CAACC,GAAR,CAAYoB,WAAY,gFAA7E;;AACAC,mBAASC,OAAT,CAAiBJ,KAAjB,EAAuB;AAACK,EAAAA,eAAe,EAAC,IAAjB;AAAuBC,EAAAA,kBAAkB,EAAC;AAA1C,CAAvB,EAAwEC,IAAxE,CAA8EC,MAAD,IAAU;AAE/EC,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AAEH,CAJL,EAIOC,KAJP,CAIcC,KAAD,IAAS;AACdH,EAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,CANL,E,CAQA;;;eACejC,GAAG,CAACkC,MAAJ,CAAWjC,IAAX,EAAiB,MAAI;AAChC6B,EAAAA,OAAO,CAACC,GAAR,CAAY,iCAAiC9B,IAA7C;AAEH,CAHc,C","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/","sourcesContent":["import express from 'express'\nimport cors from 'cors'\nimport morgan from \"morgan\";\nrequire(\"dotenv\").config();\nimport swaggerUI from 'swagger-ui-express'\nimport swaggerDoc from \"../swagger.json\";\nimport {mongoose} from 'mongoose'\n\n// getting routes\nimport routes from \"./routes/PostRoutes\"\nimport userroutes from \"./routes/UserRoutes\"\nimport contactroutes from \"./routes/MessageRoutes\"\nimport commentroutes from \"./routes/CommentRoutes\"\nimport likeroutes from \"./routes/LikeRoutes\"\n\n//creating express app\nconst app =express();\n\nconst port = process.env.PORT || 3000\n\n// allow to pass json into body\napp.use(express.json());\n\n\n\n//routing routes\napp.use(\"/api\", routes);\napp.use(\"/api\", userroutes);\napp.use(\"/api\", contactroutes);\napp.use(\"/api\", commentroutes);\napp.use(\"/api\", likeroutes);\n\n\n//swagger documentation\napp.use(morgan(\"dev\"));\napp.use(\"/api/\", routes, userroutes, contactroutes, commentroutes, likeroutes);\n\n// set swagger doc as default route\napp.use(\n\t\"/api-docs\",\n\tswaggerUI.serve,\n\tswaggerUI.setup(swaggerDoc, { explorer: true })\n);\n\n// app.use(\"*\", (req, res, next) => {\n// \tres.status(404).json({\n// \t\terror: \"NOT FOUND\",\n// \t});\n// \tnext()\n// });\n\n\n//serve static images\napp.use(\"/poster\", express.static(\"uploads/blog/images\"))\n\napp.use(express.urlencoded({extended:true}))\n\napp.use(cors())\n\n\n// Connect to MongoDB database\nconst dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\nmongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((result)=>{\n\n        console.log('Db Connected!')\n\t\t\n    }).catch((error)=>{\n        console.log(error)\n    })\n    \n//listening to the request on server\nexport default app.listen(port, ()=>{\n    console.log('Server started listening on ' + port)\n  \n});    "]}},"mtime":1650899354888},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/PostRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _uploadConfig = _interopRequireDefault(require(\"../uploadConfig\"));\n\nvar _AuthenticateToken = require(\"../AuthMiddleWare/AuthenticateToken\");\n\nvar _postControllers = require(\"../controllers/postControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n// Get all posts\nrouter.get(\"/posts\", _postControllers.post_get_all); // create post\n\nrouter.post(\"/posts\", _AuthenticateToken.authenticateToken, _uploadConfig.default.single('poster'), _postControllers.post_create); // getting individual post\n\nrouter.get(\"/posts/:id\", _AuthenticateToken.authenticateToken, _postControllers.post_get_one); // updating post\n\nrouter.patch(\"/posts/:id\", _AuthenticateToken.authenticateToken, _uploadConfig.default.single('poster'), _postControllers.post_update); // delete post\n\nrouter.delete(\"/posts/:id\", _AuthenticateToken.authenticateToken, _postControllers.post_delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBvc3RSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInBvc3RfZ2V0X2FsbCIsInBvc3QiLCJhdXRoZW50aWNhdGVUb2tlbiIsInVwbG9hZCIsInNpbmdsZSIsInBvc3RfY3JlYXRlIiwicG9zdF9nZXRfb25lIiwicGF0Y2giLCJwb3N0X3VwZGF0ZSIsImRlbGV0ZSIsInBvc3RfZGVsZXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBSUE7O0FBRUE7O0FBRUE7Ozs7QUFOQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBU0E7QUFDQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsUUFBWCxFQUFzQkMsNkJBQXRCLEUsQ0FFQTs7QUFDQUosTUFBTSxDQUFDSyxJQUFQLENBQVksUUFBWixFQUFzQkMsb0NBQXRCLEVBQXlDQyxzQkFBT0MsTUFBUCxDQUFjLFFBQWQsQ0FBekMsRUFBbUVDLDRCQUFuRSxFLENBRUE7O0FBQ0FULE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFlBQVgsRUFBeUJHLG9DQUF6QixFQUE0Q0ksNkJBQTVDLEUsQ0FFQTs7QUFDQVYsTUFBTSxDQUFDVyxLQUFQLENBQWEsWUFBYixFQUEyQkwsb0NBQTNCLEVBQThDQyxzQkFBT0MsTUFBUCxDQUFjLFFBQWQsQ0FBOUMsRUFBdUVJLDRCQUF2RSxFLENBRUE7O0FBQ0FaLE1BQU0sQ0FBQ2EsTUFBUCxDQUFjLFlBQWQsRUFBNEJQLG9DQUE1QixFQUErQ1EsNEJBQS9DO2VBS2VkLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuaW1wb3J0IHVwbG9hZCBmcm9tICcuLi91cGxvYWRDb25maWcnO1xuXG5pbXBvcnQge2F1dGhlbnRpY2F0ZVRva2VufSBmcm9tIFwiLi4vQXV0aE1pZGRsZVdhcmUvQXV0aGVudGljYXRlVG9rZW5cIlxuXG5pbXBvcnQge3Bvc3RfZ2V0X2FsbCwgcG9zdF9jcmVhdGUsIHBvc3RfZ2V0X29uZSwgcG9zdF91cGRhdGUsIHBvc3RfZGVsZXRlfSBmcm9tICcuLi9jb250cm9sbGVycy9wb3N0Q29udHJvbGxlcnMnXG5cblxuLy8gR2V0IGFsbCBwb3N0c1xucm91dGVyLmdldChcIi9wb3N0c1wiLCAgcG9zdF9nZXRfYWxsKTtcblxuLy8gY3JlYXRlIHBvc3RcbnJvdXRlci5wb3N0KFwiL3Bvc3RzXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCB1cGxvYWQuc2luZ2xlKCdwb3N0ZXInKSwgIHBvc3RfY3JlYXRlKTtcblxuLy8gZ2V0dGluZyBpbmRpdmlkdWFsIHBvc3RcbnJvdXRlci5nZXQoXCIvcG9zdHMvOmlkXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBwb3N0X2dldF9vbmUpXG5cbi8vIHVwZGF0aW5nIHBvc3RcbnJvdXRlci5wYXRjaChcIi9wb3N0cy86aWRcIiwgYXV0aGVudGljYXRlVG9rZW4sIHVwbG9hZC5zaW5nbGUoJ3Bvc3RlcicpLCBwb3N0X3VwZGF0ZSlcblxuLy8gZGVsZXRlIHBvc3RcbnJvdXRlci5kZWxldGUoXCIvcG9zdHMvOmlkXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBwb3N0X2RlbGV0ZSlcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iXX0=","map":{"version":3,"sources":["PostRoutes.js"],"names":["router","express","Router","get","post_get_all","post","authenticateToken","upload","single","post_create","post_get_one","patch","post_update","delete","post_delete"],"mappings":";;;;;;;AAAA;;AAIA;;AAEA;;AAEA;;;;AANA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AASA;AACAF,MAAM,CAACG,GAAP,CAAW,QAAX,EAAsBC,6BAAtB,E,CAEA;;AACAJ,MAAM,CAACK,IAAP,CAAY,QAAZ,EAAsBC,oCAAtB,EAAyCC,sBAAOC,MAAP,CAAc,QAAd,CAAzC,EAAmEC,4BAAnE,E,CAEA;;AACAT,MAAM,CAACG,GAAP,CAAW,YAAX,EAAyBG,oCAAzB,EAA4CI,6BAA5C,E,CAEA;;AACAV,MAAM,CAACW,KAAP,CAAa,YAAb,EAA2BL,oCAA3B,EAA8CC,sBAAOC,MAAP,CAAc,QAAd,CAA9C,EAAuEI,4BAAvE,E,CAEA;;AACAZ,MAAM,CAACa,MAAP,CAAc,YAAd,EAA4BP,oCAA5B,EAA+CQ,4BAA/C;eAKed,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport upload from '../uploadConfig';\n\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\"\n\nimport {post_get_all, post_create, post_get_one, post_update, post_delete} from '../controllers/postControllers'\n\n\n// Get all posts\nrouter.get(\"/posts\",  post_get_all);\n\n// create post\nrouter.post(\"/posts\", authenticateToken, upload.single('poster'),  post_create);\n\n// getting individual post\nrouter.get(\"/posts/:id\", authenticateToken, post_get_one)\n\n// updating post\nrouter.patch(\"/posts/:id\", authenticateToken, upload.single('poster'), post_update)\n\n// delete post\nrouter.delete(\"/posts/:id\", authenticateToken, post_delete)\n\n\n\n\nexport default router\n"]}},"mtime":1650959699221},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/uploadConfig.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//storage engine\nconst storage = _multer.default.diskStorage({\n  destination: './uploads/blog/images',\n  filename: (req, file, cb) => {\n    return cb(null, `${file.fieldname}_${Date.now()}${_path.default.extname(file.originalname)}`);\n  }\n}); //upload image\n\n\nconst upload = (0, _multer.default)({\n  storage: storage\n}); // app.post('/upload', upload.single('poster'), (req, res)=>{\n// \tres.json({\n//         success:1,\n//         posterUrl:`http://localhost:3000/poster/${req.file.filename}`\n//     })\n// })    \n\nvar _default = upload;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZENvbmZpZy5qcyJdLCJuYW1lcyI6WyJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsImZpbGVuYW1lIiwicmVxIiwiZmlsZSIsImNiIiwiZmllbGRuYW1lIiwiRGF0ZSIsIm5vdyIsInBhdGgiLCJleHRuYW1lIiwib3JpZ2luYWxuYW1lIiwidXBsb2FkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFHQTtBQUNBLE1BQU1BLE9BQU8sR0FBR0MsZ0JBQU9DLFdBQVAsQ0FBbUI7QUFDL0JDLEVBQUFBLFdBQVcsRUFBQyx1QkFEbUI7QUFFL0JDLEVBQUFBLFFBQVEsRUFBQyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixLQUFpQjtBQUN0QixXQUFPQSxFQUFFLENBQUMsSUFBRCxFQUFRLEdBQUVELElBQUksQ0FBQ0UsU0FBVSxJQUFHQyxJQUFJLENBQUNDLEdBQUwsRUFBVyxHQUFFQyxjQUFLQyxPQUFMLENBQWFOLElBQUksQ0FBQ08sWUFBbEIsQ0FBZ0MsRUFBekUsQ0FBVDtBQUNIO0FBSjhCLENBQW5CLENBQWhCLEMsQ0FRQTs7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHLHFCQUFPO0FBQ3JCZCxFQUFBQSxPQUFPLEVBQUNBO0FBRGEsQ0FBUCxDQUFmLEMsQ0FLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O2VBRWVjLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5cbi8vc3RvcmFnZSBlbmdpbmVcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xuICAgIGRlc3RpbmF0aW9uOicuL3VwbG9hZHMvYmxvZy9pbWFnZXMnLFxuICAgIGZpbGVuYW1lOihyZXEsIGZpbGUsIGNiKT0+e1xuICAgICAgICByZXR1cm4gY2IobnVsbCwgYCR7ZmlsZS5maWVsZG5hbWV9XyR7RGF0ZS5ub3coKX0ke3BhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsbmFtZSl9YClcbiAgICB9XG4gICAgXG59KVxuXG4vL3VwbG9hZCBpbWFnZVxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHtcblx0c3RvcmFnZTpzdG9yYWdlXG59KVxuXG5cbi8vIGFwcC5wb3N0KCcvdXBsb2FkJywgdXBsb2FkLnNpbmdsZSgncG9zdGVyJyksIChyZXEsIHJlcyk9Pntcbi8vIFx0cmVzLmpzb24oe1xuLy8gICAgICAgICBzdWNjZXNzOjEsXG4vLyAgICAgICAgIHBvc3RlclVybDpgaHR0cDovL2xvY2FsaG9zdDozMDAwL3Bvc3Rlci8ke3JlcS5maWxlLmZpbGVuYW1lfWBcbi8vICAgICB9KVxuLy8gfSkgICAgXG5cbmV4cG9ydCBkZWZhdWx0IHVwbG9hZCJdfQ==","map":{"version":3,"sources":["uploadConfig.js"],"names":["storage","multer","diskStorage","destination","filename","req","file","cb","fieldname","Date","now","path","extname","originalname","upload"],"mappings":";;;;;;;AAAA;;AACA;;;;AAGA;AACA,MAAMA,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,EAAC,uBADmB;AAE/BC,EAAAA,QAAQ,EAAC,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAiB;AACtB,WAAOA,EAAE,CAAC,IAAD,EAAQ,GAAED,IAAI,CAACE,SAAU,IAAGC,IAAI,CAACC,GAAL,EAAW,GAAEC,cAAKC,OAAL,CAAaN,IAAI,CAACO,YAAlB,CAAgC,EAAzE,CAAT;AACH;AAJ8B,CAAnB,CAAhB,C,CAQA;;;AACA,MAAMC,MAAM,GAAG,qBAAO;AACrBd,EAAAA,OAAO,EAACA;AADa,CAAP,CAAf,C,CAKA;AACA;AACA;AACA;AACA;AACA;;eAEec,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/","sourcesContent":["import multer from 'multer';\nimport path from 'path';\n\n\n//storage engine\nconst storage = multer.diskStorage({\n    destination:'./uploads/blog/images',\n    filename:(req, file, cb)=>{\n        return cb(null, `${file.fieldname}_${Date.now()}${path.extname(file.originalname)}`)\n    }\n    \n})\n\n//upload image\nconst upload = multer({\n\tstorage:storage\n})\n\n\n// app.post('/upload', upload.single('poster'), (req, res)=>{\n// \tres.json({\n//         success:1,\n//         posterUrl:`http://localhost:3000/poster/${req.file.filename}`\n//     })\n// })    \n\nexport default upload"]}},"mtime":1650892599163},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/AuthMiddleWare/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/AuthMiddleWare/AuthenticateToken.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.authenticateToken = authenticateToken;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction authenticateToken(req, res, next) {\n  const authHeader = req.headers['authorization'];\n  const token = authHeader && authHeader.split(' ')[1];\n  if (token == null) return res.status(401).json({\n    message: 'Token is required'\n  });\n\n  _jsonwebtoken.default.verify(token, process.env.ACCESS_TOKEN_SECRET, (error, user) => {\n    // console.log(error.message)\n    if (error) return res.status(403).json({\n      message: \"Invalid Token\"\n    });\n    req.user = user;\n    next();\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1dGhlbnRpY2F0ZVRva2VuLmpzIl0sIm5hbWVzIjpbImF1dGhlbnRpY2F0ZVRva2VuIiwicmVxIiwicmVzIiwibmV4dCIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwidG9rZW4iLCJzcGxpdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiand0IiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIkFDQ0VTU19UT0tFTl9TRUNSRVQiLCJlcnJvciIsInVzZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUdPLFNBQVNBLGlCQUFULENBQTJCQyxHQUEzQixFQUFnQ0MsR0FBaEMsRUFBcUNDLElBQXJDLEVBQTBDO0FBQ2hELFFBQU1DLFVBQVUsR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVksZUFBWixDQUFuQjtBQUNBLFFBQU1DLEtBQUssR0FBR0YsVUFBVSxJQUFJQSxVQUFVLENBQUNHLEtBQVgsQ0FBaUIsR0FBakIsRUFBc0IsQ0FBdEIsQ0FBNUI7QUFDQSxNQUFHRCxLQUFLLElBQUksSUFBWixFQUFrQixPQUFPSixHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxJQUFBQSxPQUFPLEVBQUM7QUFBVCxHQUFyQixDQUFQOztBQUVsQkMsd0JBQUlDLE1BQUosQ0FBV04sS0FBWCxFQUFrQk8sT0FBTyxDQUFDQyxHQUFSLENBQVlDLG1CQUE5QixFQUFtRCxDQUFDQyxLQUFELEVBQVFDLElBQVIsS0FBZTtBQUNqRTtBQUVBLFFBQUdELEtBQUgsRUFBVSxPQUFPZCxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxPQUFPLEVBQUM7QUFBVCxLQUFyQixDQUFQO0FBRVZULElBQUFBLEdBQUcsQ0FBQ2dCLElBQUosR0FBV0EsSUFBWDtBQUVBZCxJQUFBQSxJQUFJO0FBQ0osR0FSRDtBQVNBIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9BdXRoTWlkZGxlV2FyZS8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcblxuXG5leHBvcnQgZnVuY3Rpb24gYXV0aGVudGljYXRlVG9rZW4ocmVxLCByZXMsIG5leHQpe1xuXHRjb25zdCBhdXRoSGVhZGVyID0gcmVxLmhlYWRlcnNbJ2F1dGhvcml6YXRpb24nXVxuXHRjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIgJiYgYXV0aEhlYWRlci5zcGxpdCgnICcpWzFdXG5cdGlmKHRva2VuID09IG51bGwpIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTonVG9rZW4gaXMgcmVxdWlyZWQnfSlcblxuXHRqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5BQ0NFU1NfVE9LRU5fU0VDUkVULCAoZXJyb3IsIHVzZXIpPT57XG5cdFx0Ly8gY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSlcblx0XG5cdFx0aWYoZXJyb3IpIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTpcIkludmFsaWQgVG9rZW5cIn0pXG5cblx0XHRyZXEudXNlciA9IHVzZXI7XG5cdFx0XG5cdFx0bmV4dCgpO1xuXHR9KVxufVxuIl19","map":{"version":3,"sources":["AuthenticateToken.js"],"names":["authenticateToken","req","res","next","authHeader","headers","token","split","status","json","message","jwt","verify","process","env","ACCESS_TOKEN_SECRET","error","user"],"mappings":";;;;;;;AAAA;;;;AAGO,SAASA,iBAAT,CAA2BC,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA0C;AAChD,QAAMC,UAAU,GAAGH,GAAG,CAACI,OAAJ,CAAY,eAAZ,CAAnB;AACA,QAAMC,KAAK,GAAGF,UAAU,IAAIA,UAAU,CAACG,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAA5B;AACA,MAAGD,KAAK,IAAI,IAAZ,EAAkB,OAAOJ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,IAAAA,OAAO,EAAC;AAAT,GAArB,CAAP;;AAElBC,wBAAIC,MAAJ,CAAWN,KAAX,EAAkBO,OAAO,CAACC,GAAR,CAAYC,mBAA9B,EAAmD,CAACC,KAAD,EAAQC,IAAR,KAAe;AACjE;AAEA,QAAGD,KAAH,EAAU,OAAOd,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AAEVT,IAAAA,GAAG,CAACgB,IAAJ,GAAWA,IAAX;AAEAd,IAAAA,IAAI;AACJ,GARD;AASA","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/AuthMiddleWare/","sourcesContent":["import jwt from 'jsonwebtoken'\n\n\nexport function authenticateToken(req, res, next){\n\tconst authHeader = req.headers['authorization']\n\tconst token = authHeader && authHeader.split(' ')[1]\n\tif(token == null) return res.status(401).json({message:'Token is required'})\n\n\tjwt.verify(token, process.env.ACCESS_TOKEN_SECRET, (error, user)=>{\n\t\t// console.log(error.message)\n\t\n\t\tif(error) return res.status(403).json({message:\"Invalid Token\"})\n\n\t\treq.user = user;\n\t\t\n\t\tnext();\n\t})\n}\n"]}},"mtime":1650876624320},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/postControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.post_update = exports.post_get_one = exports.post_get_all = exports.post_delete = exports.post_create = void 0;\n\nvar _Post = require(\"../models/Post\");\n\nvar _cloudinaryImage = _interopRequireDefault(require(\"../helpers/cloudinaryImage\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import models\n// get all posts\nconst post_get_all = async (req, res) => {\n  const posts = await _Post.Post.find().sort({\n    createdAt: -1\n  });\n  return res.json({\n    posts,\n    status: 200,\n    message: \"Fetched successfully\"\n  });\n}; // create new post\n\n\nexports.post_get_all = post_get_all;\n\nconst post_create = async (req, res) => {\n  try {\n    if (req.body.title === '' || req.body.content === '') {\n      return res.status(400).json({\n        message: \"Title and content are required\"\n      });\n    } else {\n      // generating link from cloudinary\n      const cloud_save = await _cloudinaryImage.default.uploader.upload(req.file.path, {\n        with: 500,\n        height: 500,\n        crop: 'fill'\n      }); // new post\n\n      const post = new _Post.Post({\n        title: req.body.title,\n        content: req.body.content,\n        poster: cloud_save.url\n      });\n      await post.save();\n      return res.status(201).json({\n        status: 201,\n        message: \"Post Saved successfully\",\n        success: 1,\n        posterUrl: `${cloud_save.url}`\n      });\n    }\n  } catch (error) {\n    return res.status(403).json({\n      message: error.message\n    });\n  }\n}; // get individual post\n\n\nexports.post_create = post_create;\n\nconst post_get_one = async (req, res) => {\n  try {\n    const post = await _Post.Post.findOne({\n      _id: req.params.id\n    });\n\n    if (post === null) {\n      return res.status(404).json({\n        message: \"Post of that id is not available\"\n      });\n    }\n\n    return res.status(200).json({\n      data: post,\n      message: \"successfully fetched\"\n    });\n  } catch {\n    return res.status(404).json({\n      error: \"Post does not exist!\"\n    });\n  }\n}; // update a post\n\n\nexports.post_get_one = post_get_one;\n\nconst post_update = async (req, res) => {\n  try {\n    const post = await _Post.Post.findOne({\n      _id: req.params.id\n    });\n\n    if (req.body.title.length > 0 && req.body.content.length > 0) {\n      post.title = req.body.title, post.content = req.body.content;\n      await post.save();\n      return res.status(200).json({\n        message: \"Post successfully updated!\"\n      });\n    } else {\n      return res.status(400).json({\n        message: \"Title and content need value!\"\n      });\n    }\n  } catch {\n    return res.status(404).json({\n      error: \"Post doesn't exist!\"\n    });\n  }\n}; // delete a post\n\n\nexports.post_update = post_update;\n\nconst post_delete = async (req, res) => {\n  try {\n    const post = await _Post.Post.findById(req.params.id);\n\n    if (post != null) {\n      await post.remove();\n      return res.status(200).json({\n        message: \"Post deleted successfully!\"\n      });\n    } else {\n      return res.status(404).json({\n        error: \"Post doesn't exist!\"\n      });\n    }\n  } catch {\n    return res.status(500).json({\n      error: \"Server error\"\n    });\n  }\n};\n\nexports.post_delete = post_delete;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJwb3N0X2dldF9hbGwiLCJyZXEiLCJyZXMiLCJwb3N0cyIsIlBvc3QiLCJmaW5kIiwic29ydCIsImNyZWF0ZWRBdCIsImpzb24iLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdF9jcmVhdGUiLCJib2R5IiwidGl0bGUiLCJjb250ZW50IiwiY2xvdWRfc2F2ZSIsImNsb3VkaW5hcnkiLCJ1cGxvYWRlciIsInVwbG9hZCIsImZpbGUiLCJwYXRoIiwid2l0aCIsImhlaWdodCIsImNyb3AiLCJwb3N0IiwicG9zdGVyIiwidXJsIiwic2F2ZSIsInN1Y2Nlc3MiLCJwb3N0ZXJVcmwiLCJlcnJvciIsInBvc3RfZ2V0X29uZSIsImZpbmRPbmUiLCJfaWQiLCJwYXJhbXMiLCJpZCIsImRhdGEiLCJwb3N0X3VwZGF0ZSIsImxlbmd0aCIsInBvc3RfZGVsZXRlIiwiZmluZEJ5SWQiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFDQTs7OztBQUZBO0FBS0E7QUFDQSxNQUFNQSxZQUFZLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3hDLFFBQU1DLEtBQUssR0FBRyxNQUFNQyxXQUFLQyxJQUFMLEdBQVlDLElBQVosQ0FBaUI7QUFBQ0MsSUFBQUEsU0FBUyxFQUFFLENBQUM7QUFBYixHQUFqQixDQUFwQjtBQUNBLFNBQU9MLEdBQUcsQ0FBQ00sSUFBSixDQUFTO0FBQUNMLElBQUFBLEtBQUQ7QUFBUU0sSUFBQUEsTUFBTSxFQUFDLEdBQWY7QUFBb0JDLElBQUFBLE9BQU8sRUFBQztBQUE1QixHQUFULENBQVA7QUFDQSxDQUhELEMsQ0FLQTs7Ozs7QUFDQSxNQUFNQyxXQUFXLEdBQUcsT0FBT1YsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBRXZDLE1BQUk7QUFDSCxRQUFHRCxHQUFHLENBQUNXLElBQUosQ0FBU0MsS0FBVCxLQUFtQixFQUFuQixJQUF5QlosR0FBRyxDQUFDVyxJQUFK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LENBQXFCO0FBQUNzQixRQUFBQSxLQUFLLEVBQUU7QUFBUixPQUFyQixDQUFQO0FBQ0E7QUFHRCxHQVpELENBWUUsTUFBTTtBQUNQLFdBQU81QixHQUFHLENBQUNPLE1BQUosQ0FBVyxHQUFYLEVBQWdCRCxJQUFoQixDQUFxQjtBQUFDc0IsTUFBQUEsS0FBSyxFQUFFO0FBQVIsS0FBckIsQ0FBUDtBQUNBO0FBQ0QsQ0FoQkQiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCBtb2RlbHNcbmltcG9ydCB7UG9zdH0gZnJvbSAnLi4vbW9kZWxzL1Bvc3QnXG5pbXBvcnQgY2xvdWRpbmFyeSBmcm9tICcuLi9oZWxwZXJzL2Nsb3VkaW5hcnlJbWFnZSdcblxuXG4vLyBnZXQgYWxsIHBvc3RzXG5jb25zdCBwb3N0X2dldF9hbGwgPSBhc3luYyAocmVxLCByZXMpID0+IHtcblx0Y29uc3QgcG9zdHMgPSBhd2FpdCBQb3N0LmZpbmQoKS5zb3J0KHtjcmVhdGVkQXQ6IC0xfSlcblx0cmV0dXJuIHJlcy5qc29uKHtwb3N0cywgc3RhdHVzOjIwMCwgbWVzc2FnZTpcIkZldGNoZWQgc3VjY2Vzc2Z1bGx5XCJ9KVxufVxuXG4vLyBjcmVhdGUgbmV3IHBvc3RcbmNvbnN0IHBvc3RfY3JlYXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdFxuXHR0cnkge1xuXHRcdGlmKHJlcS5ib2R5LnRpdGxlID09PSAnJyB8fCByZXEuYm9keS5jb250ZW50ID09PSAnJyl7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6XCJUaXRsZSBhbmQgY29udGVudCBhcmUgcmVxdWlyZWRcIn0pXG5cdFx0fVxuXHRcdGVsc2V7XG5cblx0XHRcdC8vIGdlbmVyYXRpbmcgbGluayBmcm9tIGNsb3VkaW5hcnlcblx0XHRcdGNvbnN0IGNsb3VkX3NhdmUgPSBhd2FpdCBjbG91ZGluYXJ5LnVwbG9hZGVyLnVwbG9hZChyZXEuZmlsZS5wYXRoLCB7XG5cdFx0XHRcdHdpdGg6NTAwLFxuXHRcdFx0XHRoZWlnaHQ6NTAwLFxuXHRcdFx0XHRjcm9wOidmaWxsJ1xuXG5cdFx0XHR9KVxuXG5cdFx0XHQvLyBuZXcgcG9zdFxuXHRcdFx0Y29uc3QgcG9zdCA9IG5ldyBQb3N0KHtcblx0XHRcdFx0dGl0bGU6IHJlcS5ib2R5LnRpdGxlLFxuXHRcdFx0XHRjb250ZW50OiByZXEuYm9keS5jb250ZW50LFxuXHRcdFx0XHRwb3N0ZXI6IGNsb3VkX3NhdmUudXJsXG5cdFx0XHRcdFxuXHRcdFx0XHRcblx0XHRcdH0pXG5cblx0XHRcdFxuXHRcdFx0YXdhaXQgcG9zdC5zYXZlKClcblx0XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuXHRcdFx0XHRzdGF0dXM6MjAxLCBcblx0XHRcdFx0bWVzc2FnZTpcIlBvc3QgU2F2ZWQgc3VjY2Vzc2Z1bGx5XCIsIFxuXHRcdFx0XHRzdWNjZXNzOjEsXG5cdFx0XHRcdHBvc3RlclVybDpgJHtjbG91ZF9zYXZlLnVybH1gXG5cdFx0XHR9KVxuXHRcdH1cblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6ZXJyb3IubWVzc2FnZX0pXG5cdH1cblx0XG5cdFxufVxuXG4vLyBnZXQgaW5kaXZpZHVhbCBwb3N0XG5jb25zdCBwb3N0X2dldF9vbmUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcblx0dHJ5IHtcblx0XHRjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pXG5cblx0XHRpZihwb3N0ID09PSBudWxsKXtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTpcIlBvc3Qgb2YgdGhhdCBpZCBpcyBub3QgYXZhaWxhYmxlXCJ9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe2RhdGE6cG9zdCwgbWVzc2FnZTpcInN1Y2Nlc3NmdWxseSBmZXRjaGVkXCJ9KTtcblxuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe2Vycm9yOiBcIlBvc3QgZG9lcyBub3QgZXhpc3QhXCJ9KVxuXHR9XG59XG5cbi8vIHVwZGF0ZSBhIHBvc3RcbmNvbnN0IHBvc3RfdXBkYXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KVxuXG5cdFx0aWYgKHJlcS5ib2R5LnRpdGxlLmxlbmd0aCA+IDAgJiYgcmVxLmJvZHkuY29udGVudC5sZW5ndGggPiAwKSB7XG5cdFx0XHRwb3N0LnRpdGxlID0gcmVxLmJvZHkudGl0bGUsXG5cdFx0XHRwb3N0LmNvbnRlbnQgPSByZXEuYm9keS5jb250ZW50XG5cblxuXHRcdFx0YXdhaXQgcG9zdC5zYXZlKClcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTpcIlBvc3Qgc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQhXCJ9KTtcblx0XHR9XG5cdFx0ZWxzZXtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTpcIlRpdGxlIGFuZCBjb250ZW50IG5lZWQgdmFsdWUhXCJ9KTtcblx0XHR9XG5cblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtlcnJvcjogXCJQb3N0IGRvZXNuJ3QgZXhpc3QhXCJ9KVxuXHR9XG59XG5cbi8vIGRlbGV0ZSBhIHBvc3RcbmNvbnN0IHBvc3RfZGVsZXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZClcblx0XHRpZihwb3N0ICE9IG51bGwpe1xuXG5cdFx0XHRhd2FpdCBwb3N0LnJlbW92ZSgpO1xuXHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBcIlBvc3QgZGVsZXRlZCBzdWNjZXNzZnVsbHkhXCJ9KVxuXHRcdH1cblx0XHRlbHNle1xuXHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtlcnJvcjogXCJQb3N0IGRvZXNuJ3QgZXhpc3QhXCJ9KVxuXHRcdH1cblxuXHRcdFxuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe2Vycm9yOiBcIlNlcnZlciBlcnJvclwifSlcblx0fVxufVxuXG5cblxuZXhwb3J0IHtwb3N0X2dldF9hbGwsIHBvc3RfY3JlYXRlLCBwb3N0X2dldF9vbmUsIHBvc3RfdXBkYXRlLCBwb3N0X2RlbGV0ZX1cbiJdfQ==","map":{"version":3,"sources":["postControllers.js"],"names":["post_get_all","req","res","posts","Post","find","sort","createdAt","json","status","message","post_create","body","title","content","cloud_save","cloudinary","uploader","upload","file","path","with","height","crop","post","poster","url","save","success","posterUrl","error","post_get_one","findOne","_id","params","id","data","post_update","length","post_delete","findById","remove"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["// import models\nimport {Post} from '../models/Post'\nimport cloudinary from '../helpers/cloudinaryImage'\n\n\n// get all posts\nconst post_get_all = async (req, res) => {\n\tconst posts = await Post.find().sort({createdAt: -1})\n\treturn res.json({posts, status:200, message:\"Fetched successfully\"})\n}\n\n// create new post\nconst post_create = async (req, res) => {\n\t\n\ttry {\n\t\tif(req.body.title === '' || req.body.content === ''){\n\t\t\treturn res.status(400).json({message:\"Title and content are required\"})\n\t\t}\n\t\telse{\n\n\t\t\t// generating link from cloudinary\n\t\t\tconst cloud_save = await cloudinary.uploader.upload(req.file.path, {\n\t\t\t\twith:500,\n\t\t\t\theight:500,\n\t\t\t\tcrop:'fill'\n\n\t\t\t})\n\n\t\t\t// new post\n\t\t\tconst post = new Post({\n\t\t\t\ttitle: req.body.title,\n\t\t\t\tcontent: req.body.content,\n\t\t\t\tposter: cloud_save.url\n\t\t\t\t\n\t\t\t\t\n\t\t\t})\n\n\t\t\t\n\t\t\tawait post.save()\n\t\n\t\t\treturn res.status(201).json({\n\t\t\t\tstatus:201, \n\t\t\t\tmessage:\"Post Saved successfully\", \n\t\t\t\tsuccess:1,\n\t\t\t\tposterUrl:`${cloud_save.url}`\n\t\t\t})\n\t\t}\n\t} catch (error) {\n\t\treturn res.status(403).json({message:error.message})\n\t}\n\t\n\t\n}\n\n// get individual post\nconst post_get_one = async (req, res) => {\n\ttry {\n\t\tconst post = await Post.findOne({ _id: req.params.id })\n\n\t\tif(post === null){\n\t\t\treturn res.status(404).json({message:\"Post of that id is not available\"});\n\t\t}\n\n\t\treturn res.status(200).json({data:post, message:\"successfully fetched\"});\n\n\t} catch {\n\t\treturn res.status(404).json({error: \"Post does not exist!\"})\n\t}\n}\n\n// update a post\nconst post_update = async (req, res) => {\n\ttry {\n\t\tconst post = await Post.findOne({ _id: req.params.id })\n\n\t\tif (req.body.title.length > 0 && req.body.content.length > 0) {\n\t\t\tpost.title = req.body.title,\n\t\t\tpost.content = req.body.content\n\n\n\t\t\tawait post.save()\n\t\t\treturn res.status(200).json({message:\"Post successfully updated!\"});\n\t\t}\n\t\telse{\n\t\t\treturn res.status(400).json({message:\"Title and content need value!\"});\n\t\t}\n\n\t} catch {\n\t\treturn res.status(404).json({error: \"Post doesn't exist!\"})\n\t}\n}\n\n// delete a post\nconst post_delete = async (req, res) => {\n\ttry {\n\t\tconst post = await Post.findById(req.params.id)\n\t\tif(post != null){\n\n\t\t\tawait post.remove();\n\t\t\treturn res.status(200).json({message: \"Post deleted successfully!\"})\n\t\t}\n\t\telse{\n\t\t\treturn res.status(404).json({error: \"Post doesn't exist!\"})\n\t\t}\n\n\t\t\n\t} catch {\n\t\treturn res.status(500).json({error: \"Server error\"})\n\t}\n}\n\n\n\nexport {post_get_all, post_create, post_get_one, post_update, post_delete}\n"]}},"mtime":1650906751931},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/Post.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Post = exports.Comment = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar _User = _interopRequireDefault(require(\"./User\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst commentSchema = new _mongoose.mongoose.Schema({\n  postId: {\n    type: _mongoose.mongoose.Schema.Types.ObjectId,\n    ref: 'Post'\n  },\n  description: String\n}); // const likeSchema = new mongoose.Schema({\n// \tuserId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref: 'User'\n// \t},\n// \tpostId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref:'Post'\n// \t}\n// })\n\nconst schema = new _mongoose.mongoose.Schema({\n  title: {\n    type: String,\n    required: true\n  },\n  content: {\n    type: String,\n    required: true\n  },\n  poster: {\n    type: String,\n    required: true\n  },\n  comments: [commentSchema],\n  likes: [],\n  postedBy: {\n    type: _mongoose.mongoose.Schema.Types.ObjectId,\n    ref: 'User'\n  }\n}, {\n  timestamps: true\n});\n\nconst Comment = _mongoose.mongoose.model(\"Comment\", commentSchema);\n\nexports.Comment = Comment;\n\nconst Post = _mongoose.mongoose.model(\"Post\", schema);\n\nexports.Post = Post;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBvc3QuanMiXSwibmFtZXMiOlsiY29tbWVudFNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwicG9zdElkIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJkZXNjcmlwdGlvbiIsIlN0cmluZyIsInNjaGVtYSIsInRpdGxlIiwicmVxdWlyZWQiLCJjb250ZW50IiwicG9zdGVyIiwiY29tbWVudHMiLCJsaWtlcyIsInBvc3RlZEJ5IiwidGltZXN0YW1wcyIsIkNvbW1lbnQiLCJtb2RlbCIsIlBvc3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyxtQkFBU0MsTUFBYixDQUFvQjtBQUN6Q0MsRUFBQUEsTUFBTSxFQUFDO0FBQ05DLElBQUFBLElBQUksRUFBQ0gsbUJBQVNDLE1BQVQsQ0FBZ0JHLEtBQWhCLENBQXNCQyxRQURyQjtBQUVOQyxJQUFBQSxHQUFHLEVBQUM7QUFGRSxHQURrQztBQUt0Q0MsRUFBQUEsV0FBVyxFQUFDQztBQUwwQixDQUFwQixDQUF0QixDLENBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBS0EsTUFBTUMsTUFBTSxHQUFHLElBQUlULG1CQUFTQyxNQUFiLENBQW9CO0FBQ2xDUyxFQUFBQSxLQUFLLEVBQUU7QUFDTlAsSUFBQUEsSUFBSSxFQUFDSyxNQURDO0FBRU5HLElBQUFBLFFBQVEsRUFBQztBQUZILEdBRDJCO0FBS2xDQyxFQUFBQSxPQUFPLEVBQUU7QUFDUlQsSUFBQUEsSUFBSSxFQUFDSyxNQURHO0FBRVJHLElBQUFBLFFBQVEsRUFBQztBQUZELEdBTHlCO0FBU2xDRSxFQUFBQSxNQUFNLEVBQUU7QUFDUFYsSUFBQUEsSUFBSSxFQUFDSyxNQURFO0FBRVBHLElBQUFBLFFBQVEsRUFBQztBQUZGLEdBVDBCO0FBY2xDRyxFQUFBQSxRQUFRLEVBQUMsQ0FBQ2YsYUFBRCxDQWR5QjtBQWdCbENnQixFQUFBQSxLQUFLLEVBQUMsRUFoQjRCO0FBa0JsQ0MsRUFBQUEsUUFBUSxFQUFFO0FBQ1RiLElBQUFBLElBQUksRUFBQ0gsbUJBQVNDLE1BQVQsQ0FBZ0JHLEtBQWhCLENBQXNCQyxRQURsQjtBQUVUQyxJQUFBQSxHQUFHLEVBQUM7QUFGSztBQWxCd0IsQ0FBcEIsRUF1QmI7QUFBQ1csRUFBQUEsVUFBVSxFQUFDO0FBQVosQ0F2QmEsQ0FBZjs7QUEwQk8sTUFBTUMsT0FBTyxHQUFHbEIsbUJBQVNtQixLQUFULENBQWUsU0FBZixFQUEwQnBCLGFBQTFCLENBQWhCOzs7O0FBQ0EsTUFBTXFCLElBQUksR0FBR3BCLG1CQUFTbUIsS0FBVCxDQUFlLE1BQWYsRUFBdUJWLE1BQXZCLENBQWIiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge21vbmdvb3NlfSBmcm9tIFwibW9uZ29vc2VcIlxuaW1wb3J0ICBVc2VyICBmcm9tIFwiLi9Vc2VyXCJcblxuY29uc3QgY29tbWVudFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuXHRwb3N0SWQ6e1xuXHRcdHR5cGU6bW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuXHRcdHJlZjonUG9zdCdcblx0fSxcbiAgICBkZXNjcmlwdGlvbjpTdHJpbmdcbn0pXG5cbi8vIGNvbnN0IGxpa2VTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbi8vIFx0dXNlcklkOntcbi8vIFx0XHR0eXBlOm1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbi8vIFx0XHRyZWY6ICdVc2VyJ1xuLy8gXHR9LFxuLy8gXHRwb3N0SWQ6e1xuLy8gXHRcdHR5cGU6bW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuLy8gXHRcdHJlZjonUG9zdCdcbi8vIFx0fVxuICAgIFxuLy8gfSlcblxuXG5cblxuY29uc3Qgc2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG5cdHRpdGxlOiB7XG5cdFx0dHlwZTpTdHJpbmcsXG5cdFx0cmVxdWlyZWQ6dHJ1ZVxuXHR9LFxuXHRjb250ZW50OiB7XG5cdFx0dHlwZTpTdHJpbmcsXG5cdFx0cmVxdWlyZWQ6dHJ1ZVxuXHR9LFxuXHRwb3N0ZXI6IHtcblx0XHR0eXBlOlN0cmluZyxcblx0XHRyZXF1aXJlZDp0cnVlXG5cdH0sXG5cblx0Y29tbWVudHM6W2NvbW1lbnRTY2hlbWFdLFxuXG5cdGxpa2VzOltdLFxuXG5cdHBvc3RlZEJ5OiB7XG5cdFx0dHlwZTptb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG5cdFx0cmVmOidVc2VyJ1xuXHR9XG5cbn0se3RpbWVzdGFtcHM6dHJ1ZX0pXG5cblxuZXhwb3J0IGNvbnN0IENvbW1lbnQgPSBtb25nb29zZS5tb2RlbChcIkNvbW1lbnRcIiwgY29tbWVudFNjaGVtYSlcbmV4cG9ydCBjb25zdCBQb3N0ID0gbW9uZ29vc2UubW9kZWwoXCJQb3N0XCIsIHNjaGVtYSlcblxuIl19","map":{"version":3,"sources":["Post.js"],"names":["commentSchema","mongoose","Schema","postId","type","Types","ObjectId","ref","description","String","schema","title","required","content","poster","comments","likes","postedBy","timestamps","Comment","model","Post"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,mBAASC,MAAb,CAAoB;AACzCC,EAAAA,MAAM,EAAC;AACNC,IAAAA,IAAI,EAACH,mBAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QADrB;AAENC,IAAAA,GAAG,EAAC;AAFE,GADkC;AAKtCC,EAAAA,WAAW,EAACC;AAL0B,CAApB,CAAtB,C,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAKA,MAAMC,MAAM,GAAG,IAAIT,mBAASC,MAAb,CAAoB;AAClCS,EAAAA,KAAK,EAAE;AACNP,IAAAA,IAAI,EAACK,MADC;AAENG,IAAAA,QAAQ,EAAC;AAFH,GAD2B;AAKlCC,EAAAA,OAAO,EAAE;AACRT,IAAAA,IAAI,EAACK,MADG;AAERG,IAAAA,QAAQ,EAAC;AAFD,GALyB;AASlCE,EAAAA,MAAM,EAAE;AACPV,IAAAA,IAAI,EAACK,MADE;AAEPG,IAAAA,QAAQ,EAAC;AAFF,GAT0B;AAclCG,EAAAA,QAAQ,EAAC,CAACf,aAAD,CAdyB;AAgBlCgB,EAAAA,KAAK,EAAC,EAhB4B;AAkBlCC,EAAAA,QAAQ,EAAE;AACTb,IAAAA,IAAI,EAACH,mBAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QADlB;AAETC,IAAAA,GAAG,EAAC;AAFK;AAlBwB,CAApB,EAuBb;AAACW,EAAAA,UAAU,EAAC;AAAZ,CAvBa,CAAf;;AA0BO,MAAMC,OAAO,GAAGlB,mBAASmB,KAAT,CAAe,SAAf,EAA0BpB,aAA1B,CAAhB;;;;AACA,MAAMqB,IAAI,GAAGpB,mBAASmB,KAAT,CAAe,MAAf,EAAuBV,MAAvB,CAAb","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/","sourcesContent":["import {mongoose} from \"mongoose\"\nimport  User  from \"./User\"\n\nconst commentSchema = new mongoose.Schema({\n\tpostId:{\n\t\ttype:mongoose.Schema.Types.ObjectId,\n\t\tref:'Post'\n\t},\n    description:String\n})\n\n// const likeSchema = new mongoose.Schema({\n// \tuserId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref: 'User'\n// \t},\n// \tpostId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref:'Post'\n// \t}\n    \n// })\n\n\n\n\nconst schema = new mongoose.Schema({\n\ttitle: {\n\t\ttype:String,\n\t\trequired:true\n\t},\n\tcontent: {\n\t\ttype:String,\n\t\trequired:true\n\t},\n\tposter: {\n\t\ttype:String,\n\t\trequired:true\n\t},\n\n\tcomments:[commentSchema],\n\n\tlikes:[],\n\n\tpostedBy: {\n\t\ttype:mongoose.Schema.Types.ObjectId,\n\t\tref:'User'\n\t}\n\n},{timestamps:true})\n\n\nexport const Comment = mongoose.model(\"Comment\", commentSchema)\nexport const Post = mongoose.model(\"Post\", schema)\n\n"]}},"mtime":1650878195498},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/UserRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userControllers = require(\"../controllers/userControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n//users//\nrouter.get(\"/users\", _userControllers.users_get_all);\nrouter.post(\"/users\", _userControllers.user_create); //login user\n\nrouter.post(\"/users/login\", _userControllers.user_get_token);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInVzZXJzX2dldF9hbGwiLCJwb3N0IiwidXNlcl9jcmVhdGUiLCJ1c2VyX2dldF90b2tlbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUlBOzs7O0FBRkEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmOztBQVNBO0FBQ0FGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFFBQVgsRUFBcUJDLDhCQUFyQjtBQUVBSixNQUFNLENBQUNLLElBQVAsQ0FBWSxRQUFaLEVBQXNCQyw0QkFBdEIsRSxDQUVBOztBQUNBTixNQUFNLENBQUNLLElBQVAsQ0FBWSxjQUFaLEVBQTRCRSwrQkFBNUI7ZUFFZVAsTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5pbXBvcnQgeyB1c2Vyc19nZXRfYWxsLCB1c2VyX2NyZWF0ZSwgdXNlcl9nZXRfdG9rZW4gfSBmcm9tICcuLi9jb250cm9sbGVycy91c2VyQ29udHJvbGxlcnMnXG5cblxuXG5cblxuXG4vL3VzZXJzLy9cbnJvdXRlci5nZXQoXCIvdXNlcnNcIiwgdXNlcnNfZ2V0X2FsbClcblxucm91dGVyLnBvc3QoXCIvdXNlcnNcIiwgdXNlcl9jcmVhdGUpXG5cbi8vbG9naW4gdXNlclxucm91dGVyLnBvc3QoXCIvdXNlcnMvbG9naW5cIiwgdXNlcl9nZXRfdG9rZW4pXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlclxuIl19","map":{"version":3,"sources":["UserRoutes.js"],"names":["router","express","Router","get","users_get_all","post","user_create","user_get_token"],"mappings":";;;;;;;AAAA;;AAIA;;;;AAFA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AASA;AACAF,MAAM,CAACG,GAAP,CAAW,QAAX,EAAqBC,8BAArB;AAEAJ,MAAM,CAACK,IAAP,CAAY,QAAZ,EAAsBC,4BAAtB,E,CAEA;;AACAN,MAAM,CAACK,IAAP,CAAY,cAAZ,EAA4BE,+BAA5B;eAEeP,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport { users_get_all, user_create, user_get_token } from '../controllers/userControllers'\n\n\n\n\n\n\n//users//\nrouter.get(\"/users\", users_get_all)\n\nrouter.post(\"/users\", user_create)\n\n//login user\nrouter.post(\"/users/login\", user_get_token)\n\nexport default router\n"]}},"mtime":1650457977215},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/userControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.users_get_all = exports.user_get_token = exports.user_create = void 0;\n\nvar _User = require(\"../models/User\");\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import models\n//listing all users\nconst users_get_all = (req, res) => {\n  const users = _User.User.find().then(result => {\n    return res.status(200).json({\n      data: result\n    });\n  });\n}; // creating a new user\n\n\nexports.users_get_all = users_get_all;\n\nconst user_create = async (req, res) => {\n  try {\n    if (req.body.username === '' || req.body.email === '' || req.body.password === '') {\n      return res.status(403).json({\n        message: \"All fields are required\"\n      });\n    }\n\n    const salt = await _bcrypt.default.genSalt();\n    const hashedPassword = await _bcrypt.default.hash(req.body.password, salt);\n    const isNewUser = await _User.User.isThisEmailInUSe(req.body.email);\n    if (!isNewUser) return res.status(403).json({\n      message: \"user already exists\"\n    });\n    const user = await new _User.User({\n      username: req.body.username,\n      email: req.body.email,\n      password: hashedPassword\n    });\n    await user.save();\n    return res.status(201).json({\n      message: \"user created!\"\n    });\n  } catch (error) {\n    return res.status(500).json({\n      error: error.message\n    });\n  }\n}; //login user\n\n\nexports.user_create = user_create;\n\nconst user_get_token = async (req, res) => {\n  try {\n    const user = await _User.User.findOne({\n      username: req.body.username\n    });\n\n    if (user) {\n      const match = await user.passwordComparison(req.body.password, user.password);\n\n      if (match) {\n        //further code to maintain jwt authentication\n        const user = {\n          username: req.body.username\n        };\n\n        const accesToken = _jsonwebtoken.default.sign(user, process.env.ACCESS_TOKEN_SECRET, {\n          expiresIn: '30m'\n        });\n\n        return res.status(200).json({\n          Token: accesToken\n        });\n      } else {\n        res.status(403).json({\n          message: \"Invalid username or password.\"\n        });\n      }\n    } else {\n      res.status(400).json({\n        message: \"Not User.\"\n      });\n    }\n  } catch (error) {\n    res.status(500).json({\n      message: \"Internal Server error occured\"\n    });\n  }\n};\n\nexports.user_get_token = user_get_token;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJ1c2Vyc19nZXRfYWxsIiwicmVxIiwicmVzIiwidXNlcnMiLCJVc2VyIiwiZmluZCIsInRoZW4iLCJyZXN1bHQiLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsInVzZXJfY3JlYXRlIiwiYm9keSIsInVzZXJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsIm1lc3NhZ2UiLCJzYWx0IiwiYmNyeXB0IiwiZ2VuU2FsdCIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsImlzTmV3VXNlciIsImlzVGhpc0VtYWlsSW5VU2UiLCJ1c2VyIiwic2F2ZSIsImVycm9yIiwidXNlcl9nZXRfdG9rZW4iLCJmaW5kT25lIiwibWF0Y2giLCJwYXNzd29yZENvbXBhcmlzb24iLCJhY2Nlc1Rva2VuIiwiand0Iiwic2lnbiIsInByb2Nlc3MiLCJlbnYiLCJBQ0NFU1NfVE9LRU5fU0VDUkVUIiwiZXhwaXJlc0luIiwiVG9rZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUhBO0FBS0E7QUFDQSxNQUFNQSxhQUFhLEdBQUUsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQVk7QUFFaEMsUUFBTUMsS0FBSyxHQUFHQyxXQUFLQyxJQUFMLEdBQVlDLElBQVosQ0FBa0JDLE1BQUQsSUFBVTtBQUN4QyxXQUFPTCxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxJQUFJLEVBQUNIO0FBQU4sS0FBckIsQ0FBUDtBQUNBLEdBRmEsQ0FBZDtBQUdBLENBTEQsQyxDQU9BOzs7OztBQUNBLE1BQU1JLFdBQVcsR0FBRyxPQUFPVixHQUFQLEVBQVlDLEdBQVosS0FBa0I7QUFDckMsTUFBSTtBQUNILFFBQUdELEdBQUcsQ0FBQ1csSUFBSixDQUFTQyxRQUFULEtBQXNCLEVBQXRCLElBQTRCWixHQUFHLENBQUNXLElBQUosQ0FBU0UsS0FBVCxLQUFtQixFQUEvQyxJQUFxRGIsR0FBRyxDQUFDVyxJQUFKLENBQVNHLFFBQVQsS0FBc0IsRUFBOUUsRUFBaUY7QUFDaEYsYUFBT2IsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ08sUUFBQUEsT0FBTyxFQUFDO0FBQVQsT0FBckIsQ0FBUDtBQUNBOztBQUVELFVBQU1DLElBQUksR0FBRyxNQUFNQyxnQkFBT0MsT0FBUCxFQUFuQjtBQUNBLFVBQU1DLGNBQWMsR0FBRyxNQUFNRixnQkFBT0csSUFBUCxDQUFZcEIsR0FBRyxDQUFDVyxJQUFKLENBQVNHLFFBQXJCLEVBQStCRSxJQUEvQixDQUE3QjtBQUVBLFVBQU1LLFNBQVMsR0FBRyxNQUFNbEIsV0FBS21CLGdCQUFMLENBQXNCdEIsR0FBRyxDQUFDVyxJQUFKLENBQVNFLEtBQS9CLENBQXhCO0FBQ0EsUUFBRyxDQUFDUSxTQUFKLEVBQWUsT0FBT3BCLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNPLE1BQUFBLE9BQU8sRUFBQztBQUFULEtBQXJCLENBQVA7QUFFZixVQUFNUSxJQUFJLEdBQUcsTUFBTSxJQUFJcEIsVUFBSixDQUFTO0FBQzNCUyxNQUFBQSxRQUFRLEVBQUNaLEdBQUcsQ0FBQ1csSUFBSixDQUFTQyxRQURTO0FBRTNCQyxNQUFBQSxLQUFLLEVBQUNiLEdBQUcsQ0FBQ1csSUFBSixDQUFTRSxLQUZZO0FBRzNCQyxNQUFBQSxRQUFRLEVBQUNLO0FBSGtCLEtBQVQsQ0FBbkI7QUFNQSxVQUFNSSxJQUFJLENBQUNDLElBQUwsRUFBTjtBQUVBLFdBQU92QixHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDTyxNQUFBQSxPQUFPLEVBQUM7QUFBVCxLQUFyQixDQUFQO0FBRUEsR0FyQkQsQ0FxQkUsT0FBT1UsS0FBUCxFQUFjO0FBQ2YsV0FBT3hCLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNpQixNQUFBQSxLQUFLLEVBQUNBLEtBQUssQ0FBQ1Y7QUFBYixLQUFyQixDQUFQO0FBQ0E7QUFHRCxDQTNCRCxDLENBNkJBOzs7OztBQUNBLE1BQU1XLGNBQWMsR0FBRSxPQUFPMUIsR0FBUCxFQUFZQyxHQUFaLEtBQWtCO0FBQ3ZDLE1BQUk7QUFDSCxVQUFNc0IsSUFBSSxHQUFHLE1BQU1wQixXQUFLd0IsT0FBTCxDQUFhO0FBQUVmLE1BQUFBLFFBQVEsRUFBRVosR0FBRyxDQUFDVyxJQUFKLENBQVNDO0FBQXJCLEtBQWIsQ0FBbkI7O0FBRUEsUUFBSVcsSUFBSixFQUFVO0FBQ1IsWUFBTUssS0FBSyxHQUFHLE1BQU1MLElBQUksQ0FBQ00sa0JBQUwsQ0FBd0I3QixHQUFHLENBQUNXLElBQUosQ0FBU0csUUFBakMsRUFBMkNTLElBQUksQ0FBQ1QsUUFBaEQsQ0FBcEI7O0FBQ0EsVUFBSWMsS0FBSixFQUFXO0FBQ1o7QUFFQSxjQUFNTCxJQUFJLEdBQUc7QUFDWlgsVUFBQUEsUUFBUSxFQUFHWixHQUFHLENBQUNXLElBQUosQ0FBU0M7QUFEUixTQUFiOztBQUlBLGNBQU1rQixVQUFVLEdBQUdDLHNCQUFJQyxJQUFKLENBQVNULElBQVQsRUFBZVUsT0FBTyxDQUFDQyxHQUFSLENBQVlDLG1CQUEzQixFQUFnRDtBQUFDQyxVQUFBQSxTQUFTLEVBQUU7QUFBWixTQUFoRCxDQUFuQjs7QUFFQSxlQUFPbkMsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQzZCLFVBQUFBLEtBQUssRUFBQ1A7QUFBUCxTQUFyQixDQUFQO0FBQ0UsT0FWRCxNQVVPO0FBQ1I3QixRQUFBQSxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDTyxVQUFBQSxPQUFPLEVBQUM7QUFBVCxTQUFyQjtBQUNFO0FBRUYsS0FoQkQsTUFnQk87QUFDTGQsTUFBQUEsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ08sUUFBQUEsT0FBTyxFQUFDO0FBQVQsT0FBckI7QUFDRDtBQUVDLEdBdkJILENBdUJJLE9BQU9VLEtBQVAsRUFBYztBQUVqQnhCLElBQUFBLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNPLE1BQUFBLE9BQU8sRUFBQztBQUFULEtBQXJCO0FBQ0U7QUFFSCxDQTdCRCIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IG1vZGVsc1xuaW1wb3J0IHtVc2VyfSBmcm9tICcuLi9tb2RlbHMvVXNlcidcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0J1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXG5cbi8vbGlzdGluZyBhbGwgdXNlcnNcbmNvbnN0IHVzZXJzX2dldF9hbGw9IChyZXEsIHJlcyk9Pntcblx0XG5cdGNvbnN0IHVzZXJzID0gVXNlci5maW5kKCkudGhlbigocmVzdWx0KT0+e1xuXHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7ZGF0YTpyZXN1bHR9KVxuXHR9KVxufVxuXG4vLyBjcmVhdGluZyBhIG5ldyB1c2VyXG5jb25zdCB1c2VyX2NyZWF0ZSA9IGFzeW5jIChyZXEsIHJlcyk9Pntcblx0dHJ5IHtcblx0XHRpZihyZXEuYm9keS51c2VybmFtZSA9PT0gJycgfHwgcmVxLmJvZHkuZW1haWwgPT09ICcnIHx8IHJlcS5ib2R5LnBhc3N3b3JkID09PSAnJyl7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJBbGwgZmllbGRzIGFyZSByZXF1aXJlZFwifSlcblx0XHR9XG5cblx0XHRjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoKVxuXHRcdGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsIHNhbHQpXG5cblx0XHRjb25zdCBpc05ld1VzZXIgPSBhd2FpdCBVc2VyLmlzVGhpc0VtYWlsSW5VU2UocmVxLmJvZHkuZW1haWwpO1xuXHRcdGlmKCFpc05ld1VzZXIpIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTpcInVzZXIgYWxyZWFkeSBleGlzdHNcIn0pO1xuXG5cdFx0Y29uc3QgdXNlciA9IGF3YWl0IG5ldyBVc2VyKHtcblx0XHRcdHVzZXJuYW1lOnJlcS5ib2R5LnVzZXJuYW1lLFxuXHRcdFx0ZW1haWw6cmVxLmJvZHkuZW1haWwsXG5cdFx0XHRwYXNzd29yZDpoYXNoZWRQYXNzd29yZFxuXHRcdH0pXG5cdFxuXHRcdGF3YWl0IHVzZXIuc2F2ZSgpXG5cdFxuXHRcdHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7bWVzc2FnZTpcInVzZXIgY3JlYXRlZCFcIn0pXG5cdFx0XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtlcnJvcjplcnJvci5tZXNzYWdlfSlcblx0fVxuXG5cdFxufVxuXG4vL2xvZ2luIHVzZXJcbmNvbnN0IHVzZXJfZ2V0X3Rva2VuPSBhc3luYyAocmVxLCByZXMpPT57XG5cdHRyeSB7XG5cdFx0Y29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiByZXEuYm9keS51c2VybmFtZSB9KTtcblxuXHRcdGlmICh1c2VyKSB7XG5cdFx0ICBjb25zdCBtYXRjaCA9IGF3YWl0IHVzZXIucGFzc3dvcmRDb21wYXJpc29uKHJlcS5ib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcblx0XHQgIGlmIChtYXRjaCkge1xuXHRcdFx0Ly9mdXJ0aGVyIGNvZGUgdG8gbWFpbnRhaW4gand0IGF1dGhlbnRpY2F0aW9uXG5cdFx0XHRcblx0XHRcdGNvbnN0IHVzZXIgPSB7XG5cdFx0XHRcdHVzZXJuYW1lIDogcmVxLmJvZHkudXNlcm5hbWVcblx0XHRcdFx0XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBhY2Nlc1Rva2VuID0gand0LnNpZ24odXNlciwgcHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCwge2V4cGlyZXNJbjogJzMwbSd9KTtcblx0XHRcdFxuXHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtUb2tlbjphY2Nlc1Rva2VufSk7XG5cdFx0ICB9IGVsc2Uge1xuXHRcdFx0cmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJJbnZhbGlkIHVzZXJuYW1lIG9yIHBhc3N3b3JkLlwifSk7XG5cdFx0ICB9XG5cblx0XHR9IGVsc2Uge1xuXHRcdCAgcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6XCJOb3QgVXNlci5cIn0pO1xuXHRcdH1cbiAgICAgICAgXG5cdCAgfSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcblx0XHRyZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTpcIkludGVybmFsIFNlcnZlciBlcnJvciBvY2N1cmVkXCJ9KTtcblx0ICB9XG5cbn1cblxuZXhwb3J0IHt1c2Vyc19nZXRfYWxsLCB1c2VyX2NyZWF0ZSwgdXNlcl9nZXRfdG9rZW59XG5cbiJdfQ==","map":{"version":3,"sources":["userControllers.js"],"names":["users_get_all","req","res","users","User","find","then","result","status","json","data","user_create","body","username","email","password","message","salt","bcrypt","genSalt","hashedPassword","hash","isNewUser","isThisEmailInUSe","user","save","error","user_get_token","findOne","match","passwordComparison","accesToken","jwt","sign","process","env","ACCESS_TOKEN_SECRET","expiresIn","Token"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["// import models\nimport {User} from '../models/User'\nimport bcrypt from 'bcrypt'\nimport jwt from 'jsonwebtoken'\n\n//listing all users\nconst users_get_all= (req, res)=>{\n\t\n\tconst users = User.find().then((result)=>{\n\t\treturn res.status(200).json({data:result})\n\t})\n}\n\n// creating a new user\nconst user_create = async (req, res)=>{\n\ttry {\n\t\tif(req.body.username === '' || req.body.email === '' || req.body.password === ''){\n\t\t\treturn res.status(403).json({message:\"All fields are required\"})\n\t\t}\n\n\t\tconst salt = await bcrypt.genSalt()\n\t\tconst hashedPassword = await bcrypt.hash(req.body.password, salt)\n\n\t\tconst isNewUser = await User.isThisEmailInUSe(req.body.email);\n\t\tif(!isNewUser) return res.status(403).json({message:\"user already exists\"});\n\n\t\tconst user = await new User({\n\t\t\tusername:req.body.username,\n\t\t\temail:req.body.email,\n\t\t\tpassword:hashedPassword\n\t\t})\n\t\n\t\tawait user.save()\n\t\n\t\treturn res.status(201).json({message:\"user created!\"})\n\t\t\n\t} catch (error) {\n\t\treturn res.status(500).json({error:error.message})\n\t}\n\n\t\n}\n\n//login user\nconst user_get_token= async (req, res)=>{\n\ttry {\n\t\tconst user = await User.findOne({ username: req.body.username });\n\n\t\tif (user) {\n\t\t  const match = await user.passwordComparison(req.body.password, user.password);\n\t\t  if (match) {\n\t\t\t//further code to maintain jwt authentication\n\t\t\t\n\t\t\tconst user = {\n\t\t\t\tusername : req.body.username\n\t\t\t\t\n\t\t\t}\n\t\t\tconst accesToken = jwt.sign(user, process.env.ACCESS_TOKEN_SECRET, {expiresIn: '30m'});\n\t\t\t\n\t\t\treturn res.status(200).json({Token:accesToken});\n\t\t  } else {\n\t\t\tres.status(403).json({message:\"Invalid username or password.\"});\n\t\t  }\n\n\t\t} else {\n\t\t  res.status(400).json({message:\"Not User.\"});\n\t\t}\n        \n\t  } catch (error) {\n\t\t\n\t\tres.status(500).json({message:\"Internal Server error occured\"});\n\t  }\n\n}\n\nexport {users_get_all, user_create, user_get_token}\n\n"]}},"mtime":1650457977179},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.User = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  username: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String\n  },\n  password: {\n    type: String,\n    required: true\n  }\n});\n\nuserSchema.statics.isThisEmailInUSe = async function (email) {\n  try {\n    const user = await this.findOne({\n      email\n    });\n\n    if (user) {\n      return false;\n    } else {\n      return true;\n    }\n  } catch (error) {\n    console.log('error', error.message);\n    return false;\n  }\n};\n\nuserSchema.methods.passwordComparison = function (inputPassword) {\n  let user = this;\n  return _bcrypt.default.compare(inputPassword, user.password);\n};\n\nuserSchema.statics.getUser = function (username) {\n  return this.find({\n    username: username\n  });\n};\n\nconst User = _mongoose.default.model(\"User\", userSchema);\n\nexports.User = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwidXNlcm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJlbWFpbCIsInBhc3N3b3JkIiwic3RhdGljcyIsImlzVGhpc0VtYWlsSW5VU2UiLCJ1c2VyIiwiZmluZE9uZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJtZXRob2RzIiwicGFzc3dvcmRDb21wYXJpc29uIiwiaW5wdXRQYXNzd29yZCIsImJjcnlwdCIsImNvbXBhcmUiLCJnZXRVc2VyIiwiZmluZCIsIlVzZXIiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQ3RDQyxFQUFBQSxRQUFRLEVBQUM7QUFDUkMsSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLElBQUFBLFFBQVEsRUFBRTtBQUZGLEdBRDZCO0FBS3RDQyxFQUFBQSxLQUFLLEVBQUM7QUFDTEgsSUFBQUEsSUFBSSxFQUFFQztBQURELEdBTGdDO0FBUXRDRyxFQUFBQSxRQUFRLEVBQUM7QUFDUkosSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLElBQUFBLFFBQVEsRUFBRTtBQUZGO0FBUjZCLENBQXBCLENBQW5COztBQWVBTixVQUFVLENBQUNTLE9BQVgsQ0FBbUJDLGdCQUFuQixHQUFzQyxnQkFBZUgsS0FBZixFQUFxQjtBQUMxRCxNQUFJO0FBQ0gsVUFBTUksSUFBSSxHQUFHLE1BQU0sS0FBS0MsT0FBTCxDQUFhO0FBQUNMLE1BQUFBO0FBQUQsS0FBYixDQUFuQjs7QUFDQSxRQUFHSSxJQUFILEVBQVM7QUFDUixhQUFPLEtBQVA7QUFDQSxLQUZELE1BRUs7QUFDSixhQUFPLElBQVA7QUFDQTtBQUdELEdBVEQsQ0FTRSxPQUFPRSxLQUFQLEVBQWM7QUFDZkMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWixFQUFxQkYsS0FBSyxDQUFDRyxPQUEzQjtBQUNBLFdBQU8sS0FBUDtBQUVBO0FBR0QsQ0FqQkQ7O0FBbUJBaEIsVUFBVSxDQUFDaUIsT0FBWCxDQUFtQkMsa0JBQW5CLEdBQXdDLFVBQVNDLGFBQVQsRUFBdUI7QUFDL0QsTUFBSVIsSUFBSSxHQUFHLElBQVg7QUFDRSxTQUFPUyxnQkFBT0MsT0FBUCxDQUFlRixhQUFmLEVBQThCUixJQUFJLENBQUNILFFBQW5DLENBQVA7QUFDRCxDQUhEOztBQUtBUixVQUFVLENBQUNTLE9BQVgsQ0FBbUJhLE9BQW5CLEdBQTZCLFVBQVVuQixRQUFWLEVBQW9CO0FBQ2hELFNBQU8sS0FBS29CLElBQUwsQ0FBVTtBQUFFcEIsSUFBQUEsUUFBUSxFQUFFQTtBQUFaLEdBQVYsQ0FBUDtBQUNBLENBRkQ7O0FBSU8sTUFBTXFCLElBQUksR0FBRXZCLGtCQUFTd0IsS0FBVCxDQUFlLE1BQWYsRUFBdUJ6QixVQUF2QixDQUFaIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCdcblxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuXHR1c2VybmFtZTp7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiB0cnVlXG5cdH0sXG5cdGVtYWlsOntcblx0XHR0eXBlOiBTdHJpbmdcblx0fSxcblx0cGFzc3dvcmQ6e1xuXHRcdHR5cGU6IFN0cmluZyxcblx0XHRyZXF1aXJlZDogdHJ1ZVxuXHR9XG5cbn0pXG5cbnVzZXJTY2hlbWEuc3RhdGljcy5pc1RoaXNFbWFpbEluVVNlID0gYXN5bmMgZnVuY3Rpb24oZW1haWwpe1xuXHR0cnkge1xuXHRcdGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRPbmUoe2VtYWlsfSlcblx0XHRpZih1c2VyKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fWVsc2V7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0XG5cdFx0XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IubWVzc2FnZSk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFxuXHR9XG5cblx0XG59XG5cbnVzZXJTY2hlbWEubWV0aG9kcy5wYXNzd29yZENvbXBhcmlzb24gPSBmdW5jdGlvbihpbnB1dFBhc3N3b3JkKXtcbmxldCB1c2VyID0gdGhpcztcbiAgcmV0dXJuIGJjcnlwdC5jb21wYXJlKGlucHV0UGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xufTtcblxudXNlclNjaGVtYS5zdGF0aWNzLmdldFVzZXIgPSBmdW5jdGlvbiAodXNlcm5hbWUpIHtcblx0cmV0dXJuIHRoaXMuZmluZCh7IHVzZXJuYW1lOiB1c2VybmFtZSB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IFVzZXIgPW1vbmdvb3NlLm1vZGVsKFwiVXNlclwiLCB1c2VyU2NoZW1hKSJdfQ==","map":{"version":3,"sources":["User.js"],"names":["userSchema","mongoose","Schema","username","type","String","required","email","password","statics","isThisEmailInUSe","user","findOne","error","console","log","message","methods","passwordComparison","inputPassword","bcrypt","compare","getUser","find","User","model"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACtCC,EAAAA,QAAQ,EAAC;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GAD6B;AAKtCC,EAAAA,KAAK,EAAC;AACLH,IAAAA,IAAI,EAAEC;AADD,GALgC;AAQtCG,EAAAA,QAAQ,EAAC;AACRJ,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF;AAR6B,CAApB,CAAnB;;AAeAN,UAAU,CAACS,OAAX,CAAmBC,gBAAnB,GAAsC,gBAAeH,KAAf,EAAqB;AAC1D,MAAI;AACH,UAAMI,IAAI,GAAG,MAAM,KAAKC,OAAL,CAAa;AAACL,MAAAA;AAAD,KAAb,CAAnB;;AACA,QAAGI,IAAH,EAAS;AACR,aAAO,KAAP;AACA,KAFD,MAEK;AACJ,aAAO,IAAP;AACA;AAGD,GATD,CASE,OAAOE,KAAP,EAAc;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAAK,CAACG,OAA3B;AACA,WAAO,KAAP;AAEA;AAGD,CAjBD;;AAmBAhB,UAAU,CAACiB,OAAX,CAAmBC,kBAAnB,GAAwC,UAASC,aAAT,EAAuB;AAC/D,MAAIR,IAAI,GAAG,IAAX;AACE,SAAOS,gBAAOC,OAAP,CAAeF,aAAf,EAA8BR,IAAI,CAACH,QAAnC,CAAP;AACD,CAHD;;AAKAR,UAAU,CAACS,OAAX,CAAmBa,OAAnB,GAA6B,UAAUnB,QAAV,EAAoB;AAChD,SAAO,KAAKoB,IAAL,CAAU;AAAEpB,IAAAA,QAAQ,EAAEA;AAAZ,GAAV,CAAP;AACA,CAFD;;AAIO,MAAMqB,IAAI,GAAEvB,kBAASwB,KAAT,CAAe,MAAf,EAAuBzB,UAAvB,CAAZ","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/","sourcesContent":["import mongoose from \"mongoose\"\nimport bcrypt from 'bcrypt'\n\nconst userSchema = new mongoose.Schema({\n\tusername:{\n\t\ttype: String,\n\t\trequired: true\n\t},\n\temail:{\n\t\ttype: String\n\t},\n\tpassword:{\n\t\ttype: String,\n\t\trequired: true\n\t}\n\n})\n\nuserSchema.statics.isThisEmailInUSe = async function(email){\n\ttry {\n\t\tconst user = await this.findOne({email})\n\t\tif(user) {\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t\n\t} catch (error) {\n\t\tconsole.log('error', error.message);\n\t\treturn false;\n\t\t\n\t}\n\n\t\n}\n\nuserSchema.methods.passwordComparison = function(inputPassword){\nlet user = this;\n  return bcrypt.compare(inputPassword, user.password);\n};\n\nuserSchema.statics.getUser = function (username) {\n\treturn this.find({ username: username });\n}\n\nexport const User =mongoose.model(\"User\", userSchema)"]}},"mtime":1650457977183},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/MessageRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _messageControllers = require(\"../controllers/messageControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n//Contact or Messages\nrouter.get(\"/messages\", _messageControllers.messages_get_all);\nrouter.post(\"/messages\", _messageControllers.message_create);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1lc3NhZ2VSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsIm1lc3NhZ2VzX2dldF9hbGwiLCJwb3N0IiwibWVzc2FnZV9jcmVhdGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFHQTs7OztBQUZBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFLQTtBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxXQUFYLEVBQXdCQyxvQ0FBeEI7QUFFQUosTUFBTSxDQUFDSyxJQUFQLENBQVksV0FBWixFQUF5QkMsa0NBQXpCO2VBRWVOLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmltcG9ydCB7bWVzc2FnZXNfZ2V0X2FsbCwgbWVzc2FnZV9jcmVhdGV9IGZyb20gXCIuLi9jb250cm9sbGVycy9tZXNzYWdlQ29udHJvbGxlcnNcIlxuXG5cbi8vQ29udGFjdCBvciBNZXNzYWdlc1xucm91dGVyLmdldChcIi9tZXNzYWdlc1wiLCBtZXNzYWdlc19nZXRfYWxsKVxuXG5yb3V0ZXIucG9zdChcIi9tZXNzYWdlc1wiLCBtZXNzYWdlX2NyZWF0ZSlcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyIl19","map":{"version":3,"sources":["MessageRoutes.js"],"names":["router","express","Router","get","messages_get_all","post","message_create"],"mappings":";;;;;;;AAAA;;AAGA;;;;AAFA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAKA;AACAF,MAAM,CAACG,GAAP,CAAW,WAAX,EAAwBC,oCAAxB;AAEAJ,MAAM,CAACK,IAAP,CAAY,WAAZ,EAAyBC,kCAAzB;eAEeN,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\nconst router = express.Router();\n\nimport {messages_get_all, message_create} from \"../controllers/messageControllers\"\n\n\n//Contact or Messages\nrouter.get(\"/messages\", messages_get_all)\n\nrouter.post(\"/messages\", message_create)\n\nexport default router"]}},"mtime":1650457977187},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/messageControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.messages_get_all = exports.message_create = void 0;\n\nvar _Contact = require(\"../models/Contact\");\n\n//contact or mesages\nconst messages_get_all = async (req, res) => {\n  try {\n    const messages = await _Contact.Contact.find();\n    if (messages == null) return res.status(404);\n    return res.status(200).json({\n      data: messages,\n      message: \"contacts fetched!\"\n    });\n  } catch (error) {\n    return res.status(404);\n  }\n};\n\nexports.messages_get_all = messages_get_all;\n\nconst message_create = async (req, res) => {\n  if (req.body.sender === '' || req.body.message === '') {\n    return res.status(403).json({\n      message: \"sender and message are required\"\n    });\n  } else {\n    const message = new _Contact.Contact({\n      sender: req.body.sender,\n      name: req.body.name,\n      message: req.body.message\n    });\n    await message.save();\n    return res.status(201).json({\n      message: \"Message Sent successfully\"\n    });\n  }\n};\n\nexports.message_create = message_create;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2VDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJtZXNzYWdlc19nZXRfYWxsIiwicmVxIiwicmVzIiwibWVzc2FnZXMiLCJDb250YWN0IiwiZmluZCIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwibWVzc2FnZSIsImVycm9yIiwibWVzc2FnZV9jcmVhdGUiLCJib2R5Iiwic2VuZGVyIiwibmFtZSIsInNhdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBLE1BQU1BLGdCQUFnQixHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFrQjtBQUN2QyxNQUFHO0FBQ0MsVUFBTUMsUUFBUSxHQUFHLE1BQU1DLGlCQUFRQyxJQUFSLEVBQXZCO0FBQ0EsUUFBSUYsUUFBUSxJQUFJLElBQWhCLEVBQXNCLE9BQVFELEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsQ0FBUjtBQUV0QixXQUFPSixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxJQUFJLEVBQUNMLFFBQU47QUFBZ0JNLE1BQUFBLE9BQU8sRUFBQztBQUF4QixLQUFyQixDQUFQO0FBQ0MsR0FMTCxDQUtNLE9BQU1DLEtBQU4sRUFBWTtBQUNkLFdBQU9SLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsQ0FBUDtBQUNIO0FBRUosQ0FWRDs7OztBQVdBLE1BQU1LLGNBQWMsR0FBRyxPQUFNVixHQUFOLEVBQVdDLEdBQVgsS0FBaUI7QUFDcEMsTUFBR0QsR0FBRyxDQUFDVyxJQUFKLENBQVNDLE1BQVQsS0FBb0IsRUFBcEIsSUFBMEJaLEdBQUcsQ0FBQ1csSUFBSixDQUFTSCxPQUFULEtBQXFCLEVBQWxELEVBQXFEO0FBQ2pELFdBQU9QLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNFLE1BQUFBLE9BQU8sRUFBQztBQUFULEtBQXJCLENBQVA7QUFDSCxHQUZELE1BR0k7QUFDQSxVQUFNQSxPQUFPLEdBQUcsSUFBSUwsZ0JBQUosQ0FBWTtBQUN4QlMsTUFBQUEsTUFBTSxFQUFFWixHQUFHLENBQUNXLElBQUosQ0FBU0MsTUFETztBQUV4QkMsTUFBQUEsSUFBSSxFQUFDYixHQUFHLENBQUNXLElBQUosQ0FBU0UsSUFGVTtBQUd4QkwsTUFBQUEsT0FBTyxFQUFFUixHQUFHLENBQUNXLElBQUosQ0FBU0g7QUFITSxLQUFaLENBQWhCO0FBTUEsVUFBTUEsT0FBTyxDQUFDTSxJQUFSLEVBQU47QUFFQSxXQUFPYixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDRSxNQUFBQSxPQUFPLEVBQUM7QUFBVCxLQUFyQixDQUFQO0FBQ0g7QUFDSixDQWZEIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbnRhY3R9IGZyb20gJy4uL21vZGVscy9Db250YWN0J1xuXG4vL2NvbnRhY3Qgb3IgbWVzYWdlc1xuY29uc3QgbWVzc2FnZXNfZ2V0X2FsbCA9IGFzeW5jIChyZXEsIHJlcyk9PntcbiAgICB0cnl7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgQ29udGFjdC5maW5kKCk7XG4gICAgICAgIGlmIChtZXNzYWdlcyA9PSBudWxsKSByZXR1cm4gIHJlcy5zdGF0dXMoNDA0KVxuICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe2RhdGE6bWVzc2FnZXMsIG1lc3NhZ2U6XCJjb250YWN0cyBmZXRjaGVkIVwifSlcbiAgICAgICAgfSBjYXRjaChlcnJvcil7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNClcbiAgICB9XG4gICAgXG59XG5jb25zdCBtZXNzYWdlX2NyZWF0ZSA9IGFzeW5jKHJlcSwgcmVzKT0+e1xuICAgIGlmKHJlcS5ib2R5LnNlbmRlciA9PT0gJycgfHwgcmVxLmJvZHkubWVzc2FnZSA9PT0gJycpe1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJzZW5kZXIgYW5kIG1lc3NhZ2UgYXJlIHJlcXVpcmVkXCJ9KVxuICAgIH1cbiAgICBlbHNle1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gbmV3IENvbnRhY3Qoe1xuICAgICAgICAgICAgc2VuZGVyOiByZXEuYm9keS5zZW5kZXIsXG4gICAgICAgICAgICBuYW1lOnJlcS5ib2R5Lm5hbWUsXG4gICAgICAgICAgICBtZXNzYWdlOiByZXEuYm9keS5tZXNzYWdlLFxuICAgIFxuICAgICAgICB9KVxuICAgICAgICBhd2FpdCBtZXNzYWdlLnNhdmUoKVxuXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7bWVzc2FnZTpcIk1lc3NhZ2UgU2VudCBzdWNjZXNzZnVsbHlcIn0pXG4gICAgfVxufVxuXG5leHBvcnQge21lc3NhZ2VzX2dldF9hbGwsIG1lc3NhZ2VfY3JlYXRlfSAgICAiXX0=","map":{"version":3,"sources":["messageControllers.js"],"names":["messages_get_all","req","res","messages","Contact","find","status","json","data","message","error","message_create","body","sender","name","save"],"mappings":";;;;;;;AAAA;;AAEA;AACA,MAAMA,gBAAgB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAkB;AACvC,MAAG;AACC,UAAMC,QAAQ,GAAG,MAAMC,iBAAQC,IAAR,EAAvB;AACA,QAAIF,QAAQ,IAAI,IAAhB,EAAsB,OAAQD,GAAG,CAACI,MAAJ,CAAW,GAAX,CAAR;AAEtB,WAAOJ,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,IAAI,EAACL,QAAN;AAAgBM,MAAAA,OAAO,EAAC;AAAxB,KAArB,CAAP;AACC,GALL,CAKM,OAAMC,KAAN,EAAY;AACd,WAAOR,GAAG,CAACI,MAAJ,CAAW,GAAX,CAAP;AACH;AAEJ,CAVD;;;;AAWA,MAAMK,cAAc,GAAG,OAAMV,GAAN,EAAWC,GAAX,KAAiB;AACpC,MAAGD,GAAG,CAACW,IAAJ,CAASC,MAAT,KAAoB,EAApB,IAA0BZ,GAAG,CAACW,IAAJ,CAASH,OAAT,KAAqB,EAAlD,EAAqD;AACjD,WAAOP,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACE,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AACH,GAFD,MAGI;AACA,UAAMA,OAAO,GAAG,IAAIL,gBAAJ,CAAY;AACxBS,MAAAA,MAAM,EAAEZ,GAAG,CAACW,IAAJ,CAASC,MADO;AAExBC,MAAAA,IAAI,EAACb,GAAG,CAACW,IAAJ,CAASE,IAFU;AAGxBL,MAAAA,OAAO,EAAER,GAAG,CAACW,IAAJ,CAASH;AAHM,KAAZ,CAAhB;AAMA,UAAMA,OAAO,CAACM,IAAR,EAAN;AAEA,WAAOb,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACE,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AACH;AACJ,CAfD","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import {Contact} from '../models/Contact'\n\n//contact or mesages\nconst messages_get_all = async (req, res)=>{\n    try{\n        const messages = await Contact.find();\n        if (messages == null) return  res.status(404)\n       \n        return res.status(200).json({data:messages, message:\"contacts fetched!\"})\n        } catch(error){\n        return res.status(404)\n    }\n    \n}\nconst message_create = async(req, res)=>{\n    if(req.body.sender === '' || req.body.message === ''){\n        return res.status(403).json({message:\"sender and message are required\"})\n    }\n    else{\n        const message = new Contact({\n            sender: req.body.sender,\n            name:req.body.name,\n            message: req.body.message,\n    \n        })\n        await message.save()\n\n        return res.status(201).json({message:\"Message Sent successfully\"})\n    }\n}\n\nexport {messages_get_all, message_create}    "]}},"mtime":1650529729420},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/Contact.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Contact = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst contactSchema = new _mongoose.mongoose.Schema({\n  sender: {\n    type: String\n  },\n  name: {\n    type: String\n  },\n  message: {\n    type: String\n  }\n}, {\n  timestamps: true\n});\n\nconst Contact = _mongoose.mongoose.model(\"Message\", contactSchema);\n\nexports.Contact = Contact;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbnRhY3QuanMiXSwibmFtZXMiOlsiY29udGFjdFNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwic2VuZGVyIiwidHlwZSIsIlN0cmluZyIsIm5hbWUiLCJtZXNzYWdlIiwidGltZXN0YW1wcyIsIkNvbnRhY3QiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyxtQkFBU0MsTUFBYixDQUFvQjtBQUN6Q0MsRUFBQUEsTUFBTSxFQUFDO0FBQ05DLElBQUFBLElBQUksRUFBQ0M7QUFEQyxHQURrQztBQUl0Q0MsRUFBQUEsSUFBSSxFQUFDO0FBQ0RGLElBQUFBLElBQUksRUFBQ0M7QUFESixHQUppQztBQU96Q0UsRUFBQUEsT0FBTyxFQUFDO0FBQ1BILElBQUFBLElBQUksRUFBQ0M7QUFERTtBQVBpQyxDQUFwQixFQVVwQjtBQUFDRyxFQUFBQSxVQUFVLEVBQUM7QUFBWixDQVZvQixDQUF0Qjs7QUFhTyxNQUFNQyxPQUFPLEdBQUdSLG1CQUFTUyxLQUFULENBQWUsU0FBZixFQUEwQlYsYUFBMUIsQ0FBaEIiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge21vbmdvb3NlfSBmcm9tIFwibW9uZ29vc2VcIlxuXG5jb25zdCBjb250YWN0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG5cdHNlbmRlcjp7XG5cdFx0dHlwZTpTdHJpbmdcblx0fSxcbiAgICBuYW1lOntcbiAgICAgICAgdHlwZTpTdHJpbmdcbiAgICB9LFxuXHRtZXNzYWdlOntcblx0XHR0eXBlOlN0cmluZ1xuXHR9XG59LHt0aW1lc3RhbXBzOnRydWV9KVxuXG5cbmV4cG9ydCBjb25zdCBDb250YWN0ID0gbW9uZ29vc2UubW9kZWwoXCJNZXNzYWdlXCIsIGNvbnRhY3RTY2hlbWEpIl19","map":{"version":3,"sources":["Contact.js"],"names":["contactSchema","mongoose","Schema","sender","type","String","name","message","timestamps","Contact","model"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,aAAa,GAAG,IAAIC,mBAASC,MAAb,CAAoB;AACzCC,EAAAA,MAAM,EAAC;AACNC,IAAAA,IAAI,EAACC;AADC,GADkC;AAItCC,EAAAA,IAAI,EAAC;AACDF,IAAAA,IAAI,EAACC;AADJ,GAJiC;AAOzCE,EAAAA,OAAO,EAAC;AACPH,IAAAA,IAAI,EAACC;AADE;AAPiC,CAApB,EAUpB;AAACG,EAAAA,UAAU,EAAC;AAAZ,CAVoB,CAAtB;;AAaO,MAAMC,OAAO,GAAGR,mBAASS,KAAT,CAAe,SAAf,EAA0BV,aAA1B,CAAhB","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/","sourcesContent":["import {mongoose} from \"mongoose\"\n\nconst contactSchema = new mongoose.Schema({\n\tsender:{\n\t\ttype:String\n\t},\n    name:{\n        type:String\n    },\n\tmessage:{\n\t\ttype:String\n\t}\n},{timestamps:true})\n\n\nexport const Contact = mongoose.model(\"Message\", contactSchema)"]}},"mtime":1650457977179},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/CommentRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _AuthenticateToken = require(\"../AuthMiddleWare/AuthenticateToken\");\n\nvar _commentControllers = require(\"../controllers/commentControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router(); //add comment\n\n\nrouter.post(\"/posts/:id/comment\", _AuthenticateToken.authenticateToken, _commentControllers.comment_one); // get all comment of a post\n\nrouter.get(\"/posts/:id/comment\", _commentControllers.comment_get_all); // get one comment\n\nrouter.get(\"/comments/:id\", _commentControllers.comment_get_one); // delete comment \n\nrouter.delete(\"/comments/:id\", _AuthenticateToken.authenticateToken, _commentControllers.comment_delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbW1lbnRSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJhdXRoZW50aWNhdGVUb2tlbiIsImNvbW1lbnRfb25lIiwiZ2V0IiwiY29tbWVudF9nZXRfYWxsIiwiY29tbWVudF9nZXRfb25lIiwiZGVsZXRlIiwiY29tbWVudF9kZWxldGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZixDLENBRUE7OztBQUNBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxvQkFBWixFQUFrQ0Msb0NBQWxDLEVBQXFEQywrQkFBckQsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNNLEdBQVAsQ0FBVyxvQkFBWCxFQUFpQ0MsbUNBQWpDLEUsQ0FFQTs7QUFDQVAsTUFBTSxDQUFDTSxHQUFQLENBQVcsZUFBWCxFQUE0QkUsbUNBQTVCLEUsQ0FFQTs7QUFDQVIsTUFBTSxDQUFDUyxNQUFQLENBQWMsZUFBZCxFQUErQkwsb0NBQS9CLEVBQWtETSxrQ0FBbEQ7ZUFJZVYsTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHthdXRoZW50aWNhdGVUb2tlbn0gZnJvbSBcIi4uL0F1dGhNaWRkbGVXYXJlL0F1dGhlbnRpY2F0ZVRva2VuXCI7XG5pbXBvcnQge2NvbW1lbnRfb25lLCBjb21tZW50X2dldF9hbGwsIGNvbW1lbnRfZ2V0X29uZSxjb21tZW50X2RlbGV0ZX0gZnJvbSAnLi4vY29udHJvbGxlcnMvY29tbWVudENvbnRyb2xsZXJzJztcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTsgXG5cbi8vYWRkIGNvbW1lbnRcbnJvdXRlci5wb3N0KFwiL3Bvc3RzLzppZC9jb21tZW50XCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBjb21tZW50X29uZSlcblxuLy8gZ2V0IGFsbCBjb21tZW50IG9mIGEgcG9zdFxucm91dGVyLmdldChcIi9wb3N0cy86aWQvY29tbWVudFwiLCBjb21tZW50X2dldF9hbGwpXG5cbi8vIGdldCBvbmUgY29tbWVudFxucm91dGVyLmdldChcIi9jb21tZW50cy86aWRcIiwgY29tbWVudF9nZXRfb25lKVxuXG4vLyBkZWxldGUgY29tbWVudCBcbnJvdXRlci5kZWxldGUoXCIvY29tbWVudHMvOmlkXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBjb21tZW50X2RlbGV0ZSlcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlciJdfQ==","map":{"version":3,"sources":["CommentRoutes.js"],"names":["router","express","Router","post","authenticateToken","comment_one","get","comment_get_all","comment_get_one","delete","comment_delete"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf,C,CAEA;;;AACAF,MAAM,CAACG,IAAP,CAAY,oBAAZ,EAAkCC,oCAAlC,EAAqDC,+BAArD,E,CAEA;;AACAL,MAAM,CAACM,GAAP,CAAW,oBAAX,EAAiCC,mCAAjC,E,CAEA;;AACAP,MAAM,CAACM,GAAP,CAAW,eAAX,EAA4BE,mCAA5B,E,CAEA;;AACAR,MAAM,CAACS,MAAP,CAAc,eAAd,EAA+BL,oCAA/B,EAAkDM,kCAAlD;eAIeV,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\";\nimport {comment_one, comment_get_all, comment_get_one,comment_delete} from '../controllers/commentControllers';\n\nconst router = express.Router(); \n\n//add comment\nrouter.post(\"/posts/:id/comment\", authenticateToken, comment_one)\n\n// get all comment of a post\nrouter.get(\"/posts/:id/comment\", comment_get_all)\n\n// get one comment\nrouter.get(\"/comments/:id\", comment_get_one)\n\n// delete comment \nrouter.delete(\"/comments/:id\", authenticateToken, comment_delete)\n\n\n\nexport default router"]}},"mtime":1650457977187},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/commentControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.comment_one = exports.comment_get_one = exports.comment_get_all = exports.comment_delete = void 0;\n\nvar _Post = require(\"../models/Post\");\n\n//comment on a post\nconst comment_one = async (req, res) => {\n  const id = req.params.id;\n  const post = await _Post.Post.findById(id);\n\n  if (post !== null) {\n    //create comment\n    const newComment = await _Post.Comment.create({\n      postId: id,\n      description: req.body.comment\n    });\n    post.comments.push(newComment);\n    await post.save();\n    return res.status(201).json({\n      comment: newComment\n    });\n  } else {\n    return res.status(404).json({\n      message: \"Post not available\"\n    });\n  }\n}; // get all comments of a post\n\n\nexports.comment_one = comment_one;\n\nconst comment_get_all = async (req, res) => {\n  try {\n    const postId = req.params.id;\n    const post = await _Post.Post.findById(postId);\n    if (post == null) return res.status(404).json({\n      message: \"post not found\"\n    });\n    const comments = await _Post.Comment.find({\n      postId: postId\n    });\n\n    if (comments.length > 0) {\n      return res.status(200).json({\n        comments\n      });\n    } else {\n      return res.status(404).json({\n        comment: \"no comments related to this post\"\n      });\n    }\n  } catch (error) {\n    return res.status(404).json({\n      message: error.message\n    });\n  }\n}; // get one comment\n\n\nexports.comment_get_all = comment_get_all;\n\nconst comment_get_one = async (req, res) => {\n  try {\n    const commentId = req.params.id;\n    const comment = await _Post.Comment.findById(commentId);\n\n    if (comment != null) {\n      return res.status(200).json({\n        comment\n      });\n    }\n\n    return res.status(404).json({\n      comment: \"Comment Doesn't Exists\"\n    });\n  } catch (error) {\n    return res.status(404).json({\n      comment: \"Comment Doesn't Exists\"\n    });\n  }\n}; // delete a comment\n\n\nexports.comment_get_one = comment_get_one;\n\nconst comment_delete = async (req, res) => {\n  try {\n    const commentId = req.params.id;\n    const comment = await _Post.Comment.findById(commentId);\n\n    if (comment != null) {\n      // delete a comment\n      await _Post.Comment.deleteOne(comment);\n      return res.status(200).json({\n        message: \"Comment deleted\"\n      });\n    }\n\n    return res.status(404).json({\n      message: \"Comment doesn't exist\"\n    });\n  } catch (error) {\n    return res.status(500).json({\n      comment: \"Internal server error\"\n    });\n  }\n};\n\nexports.comment_delete = comment_delete;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJjb21tZW50X29uZSIsInJlcSIsInJlcyIsImlkIiwicGFyYW1zIiwicG9zdCIsIlBvc3QiLCJmaW5kQnlJZCIsIm5ld0NvbW1lbnQiLCJDb21tZW50IiwiY3JlYXRlIiwicG9zdElkIiwiZGVzY3JpcHRpb24iLCJib2R5IiwiY29tbWVudCIsImNvbW1lbnRzIiwicHVzaCIsInNhdmUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImNvbW1lbnRfZ2V0X2FsbCIsImZpbmQiLCJsZW5ndGgiLCJlcnJvciIsImNvbW1lbnRfZ2V0X29uZSIsImNvbW1lbnRJZCIsImNvbW1lbnRfZGVsZXRlIiwiZGVsZXRlT25lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBR0E7QUFDQSxNQUFNQSxXQUFXLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQWtCO0FBQ3JDLFFBQU1DLEVBQUUsR0FBR0YsR0FBRyxDQUFDRyxNQUFKLENBQVdELEVBQXRCO0FBQ0EsUUFBTUUsSUFBSSxHQUFHLE1BQU1DLFdBQUtDLFFBQUwsQ0FBY0osRUFBZCxDQUFuQjs7QUFFQSxNQUFJRSxJQUFJLEtBQUssSUFBYixFQUFrQjtBQUNqQjtBQUNBLFVBQU1HLFVBQVUsR0FBRyxNQUFNQyxjQUFRQyxNQUFSLENBQWU7QUFDdkNDLE1BQUFBLE1BQU0sRUFBQ1IsRUFEZ0M7QUFFdkNTLE1BQUFBLFdBQVcsRUFBRVgsR0FBRyxDQUFDWSxJQUFKLENBQVNDO0FBRmlCLEtBQWYsQ0FBekI7QUFLQVQsSUFBQUEsSUFBSSxDQUFDVSxRQUFMLENBQWNDLElBQWQsQ0FBbUJSLFVBQW5CO0FBQ0EsVUFBTUgsSUFBSSxDQUFDWSxJQUFMLEVBQU47QUFDQSxXQUFPZixHQUFHLENBQUNnQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0wsTUFBQUEsT0FBTyxFQUFDTjtBQUFULEtBQXJCLENBQVA7QUFFQSxHQVhELE1B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QUFQO0FBRUE7O0FBRUQsV0FBT2xCLEdBQUcsQ0FBQ2dCLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxPQUFPLEVBQUM7QUFBVCxLQUFyQixDQUFQO0FBR0EsR0FmRCxDQWVFLE9BQU9JLEtBQVAsRUFBYztBQUNmLFdBQU90QixHQUFHLENBQUNnQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0wsTUFBQUEsT0FBTyxFQUFDO0FBQVQsS0FBckIsQ0FBUDtBQUNBO0FBR0QsQ0F0QkQiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UG9zdCxDb21tZW50fSBmcm9tICcuLi9tb2RlbHMvUG9zdCdcblxuXG4vL2NvbW1lbnQgb24gYSBwb3N0XG5jb25zdCBjb21tZW50X29uZSA9IGFzeW5jIChyZXEsIHJlcyk9Pntcblx0Y29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xuXHRjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kQnlJZChpZCk7XG5cblx0aWYgKHBvc3QgIT09IG51bGwpe1xuXHRcdC8vY3JlYXRlIGNvbW1lbnRcblx0XHRjb25zdCBuZXdDb21tZW50ID0gYXdhaXQgQ29tbWVudC5jcmVhdGUoe1xuXHRcdFx0cG9zdElkOmlkLFxuXHRcdFx0ZGVzY3JpcHRpb246IHJlcS5ib2R5LmNvbW1lbnRcblx0XHR9KTtcblxuXHRcdHBvc3QuY29tbWVudHMucHVzaChuZXdDb21tZW50KTtcblx0XHRhd2FpdCBwb3N0LnNhdmUoKVxuXHRcdHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7Y29tbWVudDpuZXdDb21tZW50fSlcblx0XHRcblx0fWVsc2V7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOlwiUG9zdCBub3QgYXZhaWxhYmxlXCJ9KVxuXHR9XG59XG5cbi8vIGdldCBhbGwgY29tbWVudHMgb2YgYSBwb3N0XG5jb25zdCBjb21tZW50X2dldF9hbGwgPSBhc3luYyAocmVxLCByZXMpPT57XG5cdHRyeSB7XG5cdFx0Y29uc3QgcG9zdElkPSByZXEucGFyYW1zLmlkO1xuXHRcdGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRCeUlkKHBvc3RJZCk7XG5cdFx0aWYocG9zdCA9PSBudWxsKSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6XCJwb3N0IG5vdCBmb3VuZFwifSk7XG5cdFx0XG5cdFx0Y29uc3QgY29tbWVudHMgPSBhd2FpdCBDb21tZW50LmZpbmQoe3Bvc3RJZDpwb3N0SWR9KTtcblxuXHRcdGlmKGNvbW1lbnRzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe2NvbW1lbnRzfSk7XG5cdFx0fWVsc2V7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe2NvbW1lbnQ6XCJubyBjb21tZW50cyByZWxhdGVkIHRvIHRoaXMgcG9zdFwifSk7XG5cdFx0fVxuXHRcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6ZXJyb3IubWVzc2FnZX0pXG5cdH1cblx0XG59XG5cbi8vIGdldCBvbmUgY29tbWVudFxuY29uc3QgY29tbWVudF9nZXRfb25lID0gYXN5bmMgKHJlcSwgcmVzKT0+e1xuXHRcblx0dHJ5IHtcblx0XHRjb25zdCBjb21tZW50SWQgPSByZXEucGFyYW1zLmlkO1xuXHRcdGNvbnN0IGNvbW1lbnQgPSBhd2FpdCBDb21tZW50LmZpbmRCeUlkKGNvbW1lbnRJZClcblx0XHRpZihjb21tZW50ICE9IG51bGwgKXtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7Y29tbWVudH0pXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtjb21tZW50OlwiQ29tbWVudCBEb2Vzbid0IEV4aXN0c1wifSlcblxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7Y29tbWVudDpcIkNvbW1lbnQgRG9lc24ndCBFeGlzdHNcIn0pXG5cdH1cblx0XG5cbn1cblxuLy8gZGVsZXRlIGEgY29tbWVudFxuY29uc3QgY29tbWVudF9kZWxldGUgPSBhc3luYyAocmVxLCByZXMpPT57XG5cdFxuXHR0cnkge1xuXHRcdGNvbnN0IGNvbW1lbnRJZCA9IHJlcS5wYXJhbXMuaWQ7XG5cdFx0Y29uc3QgY29tbWVudCA9IGF3YWl0IENvbW1lbnQuZmluZEJ5SWQoY29tbWVudElkKVxuXHRcdGlmKGNvbW1lbnQgIT0gbnVsbCApe1xuXG5cdFx0XHQvLyBkZWxldGUgYSBjb21tZW50XG5cdFx0XHRhd2FpdCBDb21tZW50LmRlbGV0ZU9uZShjb21tZW50KVxuXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6XCJDb21tZW50IGRlbGV0ZWRcIn0pXG5cdFx0XHRcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOlwiQ29tbWVudCBkb2Vzbid0IGV4aXN0XCJ9KVxuXHRcdFxuXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtjb21tZW50OlwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCJ9KVxuXHR9XG5cdFxuXG59XG5cbmV4cG9ydCB7Y29tbWVudF9vbmUsY29tbWVudF9nZXRfYWxsLGNvbW1lbnRfZ2V0X29uZSxjb21tZW50X2RlbGV0ZX0iXX0=","map":{"version":3,"sources":["commentControllers.js"],"names":["comment_one","req","res","id","params","post","Post","findById","newComment","Comment","create","postId","description","body","comment","comments","push","save","status","json","message","comment_get_all","find","length","error","comment_get_one","commentId","comment_delete","deleteOne"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import {Post,Comment} from '../models/Post'\n\n\n//comment on a post\nconst comment_one = async (req, res)=>{\n\tconst id = req.params.id;\n\tconst post = await Post.findById(id);\n\n\tif (post !== null){\n\t\t//create comment\n\t\tconst newComment = await Comment.create({\n\t\t\tpostId:id,\n\t\t\tdescription: req.body.comment\n\t\t});\n\n\t\tpost.comments.push(newComment);\n\t\tawait post.save()\n\t\treturn res.status(201).json({comment:newComment})\n\t\t\n\t}else{\n\t\treturn res.status(404).json({message:\"Post not available\"})\n\t}\n}\n\n// get all comments of a post\nconst comment_get_all = async (req, res)=>{\n\ttry {\n\t\tconst postId= req.params.id;\n\t\tconst post = await Post.findById(postId);\n\t\tif(post == null) return res.status(404).json({message:\"post not found\"});\n\t\t\n\t\tconst comments = await Comment.find({postId:postId});\n\n\t\tif(comments.length > 0){\n            \n\t\t\treturn res.status(200).json({comments});\n\t\t}else{\n\t\t\treturn res.status(404).json({comment:\"no comments related to this post\"});\n\t\t}\n\t\n\t} catch (error) {\n\t\treturn res.status(404).json({message:error.message})\n\t}\n\t\n}\n\n// get one comment\nconst comment_get_one = async (req, res)=>{\n\t\n\ttry {\n\t\tconst commentId = req.params.id;\n\t\tconst comment = await Comment.findById(commentId)\n\t\tif(comment != null ){\n\t\t\treturn res.status(200).json({comment})\n\t\t}\n\n\t\treturn res.status(404).json({comment:\"Comment Doesn't Exists\"})\n\n\t} catch (error) {\n\t\treturn res.status(404).json({comment:\"Comment Doesn't Exists\"})\n\t}\n\t\n\n}\n\n// delete a comment\nconst comment_delete = async (req, res)=>{\n\t\n\ttry {\n\t\tconst commentId = req.params.id;\n\t\tconst comment = await Comment.findById(commentId)\n\t\tif(comment != null ){\n\n\t\t\t// delete a comment\n\t\t\tawait Comment.deleteOne(comment)\n\n\t\t\treturn res.status(200).json({message:\"Comment deleted\"})\n\t\t\t\n\t\t}\n\t\t\n\t\treturn res.status(404).json({message:\"Comment doesn't exist\"})\n\t\t\n\n\t} catch (error) {\n\t\treturn res.status(500).json({comment:\"Internal server error\"})\n\t}\n\t\n\n}\n\nexport {comment_one,comment_get_all,comment_get_one,comment_delete}"]}},"mtime":1650457977163},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/LikeRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _likeControllers = require(\"../controllers/likeControllers\");\n\nvar _AuthenticateToken = require(\"../AuthMiddleWare/AuthenticateToken\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n//like a post\nrouter.put(\"/posts/like\", _AuthenticateToken.authenticateToken, _likeControllers.post_like); //unlike a post\n\nrouter.put(\"/posts/:id/unlike\", _AuthenticateToken.authenticateToken, _likeControllers.post_unlike);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxpa2VSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInB1dCIsImF1dGhlbnRpY2F0ZVRva2VuIiwicG9zdF9saWtlIiwicG9zdF91bmxpa2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFJQTs7QUFFQTs7OztBQUpBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFPQTtBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxhQUFYLEVBQTBCQyxvQ0FBMUIsRUFBNkNDLDBCQUE3QyxFLENBRUE7O0FBQ0FMLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLG1CQUFYLEVBQWdDQyxvQ0FBaEMsRUFBbURFLDRCQUFuRDtlQUdlTixNIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmltcG9ydCB7cG9zdF9saWtlLHBvc3RfdW5saWtlfSBmcm9tICcuLi9jb250cm9sbGVycy9saWtlQ29udHJvbGxlcnMnXG5cbmltcG9ydCB7YXV0aGVudGljYXRlVG9rZW59IGZyb20gXCIuLi9BdXRoTWlkZGxlV2FyZS9BdXRoZW50aWNhdGVUb2tlblwiXG5cblxuLy9saWtlIGEgcG9zdFxucm91dGVyLnB1dChcIi9wb3N0cy9saWtlXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBwb3N0X2xpa2UpXG5cbi8vdW5saWtlIGEgcG9zdFxucm91dGVyLnB1dChcIi9wb3N0cy86aWQvdW5saWtlXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBwb3N0X3VubGlrZSlcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXX0=","map":{"version":3,"sources":["LikeRoutes.js"],"names":["router","express","Router","put","authenticateToken","post_like","post_unlike"],"mappings":";;;;;;;AAAA;;AAIA;;AAEA;;;;AAJA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAOA;AACAF,MAAM,CAACG,GAAP,CAAW,aAAX,EAA0BC,oCAA1B,EAA6CC,0BAA7C,E,CAEA;;AACAL,MAAM,CAACG,GAAP,CAAW,mBAAX,EAAgCC,oCAAhC,EAAmDE,4BAAnD;eAGeN,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport {post_like,post_unlike} from '../controllers/likeControllers'\n\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\"\n\n\n//like a post\nrouter.put(\"/posts/like\", authenticateToken, post_like)\n\n//unlike a post\nrouter.put(\"/posts/:id/unlike\", authenticateToken, post_unlike)\n\n\nexport default router"]}},"mtime":1650535400315},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/likeControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.post_unlike = exports.post_like = void 0;\n\nvar _Post = require(\"../models/Post\");\n\n// like a post\nconst post_like = async (req, res) => {\n  const id = req.body.postId;\n\n  _Post.Post.findByIdAndUpdate(id, {\n    $push: {\n      likes: {\n        postId: id,\n        user: req.user.username\n      }\n    }\n  }, {\n    new: true\n  }).exec((err, result) => {\n    if (err) {\n      return res.status(422).json({\n        err: err\n      });\n    } else {\n      return res.status(200).json({\n        message: \"post liked!\"\n      });\n    }\n  });\n}; //unlike a post\n\n\nexports.post_like = post_like;\n\nconst post_unlike = (req, res) => {\n  const id = req.params.id;\n\n  _Post.Post.findByIdAndUpdate(id, {\n    $pull: {\n      likes: {\n        postId: id,\n        userId: req.user.id\n      }\n    }\n  }, {\n    new: true\n  }).exec((err, result) => {\n    if (err) {\n      return res.status(422).json({\n        err: err\n      });\n    } else {\n      return res.status(200).json({\n        message: \"unliked post!\"\n      });\n    }\n  });\n};\n\nexports.post_unlike = post_unlike;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpa2VDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJwb3N0X2xpa2UiLCJyZXEiLCJyZXMiLCJpZCIsImJvZHkiLCJwb3N0SWQiLCJQb3N0IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCIkcHVzaCIsImxpa2VzIiwidXNlciIsInVzZXJuYW1lIiwibmV3IiwiZXhlYyIsImVyciIsInJlc3VsdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwicG9zdF91bmxpa2UiLCJwYXJhbXMiLCIkcHVsbCIsInVzZXJJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUdBO0FBQ0EsTUFBTUEsU0FBUyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFrQjtBQUNuQyxRQUFNQyxFQUFFLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSixDQUFTQyxNQUFwQjs7QUFHQUMsYUFBS0MsaUJBQUwsQ0FBdUJKLEVBQXZCLEVBQTBCO0FBQ3pCSyxJQUFBQSxLQUFLLEVBQUM7QUFBQ0MsTUFBQUEsS0FBSyxFQUFDO0FBQUNKLFFBQUFBLE1BQU0sRUFBQ0YsRUFBUjtBQUFZTyxRQUFBQSxJQUFJLEVBQUNULEdBQUcsQ0FBQ1MsSUFBSixDQUFTQztBQUExQjtBQUFQO0FBRG1CLEdBQTFCLEVBQ29EO0FBQ2xEQyxJQUFBQSxHQUFHLEVBQUM7QUFEOEMsR0FEcEQsRUFHSUMsSUFISixDQUdTLENBQUNDLEdBQUQsRUFBTUMsTUFBTixLQUFlO0FBQ3RCLFFBQUdELEdBQUgsRUFBTztBQUNOLGFBQU9aLEdBQUcsQ0FBQ2MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNILFFBQUFBLEdBQUcsRUFBQ0E7QUFBTCxPQUFyQixDQUFQO0FBQ0EsS0FGRCxNQUdJO0FBRUgsYUFBT1osR0FBRyxDQUFDYyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0MsUUFBQUEsT0FBTyxFQUFDO0FBQVQsT0FBckIsQ0FBUDtBQUNBO0FBQ0QsR0FYRjtBQVlBLENBaEJELEMsQ0FrQkE7Ozs7O0FBQ0EsTUFBTUMsV0FBVyxHQUFHLENBQUNsQixHQUFELEVBQU1DLEdBQU4sS0FBWTtBQUMvQixRQUFNQyxFQUFFLEdBQUdGLEdBQUcsQ0FBQ21CLE1BQUosQ0FBV2pCLEVBQXRCOztBQUNBRyxhQUFLQyxpQkFBTCxDQUF1QkosRUFBdkIsRUFBMEI7QUFDekJrQixJQUFBQSxLQUFLLEVBQUM7QUFBQ1osTUFBQUEsS0FBSyxFQUFDO0FBQUNKLFFBQUFBLE1BQU0sRUFBQ0YsRUFBUjtBQUFZbUIsUUFBQUEsTUFBTSxFQUFDckIsR0FBRyxDQUFDUyxJQUFKLENBQVNQO0FBQTVCO0FBQVA7QUFEbUIsR0FBMUIsRUFDZ0Q7QUFDOUNTLElBQUFBLEdBQUcsRUFBQztBQUQwQyxHQURoRCxFQUdJQyxJQUhKLENBR1MsQ0FBQ0MsR0FBRCxFQUFNQyxNQUFOLEtBQWU7QUFDdEIsUUFBR0QsR0FBSCxFQUFPO0FBQ04sYUFBT1osR0FBRyxDQUFDYyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0gsUUFBQUEsR0FBRyxFQUFDQTtBQUFMLE9BQXJCLENBQVA7QUFDQSxLQUZELE1BR0k7QUFDSCxhQUFPWixHQUFHLENBQUNjLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxRQUFBQSxPQUFPLEVBQUM7QUFBVCxPQUFyQixDQUFQO0FBQ0E7QUFDRCxHQVZGO0FBV0EsQ0FiRCIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUG9zdCB9IGZyb20gXCIuLi9tb2RlbHMvUG9zdFwiXG5cblxuLy8gbGlrZSBhIHBvc3RcbmNvbnN0IHBvc3RfbGlrZSA9IGFzeW5jIChyZXEsIHJlcyk9Pntcblx0Y29uc3QgaWQgPSByZXEuYm9keS5wb3N0SWRcblx0XG5cblx0UG9zdC5maW5kQnlJZEFuZFVwZGF0ZShpZCx7XG5cdFx0JHB1c2g6e2xpa2VzOntwb3N0SWQ6aWQsIHVzZXI6cmVxLnVzZXIudXNlcm5hbWV9fX0se1xuXHRcdFx0bmV3OnRydWVcblx0XHR9KS5leGVjKChlcnIsIHJlc3VsdCk9Pntcblx0XHRcdGlmKGVycil7XG5cdFx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQyMikuanNvbih7ZXJyOmVycn0pXG5cdFx0XHR9XG5cdFx0XHRlbHNle1xuXHRcdFx0XHRcblx0XHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOlwicG9zdCBsaWtlZCFcIn0pXG5cdFx0XHR9XG5cdFx0fSlcbn1cblxuLy91bmxpa2UgYSBwb3N0XG5jb25zdCBwb3N0X3VubGlrZSA9IChyZXEsIHJlcyk9Pntcblx0Y29uc3QgaWQgPSByZXEucGFyYW1zLmlkXG5cdFBvc3QuZmluZEJ5SWRBbmRVcGRhdGUoaWQse1xuXHRcdCRwdWxsOntsaWtlczp7cG9zdElkOmlkLCB1c2VySWQ6cmVxLnVzZXIuaWR9fX0se1xuXHRcdFx0bmV3OnRydWVcblx0XHR9KS5leGVjKChlcnIsIHJlc3VsdCk9Pntcblx0XHRcdGlmKGVycil7XG5cdFx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQyMikuanNvbih7ZXJyOmVycn0pXG5cdFx0XHR9XG5cdFx0XHRlbHNle1xuXHRcdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6XCJ1bmxpa2VkIHBvc3QhXCJ9KVxuXHRcdFx0fVxuXHRcdH0pXG59XG5cblxuZXhwb3J0IHtwb3N0X2xpa2UsIHBvc3RfdW5saWtlLH1cbiJdfQ==","map":{"version":3,"sources":["likeControllers.js"],"names":["post_like","req","res","id","body","postId","Post","findByIdAndUpdate","$push","likes","user","username","new","exec","err","result","status","json","message","post_unlike","params","$pull","userId"],"mappings":";;;;;;;AAAA;;AAGA;AACA,MAAMA,SAAS,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAkB;AACnC,QAAMC,EAAE,GAAGF,GAAG,CAACG,IAAJ,CAASC,MAApB;;AAGAC,aAAKC,iBAAL,CAAuBJ,EAAvB,EAA0B;AACzBK,IAAAA,KAAK,EAAC;AAACC,MAAAA,KAAK,EAAC;AAACJ,QAAAA,MAAM,EAACF,EAAR;AAAYO,QAAAA,IAAI,EAACT,GAAG,CAACS,IAAJ,CAASC;AAA1B;AAAP;AADmB,GAA1B,EACoD;AAClDC,IAAAA,GAAG,EAAC;AAD8C,GADpD,EAGIC,IAHJ,CAGS,CAACC,GAAD,EAAMC,MAAN,KAAe;AACtB,QAAGD,GAAH,EAAO;AACN,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACH,QAAAA,GAAG,EAACA;AAAL,OAArB,CAAP;AACA,KAFD,MAGI;AAEH,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AACA;AACD,GAXF;AAYA,CAhBD,C,CAkBA;;;;;AACA,MAAMC,WAAW,GAAG,CAAClB,GAAD,EAAMC,GAAN,KAAY;AAC/B,QAAMC,EAAE,GAAGF,GAAG,CAACmB,MAAJ,CAAWjB,EAAtB;;AACAG,aAAKC,iBAAL,CAAuBJ,EAAvB,EAA0B;AACzBkB,IAAAA,KAAK,EAAC;AAACZ,MAAAA,KAAK,EAAC;AAACJ,QAAAA,MAAM,EAACF,EAAR;AAAYmB,QAAAA,MAAM,EAACrB,GAAG,CAACS,IAAJ,CAASP;AAA5B;AAAP;AADmB,GAA1B,EACgD;AAC9CS,IAAAA,GAAG,EAAC;AAD0C,GADhD,EAGIC,IAHJ,CAGS,CAACC,GAAD,EAAMC,MAAN,KAAe;AACtB,QAAGD,GAAH,EAAO;AACN,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACH,QAAAA,GAAG,EAACA;AAAL,OAArB,CAAP;AACA,KAFD,MAGI;AACH,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AACA;AACD,GAVF;AAWA,CAbD","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import { Post } from \"../models/Post\"\n\n\n// like a post\nconst post_like = async (req, res)=>{\n\tconst id = req.body.postId\n\t\n\n\tPost.findByIdAndUpdate(id,{\n\t\t$push:{likes:{postId:id, user:req.user.username}}},{\n\t\t\tnew:true\n\t\t}).exec((err, result)=>{\n\t\t\tif(err){\n\t\t\t\treturn res.status(422).json({err:err})\n\t\t\t}\n\t\t\telse{\n\t\t\t\t\n\t\t\t\treturn res.status(200).json({message:\"post liked!\"})\n\t\t\t}\n\t\t})\n}\n\n//unlike a post\nconst post_unlike = (req, res)=>{\n\tconst id = req.params.id\n\tPost.findByIdAndUpdate(id,{\n\t\t$pull:{likes:{postId:id, userId:req.user.id}}},{\n\t\t\tnew:true\n\t\t}).exec((err, result)=>{\n\t\t\tif(err){\n\t\t\t\treturn res.status(422).json({err:err})\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn res.status(200).json({message:\"unliked post!\"})\n\t\t\t}\n\t\t})\n}\n\n\nexport {post_like, post_unlike,}\n"]}},"mtime":1650540764304},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/like_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for Like Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n  * POST Contact route\n  */\n\n  describe('PUT /api/posts/like', () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection('users');\n    });\n    it('creates new user ', done => {\n      const newUser = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(newUser).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user created!\");\n        done();\n      });\n    }); // login\n\n    const logInUser = {\n      username: 'menase',\n      password: 'password test'\n    };\n    it('login a user', done => {\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        autToken = response.body.Token;\n        done();\n      });\n    });\n    it('likes a post', done => {\n      const id = \"626120b1017d6bf2b6d1ec19\";\n\n      _chai.default.request(_index.default).put(\"/api/posts/like\").send({\n        postId: id\n      }).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.property('message').eql(\"Message Sent successfully\");\n        done();\n      });\n    });\n  });\n  /**\n   * GET Contact route\n   */\n  //  describe('GET /api/messages', ()=>{\n  //     after(()=>{\n  //         mongoose.connection.dropCollection('messages')\n  //     })\n  //     it('get all messages', (done)=>{\n  //         chai.request(server)\n  //         .get(\"/api/messages\")\n  //         .end((err, response)=>{\n  //             response.should.have.status(200);\n  //             response.body.should.property('message').eql(\"contacts fetched!\")\n  //         done();\n  //         })\n  //     })\n  //     // it('don\\'t return any message', (done)=>{\n  //     //     chai.request(server)\n  //     //     .get(\"/api/message\")\n  //     //     .end((err, response)=>{\n  //     //         response.should.have.status(404);\n  //     //     done();\n  //     //     })\n  //     // })\n  // })\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpa2VfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiY2hhaSIsInNob3VsZCIsInVzZSIsImNoYWlIdHRwIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJkb25lIiwiZGJVUkkiLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUiIsIkRCX1BBU1NXT1JEIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsInJlc3BvbnNldWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJjb25uZWN0aW9uIiwiZHJvcENvbGxlY3Rpb24iLCJpdCIsIm5ld1VzZXIiLCJVc2VyIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicmVxdWVzdCIsInNlcnZlciIsInBvc3QiLCJzZW5kIiwiZW5kIiwiZXJyIiwicmVzcG9uc2UiLCJoYXZlIiwic3RhdHVzIiwiYm9keSIsImJlIiwiYSIsInByb3BlcnR5IiwiZXFsIiwibG9nSW5Vc2VyIiwiVG9rZW4iLCJpZCIsInB1dCIsInBvc3RJZCIsInNldCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFLQTs7OztBQUpBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQixHLENBR0E7OztBQUdBLElBQUlDLElBQUosRUFBVUMsUUFBVixDLENBRUE7O0FBQ0FDLGNBQUtDLE1BQUw7O0FBRUFELGNBQUtFLEdBQUwsQ0FBU0MsaUJBQVQ7O0FBR0FDLFFBQVEsQ0FBQyx5QkFBRCxFQUE0QixNQUFJO0FBQ3BDQyxFQUFBQSxNQUFNLENBQUMsVUFBU0MsSUFBVCxFQUFlO0FBQ2xCO0FBQ0osVUFBTUMsS0FBSyxHQUFHLGlCQUFnQkMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLE9BQVEsSUFBR0YsT0FBTyxDQUFDQyxHQUFSLENBQVlFLFdBQVksZ0ZBQTdFOztB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LElBRkQsQ0FFTTtBQUFDZSxRQUFBQSxNQUFNLEVBQUNGO0FBQVIsT0FGTixFQUdDRyxHQUhELENBR0ssZUFITCxFQUdzQixZQUFZbEQsUUFIbEMsRUFJQ21DLEdBSkQsQ0FJSyxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBaUI7QUFDbEJBLFFBQUFBLFFBQVEsQ0FBQ25DLE1BQVQsQ0FBZ0JvQyxJQUFoQixDQUFxQkMsTUFBckIsQ0FBNEIsR0FBNUI7QUFDQUYsUUFBQUEsUUFBUSxDQUFDRyxJQUFULENBQWN0QyxNQUFkLENBQXFCeUMsUUFBckIsQ0FBOEIsU0FBOUIsRUFBeUNDLEdBQXpDLENBQTZDLDJCQUE3QztBQUNKckMsUUFBQUEsSUFBSTtBQUNILE9BUkQ7QUFTSCxLQVhDLENBQUY7QUFhSCxHQTlETyxDQUFSO0FBZ0VBO0FBQ0o7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0MsQ0FwSE8sQ0FBUiIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvdGVzdC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGNoYWkgZnJvbSAnY2hhaSc7XG5pbXBvcnQgc2VydmVyIGZyb20gXCIuLi9pbmRleFwiO1xuaW1wb3J0IGNoYWlIdHRwIGZyb20gXCJjaGFpLWh0dHBcIjtcbmltcG9ydCB7UG9zdH0gZnJvbSBcIi4uL21vZGVscy9Qb3N0XCI7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5cbi8vdG8gbW9jayBhIGZ1bmN0aW9uIGR1cmluZyB0ZXN0aW5nXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vbW9kZWxzL1VzZXInO1xuXG5sZXQgdXNlciwgYXV0VG9rZW47XG5cbi8vYXNzZXJ0aW9uIHN0eWxlXG5jaGFpLnNob3VsZCgpO1xuXG5jaGFpLnVzZShjaGFpSHR0cCkgIFxuICAgIFxuICAgIFxuZGVzY3JpYmUoJ1Rlc3QgZm9yIExpa2UgRW5kcG9pbnRzJywgKCk9PntcbiAgICBiZWZvcmUoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAvLyBDb25uZWN0IHRvIE1vbmdvREIgZGF0YWJhc2VcbiAgICBjb25zdCBkYlVSSSA9YG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSfToke3Byb2Nlc3MuZW52LkRCX1BBU1NXT1JEfUBub2RlLWFwcGxpY2F0aW9ucy5mZTRhdS5tb25nb2RiLm5ldC9ub2RlLXR1dG9yaWFsP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWBcbiAgICBtb25nb29zZS5jb25uZWN0KGRiVVJJLHt1c2VOZXdVcmxQYXJzZXI6dHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OnRydWV9KS50aGVuKChyZXNwb25zZXVsdCk9PntcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RiIENvbm5lY3RlZCEnKVxuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgIH0pXG5cblxuICAgIH0pOyAgICAgXG5cblxuICAgIFxuXG4gICAgLyoqXG4gICAgKiBQT1NUIENvbnRhY3Qgcm91dGVcbiAgICAqL1xuXG4gICAgZGVzY3JpYmUoJ1BVVCAvYXBpL3Bvc3RzL2xpa2UnLCAoKT0+e1xuICAgICAgICBiZWZvcmUoKCk9PntcbiAgICAgICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ3VzZXJzJylcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnY3JlYXRlcyBuZXcgdXNlciAnLCAoZG9uZSk9PntcblxuICAgICAgICAgICAgY29uc3QgbmV3VXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTpcIm1lbmFzZVwiLFxuICAgICAgICAgICAgICAgIGVtYWlsOlwibWVuYXNlQG1haWwuY29tXCIsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6XCJwYXNzd29yZCB0ZXN0XCJcbiAgICAgICAgICAgXG4gICAgICAgICAgICB9KVxuICAgIFxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KFwiL2FwaS91c2Vyc1wiKVxuICAgICAgICAgICAgLnNlbmQobmV3VXNlcilcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInVzZXIgY3JlYXRlZCFcIik7XG4gICAgICAgICAgICBkb25lKCk7ICAgXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIGxvZ2luXG4gICAgICAgIGNvbnN0IGxvZ0luVXNlciA9IHtcbiAgICAgICAgICAgIHVzZXJuYW1lOidtZW5hc2UnLFxuICAgICAgICAgICAgcGFzc3dvcmQ6J3Bhc3N3b3JkIHRlc3QnXG4gICAgICAgIH1cblxuICAgICAgICBpdCgnbG9naW4gYSB1c2VyJywgKGRvbmUpPT57XG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnMvbG9naW4nKVxuICAgICAgICAgICAgLnNlbmQoe3VzZXJuYW1lOmxvZ0luVXNlci51c2VybmFtZSwgcGFzc3dvcmQ6bG9nSW5Vc2VyLnBhc3N3b3JkfSlcbiAgICAgICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyLCByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiBkb25lKGVycik7XG5cbiAgICAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgICAgICBhdXRUb2tlbiA9IHJlc3BvbnNlLmJvZHkuVG9rZW5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KVxuXG5cblxuICAgICAgICBpdCgnbGlrZXMgYSBwb3N0JywgKGRvbmUpPT57XG4gICAgICAgICAgICBjb25zdCBpZCA9IFwiNjI2MTIwYjEwMTdkNmJmMmI2ZDFlYzE5XCJcbiAgICAgICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgICAgICAucHV0KFwiL2FwaS9wb3N0cy9saWtlXCIpXG4gICAgICAgICAgICAuc2VuZCh7cG9zdElkOmlkfSlcbiAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbiApXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiTWVzc2FnZSBTZW50IHN1Y2Nlc3NmdWxseVwiKVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgIH0pXG4gICBcbiAgICAvKipcbiAgICAgKiBHRVQgQ29udGFjdCByb3V0ZVxuICAgICAqL1xuXG4vLyAgZGVzY3JpYmUoJ0dFVCAvYXBpL21lc3NhZ2VzJywgKCk9Pntcbi8vICAgICBhZnRlcigoKT0+e1xuLy8gICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCdtZXNzYWdlcycpXG4vLyAgICAgfSlcbi8vICAgICBpdCgnZ2V0IGFsbCBtZXNzYWdlcycsIChkb25lKT0+e1xuLy8gICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuLy8gICAgICAgICAuZ2V0KFwiL2FwaS9tZXNzYWdlc1wiKVxuLy8gICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuLy8gICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICBcbi8vICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiY29udGFjdHMgZmV0Y2hlZCFcIilcbi8vICAgICAgICAgZG9uZSgpO1xuLy8gICAgICAgICB9KVxuLy8gICAgIH0pXG5cbi8vICAgICAvLyBpdCgnZG9uXFwndCByZXR1cm4gYW55IG1lc3NhZ2UnLCAoZG9uZSk9Pntcbi8vICAgICAvLyAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbi8vICAgICAvLyAgICAgLmdldChcIi9hcGkvbWVzc2FnZVwiKVxuLy8gICAgIC8vICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuLy8gICAgIC8vICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwNCk7XG4vLyAgICAgLy8gICAgIGRvbmUoKTtcbi8vICAgICAvLyAgICAgfSlcbi8vICAgICAvLyB9KVxuLy8gfSlcbn0pIl19","map":{"version":3,"sources":["like_test.js"],"names":["require","config","user","autToken","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","logInUser","Token","id","put","postId","set"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport { User } from '../models/User';\n\nlet user, autToken;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Like Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });     \n\n\n    \n\n    /**\n    * POST Contact route\n    */\n\n    describe('PUT /api/posts/like', ()=>{\n        before(()=>{\n            mongoose.connection.dropCollection('users')\n        })\n\n        it('creates new user ', (done)=>{\n\n            const newUser = new User({\n                username:\"menase\",\n                email:\"menase@mail.com\",\n                password:\"password test\"\n           \n            })\n    \n            chai.request(server)\n            .post(\"/api/users\")\n            .send(newUser)\n            .end((err, response)=>{\n                response.should.have.status(201);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"user created!\");\n            done();   \n            })\n        })\n\n        // login\n        const logInUser = {\n            username:'menase',\n            password:'password test'\n        }\n\n        it('login a user', (done)=>{\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(200);\n                response.body.should.be.a('object');\n                autToken = response.body.Token\n                \n                done();\n            });\n\n        })\n\n\n\n        it('likes a post', (done)=>{\n            const id = \"626120b1017d6bf2b6d1ec19\"\n            chai.request(server)\n            .put(\"/api/posts/like\")\n            .send({postId:id})\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(201);\n                response.body.should.property('message').eql(\"Message Sent successfully\")\n            done();\n            })\n        })\n\n    })\n   \n    /**\n     * GET Contact route\n     */\n\n//  describe('GET /api/messages', ()=>{\n//     after(()=>{\n//         mongoose.connection.dropCollection('messages')\n//     })\n//     it('get all messages', (done)=>{\n//         chai.request(server)\n//         .get(\"/api/messages\")\n//         .end((err, response)=>{\n//             response.should.have.status(200);\n            \n//             response.body.should.property('message').eql(\"contacts fetched!\")\n//         done();\n//         })\n//     })\n\n//     // it('don\\'t return any message', (done)=>{\n//     //     chai.request(server)\n//     //     .get(\"/api/message\")\n//     //     .end((err, response)=>{\n//     //         response.should.have.status(404);\n//     //     done();\n//     //     })\n//     // })\n// })\n})"]}},"mtime":1650542226300},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/like_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for Message Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n  * POST Contact route\n  */\n\n  describe('PUT /api/posts/like', () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection('users');\n    });\n    it('creates new user ', done => {\n      const newUser = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(newUser).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user created!\");\n        done();\n      });\n    }); // login\n\n    const logInUser = {\n      username: 'menase',\n      password: 'password test'\n    };\n    it('login a user', done => {\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        autToken = response.body.Token;\n        done();\n      });\n    });\n    it('likes a post', done => {\n      const id = req.params.id;\n\n      _chai.default.request(_index.default).put(\"/api/posts/like\").send({\n        postId: id,\n        user: logInUser.username\n      }).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.property('message').eql(\"Message Sent successfully\");\n        done();\n      });\n    });\n  });\n  /**\n   * GET Contact route\n   */\n  //  describe('GET /api/messages', ()=>{\n  //     after(()=>{\n  //         mongoose.connection.dropCollection('messages')\n  //     })\n  //     it('get all messages', (done)=>{\n  //         chai.request(server)\n  //         .get(\"/api/messages\")\n  //         .end((err, response)=>{\n  //             response.should.have.status(200);\n  //             response.body.should.property('message').eql(\"contacts fetched!\")\n  //         done();\n  //         })\n  //     })\n  //     // it('don\\'t return any message', (done)=>{\n  //     //     chai.request(server)\n  //     //     .get(\"/api/message\")\n  //     //     .end((err, response)=>{\n  //     //         response.should.have.status(404);\n  //     //     done();\n  //     //     })\n  //     // })\n  // })\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpa2VfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiY2hhaSIsInNob3VsZCIsInVzZSIsImNoYWlIdHRwIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJkb25lIiwiZGJVUkkiLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUiIsIkRCX1BBU1NXT1JEIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsInJlc3BvbnNldWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJjb25uZWN0aW9uIiwiZHJvcENvbGxlY3Rpb24iLCJpdCIsIm5ld1VzZXIiLCJVc2VyIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicmVxdWVzdCIsInNlcnZlciIsInBvc3QiLCJzZW5kIiwiZW5kIiwiZXJyIiwicmVzcG9uc2UiLCJoYXZlIiwic3RhdHVzIiwiYm9keSIsImJlIiwiYSIsInByb3BlcnR5IiwiZXFsIiwibG9nSW5Vc2VyIiwiVG9rZW4iLCJpZCIsInJlcSIsInBhcmFtcyIsInB1dCIsInBvc3RJZCIsInNldCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFLQTs7OztBQUpBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQixHLENBR0E7OztBQUdBLElBQUlDLElBQUosRUFBVUMsUUFBVixDLENBRUE7O0FBQ0FDLGNBQUtDLE1BQUw7O0FBRUFELGNBQUtFLEdBQUwsQ0FBU0MsaUJBQVQ7O0FBR0FDLFFBQVEsQ0FBQyw0QkFBRCxFQUErQixNQUFJO0FBQ3ZDQyxFQUFBQSxNQUFNLENBQUMsVUFBU0MsSUFBVCxFQUFlO0FBQ2xCO0FBQ0osVUFBTUMsS0FBSyxHQUFHLGlCQUFnQkMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLE9BQVEsSUFBR0YsT0FBTyxDQUFDQyxHQUFSLENBQVlF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QUFhQyxjQUFiLEVBQ0NrQixHQURELENBQ0ssaUJBREwsRUFFQ2hCLElBRkQsQ0FFTTtBQUFDaUIsUUFBQUEsTUFBTSxFQUFDSixFQUFSO0FBQVloRCxRQUFBQSxJQUFJLEVBQUM4QyxTQUFTLENBQUNqQjtBQUEzQixPQUZOLEVBR0N3QixHQUhELENBR0ssZUFITCxFQUdzQixZQUFZcEQsUUFIbEMsRUFJQ21DLEdBSkQsQ0FJSyxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBaUI7QUFDbEJBLFFBQUFBLFFBQVEsQ0FBQ25DLE1BQVQsQ0FBZ0JvQyxJQUFoQixDQUFxQkMsTUFBckIsQ0FBNEIsR0FBNUI7QUFDQUYsUUFBQUEsUUFBUSxDQUFDRyxJQUFULENBQWN0QyxNQUFkLENBQXFCeUMsUUFBckIsQ0FBOEIsU0FBOUIsRUFBeUNDLEdBQXpDLENBQTZDLDJCQUE3QztBQUNKckMsUUFBQUEsSUFBSTtBQUNILE9BUkQ7QUFTSCxLQVhDLENBQUY7QUFhSCxHQTlETyxDQUFSO0FBZ0VBO0FBQ0o7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0MsQ0FwSE8sQ0FBUiIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvdGVzdC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGNoYWkgZnJvbSAnY2hhaSc7XG5pbXBvcnQgc2VydmVyIGZyb20gXCIuLi9pbmRleFwiO1xuaW1wb3J0IGNoYWlIdHRwIGZyb20gXCJjaGFpLWh0dHBcIjtcbmltcG9ydCB7UG9zdH0gZnJvbSBcIi4uL21vZGVscy9Qb3N0XCI7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5cbi8vdG8gbW9jayBhIGZ1bmN0aW9uIGR1cmluZyB0ZXN0aW5nXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vbW9kZWxzL1VzZXInO1xuXG5sZXQgdXNlciwgYXV0VG9rZW47XG5cbi8vYXNzZXJ0aW9uIHN0eWxlXG5jaGFpLnNob3VsZCgpO1xuXG5jaGFpLnVzZShjaGFpSHR0cCkgIFxuICAgIFxuICAgIFxuZGVzY3JpYmUoJ1Rlc3QgZm9yIE1lc3NhZ2UgRW5kcG9pbnRzJywgKCk9PntcbiAgICBiZWZvcmUoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAvLyBDb25uZWN0IHRvIE1vbmdvREIgZGF0YWJhc2VcbiAgICBjb25zdCBkYlVSSSA9YG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSfToke3Byb2Nlc3MuZW52LkRCX1BBU1NXT1JEfUBub2RlLWFwcGxpY2F0aW9ucy5mZTRhdS5tb25nb2RiLm5ldC9ub2RlLXR1dG9yaWFsP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWBcbiAgICBtb25nb29zZS5jb25uZWN0KGRiVVJJLHt1c2VOZXdVcmxQYXJzZXI6dHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OnRydWV9KS50aGVuKChyZXNwb25zZXVsdCk9PntcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RiIENvbm5lY3RlZCEnKVxuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgIH0pXG5cblxuICAgIH0pOyAgICAgXG5cblxuICAgIFxuXG4gICAgLyoqXG4gICAgKiBQT1NUIENvbnRhY3Qgcm91dGVcbiAgICAqL1xuXG4gICAgZGVzY3JpYmUoJ1BVVCAvYXBpL3Bvc3RzL2xpa2UnLCAoKT0+e1xuICAgICAgICBiZWZvcmUoKCk9PntcbiAgICAgICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ3VzZXJzJylcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnY3JlYXRlcyBuZXcgdXNlciAnLCAoZG9uZSk9PntcblxuICAgICAgICAgICAgY29uc3QgbmV3VXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTpcIm1lbmFzZVwiLFxuICAgICAgICAgICAgICAgIGVtYWlsOlwibWVuYXNlQG1haWwuY29tXCIsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6XCJwYXNzd29yZCB0ZXN0XCJcbiAgICAgICAgICAgXG4gICAgICAgICAgICB9KVxuICAgIFxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KFwiL2FwaS91c2Vyc1wiKVxuICAgICAgICAgICAgLnNlbmQobmV3VXNlcilcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInVzZXIgY3JlYXRlZCFcIik7XG4gICAgICAgICAgICBkb25lKCk7ICAgXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgICAgICAvLyBsb2dpblxuICAgICAgICBjb25zdCBsb2dJblVzZXIgPSB7XG4gICAgICAgICAgICB1c2VybmFtZTonbWVuYXNlJyxcbiAgICAgICAgICAgIHBhc3N3b3JkOidwYXNzd29yZCB0ZXN0J1xuICAgICAgICB9XG5cbiAgICAgICAgaXQoJ2xvZ2luIGEgdXNlcicsIChkb25lKT0+e1xuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KCcvYXBpL3VzZXJzL2xvZ2luJylcbiAgICAgICAgICAgIC5zZW5kKHt1c2VybmFtZTpsb2dJblVzZXIudXNlcm5hbWUsIHBhc3N3b3JkOmxvZ0luVXNlci5wYXNzd29yZH0pXG4gICAgICAgICAgICAuZW5kKGZ1bmN0aW9uKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuXG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgYXV0VG9rZW4gPSByZXNwb25zZS5ib2R5LlRva2VuXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSlcblxuXG5cbiAgICAgICAgaXQoJ2xpa2VzIGEgcG9zdCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnB1dChcIi9hcGkvcG9zdHMvbGlrZVwiKVxuICAgICAgICAgICAgLnNlbmQoe3Bvc3RJZDppZCwgdXNlcjpsb2dJblVzZXIudXNlcm5hbWV9KVxuICAgICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuIClcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJNZXNzYWdlIFNlbnQgc3VjY2Vzc2Z1bGx5XCIpXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgfSlcbiAgIFxuICAgIC8qKlxuICAgICAqIEdFVCBDb250YWN0IHJvdXRlXG4gICAgICovXG5cbi8vICBkZXNjcmliZSgnR0VUIC9hcGkvbWVzc2FnZXMnLCAoKT0+e1xuLy8gICAgIGFmdGVyKCgpPT57XG4vLyAgICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ21lc3NhZ2VzJylcbi8vICAgICB9KVxuLy8gICAgIGl0KCdnZXQgYWxsIG1lc3NhZ2VzJywgKGRvbmUpPT57XG4vLyAgICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4vLyAgICAgICAgIC5nZXQoXCIvYXBpL21lc3NhZ2VzXCIpXG4vLyAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4vLyAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICAgIFxuLy8gICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJjb250YWN0cyBmZXRjaGVkIVwiKVxuLy8gICAgICAgICBkb25lKCk7XG4vLyAgICAgICAgIH0pXG4vLyAgICAgfSlcblxuLy8gICAgIC8vIGl0KCdkb25cXCd0IHJldHVybiBhbnkgbWVzc2FnZScsIChkb25lKT0+e1xuLy8gICAgIC8vICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuLy8gICAgIC8vICAgICAuZ2V0KFwiL2FwaS9tZXNzYWdlXCIpXG4vLyAgICAgLy8gICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4vLyAgICAgLy8gICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDA0KTtcbi8vICAgICAvLyAgICAgZG9uZSgpO1xuLy8gICAgIC8vICAgICB9KVxuLy8gICAgIC8vIH0pXG4vLyB9KVxufSkiXX0=","map":{"version":3,"sources":["like_test.js"],"names":["require","config","user","autToken","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","logInUser","Token","id","req","params","put","postId","set"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport { User } from '../models/User';\n\nlet user, autToken;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Message Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });     \n\n\n    \n\n    /**\n    * POST Contact route\n    */\n\n    describe('PUT /api/posts/like', ()=>{\n        before(()=>{\n            mongoose.connection.dropCollection('users')\n        })\n\n        it('creates new user ', (done)=>{\n\n            const newUser = new User({\n                username:\"menase\",\n                email:\"menase@mail.com\",\n                password:\"password test\"\n           \n            })\n    \n            chai.request(server)\n            .post(\"/api/users\")\n            .send(newUser)\n            .end((err, response)=>{\n                response.should.have.status(201);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"user created!\");\n            done();   \n            })\n        })\n\n            // login\n        const logInUser = {\n            username:'menase',\n            password:'password test'\n        }\n\n        it('login a user', (done)=>{\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(200);\n                response.body.should.be.a('object');\n                autToken = response.body.Token\n                \n                done();\n            });\n\n        })\n\n\n\n        it('likes a post', (done)=>{\n            const id = req.params.id\n            chai.request(server)\n            .put(\"/api/posts/like\")\n            .send({postId:id, user:logInUser.username})\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(201);\n                response.body.should.property('message').eql(\"Message Sent successfully\")\n            done();\n            })\n        })\n\n    })\n   \n    /**\n     * GET Contact route\n     */\n\n//  describe('GET /api/messages', ()=>{\n//     after(()=>{\n//         mongoose.connection.dropCollection('messages')\n//     })\n//     it('get all messages', (done)=>{\n//         chai.request(server)\n//         .get(\"/api/messages\")\n//         .end((err, response)=>{\n//             response.should.have.status(200);\n            \n//             response.body.should.property('message').eql(\"contacts fetched!\")\n//         done();\n//         })\n//     })\n\n//     // it('don\\'t return any message', (done)=>{\n//     //     chai.request(server)\n//     //     .get(\"/api/message\")\n//     //     .end((err, response)=>{\n//     //         response.should.have.status(404);\n//     //     done();\n//     //     })\n//     // })\n// })\n})"]}},"mtime":1650541892226},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/comment_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _sinon = _interopRequireDefault(require(\"sinon\"));\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for Post Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n     * GET comment route\n    */\n\n  describe('GET /api/posts/:id/comment', () => {\n    it('shows all comments related to specific post', done => {\n      const postId = \"625943e64e9dd47477f9be96\";\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}/comment`).send({\n        postId\n      }).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.have.a('object');\n        done();\n      });\n    });\n    it('show error when that post in not in DB', done => {\n      const postId = \"625b07c93cc2f2b0163f1a75\";\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}/comment`).send({\n        postId\n      }).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.have.property('message').eql(\"post not found\");\n        done();\n      });\n    });\n    it('when post have no comment', done => {\n      const postId = \"62597f9e70efe2a55030c5ab\";\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}/comment`).send({\n        postId\n      }).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.have.property('comment').eql(\"no comments related to this post\");\n        done();\n      });\n    });\n    it('shows individual comment', done => {\n      const commentId = \"6257f76d68ee5f8c8f964d0b\";\n\n      _chai.default.request(_index.default).get(`/api/comments/${commentId}`).send({\n        commentId\n      }).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        response.body.should.have.property('comment');\n        done();\n      });\n    });\n    it('shows error for non existing comment', done => {\n      const commentId = \"625943e64e9dd47477f9be96\";\n\n      _chai.default.request(_index.default).get(`/api/comments/${commentId}`).send({\n        commentId\n      }).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.be.a('object');\n        response.body.should.have.property('comment').eql(\"Comment Doesn't Exists\");\n        done();\n      });\n    });\n  });\n  /**\n  * POST comment route\n  */\n\n  describe('POST /api/posts/:id/comment', () => {\n    it('comment on a post', done => {\n      const postId = \"625943e64e9dd47477f9be96\";\n      const newComment = {\n        postId,\n        description: \"testing a comment\"\n      };\n\n      _chai.default.request(_index.default).post(`/api/posts/${postId}/comment`).send(newComment).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('comment');\n        done();\n      });\n    });\n    it('handles when you want to comment on non existing post', done => {\n      const postId = \"62597f8412f8da13b4e0a385\";\n      const newComment = {\n        postId,\n        description: \"testing a comment\"\n      };\n\n      _chai.default.request(_index.default).post(`/api/posts/${postId}/comment`).send(newComment).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Post not available\");\n        done();\n      });\n    });\n  });\n  /**\n   * DELETE comment route\n   */\n\n  describe('DELETE /api/comments/:id', () => {\n    it('deletes comment on a post', done => {\n      const commentId = \"6257c120c9ebb837fc381ac8\";\n\n      _chai.default.request(_index.default).delete(`/api/comments/${commentId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        done();\n      });\n    });\n    it('handles when you want to delete non existing comment', done => {\n      const commentId = \"625943e64e9dd47477f9be96\";\n\n      _chai.default.request(_index.default).delete(`/api/comments/${commentId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.have.property('message').eql(\"Comment doesn't exist\");\n        done();\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiY2hhaSIsInNob3VsZCIsInVzZSIsImNoYWlIdHRwIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJkb25lIiwiZGJVUkkiLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUiIsIkRCX1BBU1NXT1JEIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsInJlc3BvbnNldWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJpdCIsInBvc3RJZCIsInJlcXVlc3QiLCJzZXJ2ZXIiLCJnZXQiLCJzZW5kIiwiZW5kIiwiZXJyIiwicmVzcG9uc2UiLCJoYXZlIiwic3RhdHVzIiwiYm9keSIsImEiLCJwcm9wZXJ0eSIsImVxbCIsImNvbW1lbnRJZCIsImJlIiwibmV3Q29tbWVudCIsImRlc2NyaXB0aW9uIiwicG9zdCIsInNldCIsImRlbGV0ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFLQTs7QUFDQTs7OztBQUxBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQixHLENBR0E7OztBQUlBLElBQUlDLElBQUosRUFBVUMsUUFBVixDLENBRUE7O0FBQ0FDLGNBQUtDLE1BQUw7O0FBRUFELGNBQUtFLEdBQUwsQ0FBU0MsaUJBQVQ7O0FBR0FDLFFBQVEsQ0FBQyx5QkFBRCxFQUE0QixNQUFJO0FBQ3BDQyxFQUFBQSxNQUFNLENBQUMsVUFBU0MsSUFBVCxFQUFlO0FBQ2xCO0FBQ0osVUFBTUMsS0FBSyxHQUFHLGlCQUFnQkMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLE9BQVEsSUFBR0YsT0FBTyxDQUFDQyxHQUFSLENBQVlFLFdBQVksZ0ZBQTdFOztBQUNBQyxzQkFBU0MsT0FBVCxDQUFpQk4sS0FBakIsRUFBdUI7QUFBQ08sTUFB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RmxDLEVBR0M2QixHQUhELENBR0ssQ0FBQ0MsR0FBRCxFQUFNQyxRQUFOLEtBQWlCO0FBQ2xCQSxRQUFBQSxRQUFRLENBQUM3QixNQUFULENBQWdCOEIsSUFBaEIsQ0FBcUJDLE1BQXJCLENBQTRCLEdBQTVCO0FBQ0FGLFFBQUFBLFFBQVEsQ0FBQ0csSUFBVCxDQUFjaEMsTUFBZCxDQUFxQjhCLElBQXJCLENBQTBCSSxRQUExQixDQUFtQyxTQUFuQyxFQUE4Q0MsR0FBOUMsQ0FBa0QsdUJBQWxEO0FBQ0o5QixRQUFBQSxJQUFJO0FBQ0gsT0FQRDtBQVFILEtBVkMsQ0FBRjtBQVlILEdBekJPLENBQVI7QUEwQkgsQ0FyS08sQ0FBUiIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvdGVzdC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGNoYWkgZnJvbSAnY2hhaSc7XG5pbXBvcnQgc2VydmVyIGZyb20gXCIuLi9pbmRleFwiO1xuaW1wb3J0IGNoYWlIdHRwIGZyb20gXCJjaGFpLWh0dHBcIjtcbmltcG9ydCB7UG9zdH0gZnJvbSBcIi4uL21vZGVscy9Qb3N0XCI7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5cbi8vdG8gbW9jayBhIGZ1bmN0aW9uIGR1cmluZyB0ZXN0aW5nXG5pbXBvcnQgc2lub24gZnJvbSAnc2lub24nXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vbW9kZWxzL1VzZXInO1xuXG5sZXQgdXNlciwgYXV0VG9rZW47XG5cbi8vYXNzZXJ0aW9uIHN0eWxlXG5jaGFpLnNob3VsZCgpO1xuXG5jaGFpLnVzZShjaGFpSHR0cCkgIFxuICAgIFxuICAgIFxuZGVzY3JpYmUoJ1Rlc3QgZm9yIFBvc3QgRW5kcG9pbnRzJywgKCk9PntcbiAgICBiZWZvcmUoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAvLyBDb25uZWN0IHRvIE1vbmdvREIgZGF0YWJhc2VcbiAgICBjb25zdCBkYlVSSSA9YG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSfToke3Byb2Nlc3MuZW52LkRCX1BBU1NXT1JEfUBub2RlLWFwcGxpY2F0aW9ucy5mZTRhdS5tb25nb2RiLm5ldC9ub2RlLXR1dG9yaWFsP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWBcbiAgICBtb25nb29zZS5jb25uZWN0KGRiVVJJLHt1c2VOZXdVcmxQYXJzZXI6dHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OnRydWV9KS50aGVuKChyZXNwb25zZXVsdCk9PntcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RiIENvbm5lY3RlZCEnKVxuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgIH0pXG5cblxuICAgIH0pOyAgXG4gIFxuICAvKipcbiAgICAgKiBHRVQgY29tbWVudCByb3V0ZVxuICAgICovXG5cbiAgICBkZXNjcmliZSgnR0VUIC9hcGkvcG9zdHMvOmlkL2NvbW1lbnQnLCAoKT0+e1xuICAgICAgICBpdCgnc2hvd3MgYWxsIGNvbW1lbnRzIHJlbGF0ZWQgdG8gc3BlY2lmaWMgcG9zdCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgcG9zdElkID0gXCI2MjU5NDNlNjRlOWRkNDc0NzdmOWJlOTZcIlxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5nZXQoYC9hcGkvcG9zdHMvJHtwb3N0SWR9L2NvbW1lbnRgKVxuICAgICAgICAgICAgLnNlbmQoe3Bvc3RJZH0pXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUuYSgnb2JqZWN0JylcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIGl0KCdzaG93IGVycm9yIHdoZW4gdGhhdCBwb3N0IGluIG5vdCBpbiBEQicsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgcG9zdElkID0gXCI2MjViMDdjOTNjYzJmMmIwMTYzZjFhNzVcIlxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5nZXQoYC9hcGkvcG9zdHMvJHtwb3N0SWR9L2NvbW1lbnRgKVxuICAgICAgICAgICAgLnNlbmQoe3Bvc3RJZH0pXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJwb3N0IG5vdCBmb3VuZFwiKVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnd2hlbiBwb3N0IGhhdmUgbm8gY29tbWVudCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgcG9zdElkID0gXCI2MjU5N2Y5ZTcwZWZlMmE1NTAzMGM1YWJcIlxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5nZXQoYC9hcGkvcG9zdHMvJHtwb3N0SWR9L2NvbW1lbnRgKVxuICAgICAgICAgICAgLnNlbmQoe3Bvc3RJZH0pXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ2NvbW1lbnQnKS5lcWwoXCJubyBjb21tZW50cyByZWxhdGVkIHRvIHRoaXMgcG9zdFwiKVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBcbiAgICAgICAgaXQoJ3Nob3dzIGluZGl2aWR1YWwgY29tbWVudCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgY29tbWVudElkID0gXCI2MjU3Zjc2ZDY4ZWU1ZjhjOGY5NjRkMGJcIlxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5nZXQoYC9hcGkvY29tbWVudHMvJHtjb21tZW50SWR9YClcbiAgICAgICAgICAgIC5zZW5kKHtjb21tZW50SWR9KVxuICAgICAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKVxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ2NvbW1lbnQnKVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnc2hvd3MgZXJyb3IgZm9yIG5vbiBleGlzdGluZyBjb21tZW50JywgKGRvbmUpPT57XG4gICAgICAgICAgICBjb25zdCBjb21tZW50SWQgPSBcIjYyNTk0M2U2NGU5ZGQ0NzQ3N2Y5YmU5NlwiXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLmdldChgL2FwaS9jb21tZW50cy8ke2NvbW1lbnRJZH1gKVxuICAgICAgICAgICAgLnNlbmQoe2NvbW1lbnRJZH0pXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnY29tbWVudCcpLmVxbChcIkNvbW1lbnQgRG9lc24ndCBFeGlzdHNcIilcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgXG4gICAgICAgIFxuICAgIH0pXG5cblxuICAgIC8qKlxuICAgICogUE9TVCBjb21tZW50IHJvdXRlXG4gICAgKi9cblxuICAgIGRlc2NyaWJlKCdQT1NUIC9hcGkvcG9zdHMvOmlkL2NvbW1lbnQnLCAoKT0+e1xuICAgICAgICBpdCgnY29tbWVudCBvbiBhIHBvc3QnLCAoZG9uZSk9PntcbiAgICAgICAgICAgIGNvbnN0IHBvc3RJZCA9IFwiNjI1OTQzZTY0ZTlkZDQ3NDc3ZjliZTk2XCJcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbW1lbnQgPXtcbiAgICAgICAgICAgICAgICBwb3N0SWQsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246XCJ0ZXN0aW5nIGEgY29tbWVudFwiXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoYC9hcGkvcG9zdHMvJHtwb3N0SWR9L2NvbW1lbnRgKVxuICAgICAgICAgICAgLnNlbmQobmV3Q29tbWVudClcbiAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbiApXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ2NvbW1lbnQnKVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuXG4gICAgICAgIGl0KCdoYW5kbGVzIHdoZW4geW91IHdhbnQgdG8gY29tbWVudCBvbiBub24gZXhpc3RpbmcgcG9zdCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgcG9zdElkID0gXCI2MjU5N2Y4NDEyZjhkYTEzYjRlMGEzODVcIlxuICAgICAgICAgICAgY29uc3QgbmV3Q29tbWVudCA9e1xuICAgICAgICAgICAgICAgIHBvc3RJZCxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjpcInRlc3RpbmcgYSBjb21tZW50XCJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoYC9hcGkvcG9zdHMvJHtwb3N0SWR9L2NvbW1lbnRgKVxuICAgICAgICAgICAgLnNlbmQobmV3Q29tbWVudClcbiAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbiApXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJQb3N0IG5vdCBhdmFpbGFibGVcIik7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgfSlcblxuXG4gICAgLyoqXG4gICAgICogREVMRVRFIGNvbW1lbnQgcm91dGVcbiAgICAgKi9cblxuICAgIGRlc2NyaWJlKCdERUxFVEUgL2FwaS9jb21tZW50cy86aWQnLCAoKT0+e1xuICAgICAgICBpdCgnZGVsZXRlcyBjb21tZW50IG9uIGEgcG9zdCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgY29tbWVudElkID0gXCI2MjU3YzEyMGM5ZWJiODM3ZmMzODFhYzhcIlxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5kZWxldGUoYC9hcGkvY29tbWVudHMvJHtjb21tZW50SWR9YClcbiAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbiApXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnaGFuZGxlcyB3aGVuIHlvdSB3YW50IHRvIGRlbGV0ZSBub24gZXhpc3RpbmcgY29tbWVudCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgY29tbWVudElkID0gXCI2MjU5NDNlNjRlOWRkNDc0NzdmOWJlOTZcIlxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5kZWxldGUoYC9hcGkvY29tbWVudHMvJHtjb21tZW50SWR9YClcbiAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbiApXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJDb21tZW50IGRvZXNuJ3QgZXhpc3RcIilcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICB9KVxufSkgICAgIl19","map":{"version":3,"sources":["comment_test.js"],"names":["require","config","user","autToken","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","it","postId","request","server","get","send","end","err","response","have","status","body","a","property","eql","commentId","be","newComment","description","post","set","delete"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport sinon from 'sinon'\nimport { User } from '../models/User';\n\nlet user, autToken;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Post Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });  \n  \n  /**\n     * GET comment route\n    */\n\n    describe('GET /api/posts/:id/comment', ()=>{\n        it('shows all comments related to specific post', (done)=>{\n            const postId = \"625943e64e9dd47477f9be96\"\n            chai.request(server)\n            .get(`/api/posts/${postId}/comment`)\n            .send({postId})\n            .end((err, response)=>{\n                response.should.have.status(200);\n                response.body.should.have.a('object')\n            done();\n            })\n        })\n        it('show error when that post in not in DB', (done)=>{\n            const postId = \"625b07c93cc2f2b0163f1a75\"\n            chai.request(server)\n            .get(`/api/posts/${postId}/comment`)\n            .send({postId})\n            .end((err, response)=>{\n                response.should.have.status(404);\n                response.body.should.have.property('message').eql(\"post not found\")\n            done();\n            })\n        })\n\n        it('when post have no comment', (done)=>{\n            const postId = \"62597f9e70efe2a55030c5ab\"\n            chai.request(server)\n            .get(`/api/posts/${postId}/comment`)\n            .send({postId})\n            .end((err, response)=>{\n                response.should.have.status(404);\n                response.body.should.have.property('comment').eql(\"no comments related to this post\")\n            done();\n            })\n        })\n\n        \n        it('shows individual comment', (done)=>{\n            const commentId = \"6257f76d68ee5f8c8f964d0b\"\n            chai.request(server)\n            .get(`/api/comments/${commentId}`)\n            .send({commentId})\n            .end((err, response)=>{\n                response.should.have.status(200);\n                response.body.should.be.a('object')\n                response.body.should.have.property('comment')\n            done();\n            })\n        })\n\n        it('shows error for non existing comment', (done)=>{\n            const commentId = \"625943e64e9dd47477f9be96\"\n            chai.request(server)\n            .get(`/api/comments/${commentId}`)\n            .send({commentId})\n            .end((err, response)=>{\n                response.should.have.status(404);\n                response.body.should.be.a('object')\n                response.body.should.have.property('comment').eql(\"Comment Doesn't Exists\")\n            done();\n            })\n        })\n\n        \n        \n    })\n\n\n    /**\n    * POST comment route\n    */\n\n    describe('POST /api/posts/:id/comment', ()=>{\n        it('comment on a post', (done)=>{\n            const postId = \"625943e64e9dd47477f9be96\"\n            const newComment ={\n                postId,\n                description:\"testing a comment\"\n            };\n\n            chai.request(server)\n            .post(`/api/posts/${postId}/comment`)\n            .send(newComment)\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(201);\n                response.body.should.be.a('object');\n                response.body.should.have.property('comment')\n            done();\n            })\n        })\n\n\n        it('handles when you want to comment on non existing post', (done)=>{\n            const postId = \"62597f8412f8da13b4e0a385\"\n            const newComment ={\n                postId,\n                description:\"testing a comment\"\n            };\n            chai.request(server)\n            .post(`/api/posts/${postId}/comment`)\n            .send(newComment)\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(404);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"Post not available\");\n            done();\n            })\n        })\n\n    })\n\n\n    /**\n     * DELETE comment route\n     */\n\n    describe('DELETE /api/comments/:id', ()=>{\n        it('deletes comment on a post', (done)=>{\n            const commentId = \"6257c120c9ebb837fc381ac8\"\n            chai.request(server)\n            .delete(`/api/comments/${commentId}`)\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(200);\n                \n            done();\n            })\n        })\n\n        it('handles when you want to delete non existing comment', (done)=>{\n            const commentId = \"625943e64e9dd47477f9be96\"\n            chai.request(server)\n            .delete(`/api/comments/${commentId}`)\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(404);\n                response.body.should.have.property('message').eql(\"Comment doesn't exist\")\n            done();\n            })\n        })\n\n    })\n})    "]}},"mtime":1650365121953},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/contact_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for Message Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n  * POST Contact route\n  */\n\n  describe('POST /api/messages', () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection('messages');\n\n      _mongoose.default.connection.dropCollection('users');\n    }); // create user and login \n\n    it('creates new user ', done => {\n      const newUser = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(newUser).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user created!\");\n        done();\n      });\n    }); // login\n\n    const logInUser = {\n      username: 'menase',\n      password: 'password test'\n    };\n    it('login a user', done => {\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        autToken = response.body.Token;\n        done();\n      });\n    });\n    it('Send messages', done => {\n      const message = {\n        sender: 'test@mail.com',\n        name: \"Eric gasana\",\n        message: \"I would like to thank you for those valuable posts\"\n      };\n\n      _chai.default.request(_index.default).post(\"/api/messages\").send(message).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.property('message').eql(\"Message Sent successfully\");\n        done();\n      });\n    });\n    it('dont send a message when sender, message content is not provided', done => {\n      const message = {\n        sender: '',\n        name: \"sawa\",\n        message: \"\"\n      };\n\n      _chai.default.request(_index.default).post(\"/api/messages\").send(message).end((err, response) => {\n        response.should.have.status(403);\n        response.body.should.property('message').eql(\"sender and message are required\");\n        done();\n      });\n    });\n  });\n  /**\n   * GET Contact route\n   */\n\n  describe('GET /api/messages', () => {\n    after(() => {\n      _mongoose.default.connection.dropCollection('messages');\n\n      _mongoose.default.connection.dropCollection('users');\n    });\n    it('get all messages', done => {\n      _chai.default.request(_index.default).get(\"/api/messages\").set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.property('message').eql(\"contacts fetched!\");\n        done();\n      });\n    }); // it('don\\'t return any message', (done)=>{\n    //     chai.request(server)\n    //     .get(\"/api/message\")\n    //     .end((err, response)=>{\n    //         response.should.have.status(404);\n    //     done();\n    //     })\n    // })\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3RfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiY2hhaSIsInNob3VsZCIsInVzZSIsImNoYWlIdHRwIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJkb25lIiwiZGJVUkkiLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUiIsIkRCX1BBU1NXT1JEIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsInJlc3BvbnNldWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJjb25uZWN0aW9uIiwiZHJvcENvbGxlY3Rpb24iLCJpdCIsIm5ld1VzZXIiLCJVc2VyIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicmVxdWVzdCIsInNlcnZlciIsInBvc3QiLCJzZW5kIiwiZW5kIiwiZXJyIiwicmVzcG9uc2UiLCJoYXZlIiwic3RhdHVzIiwiYm9keSIsImJlIiwiYSIsInByb3BlcnR5IiwiZXFsIiwibG9nSW5Vc2VyIiwiVG9rZW4iLCJtZXNzYWdlIiwic2VuZGVyIiwibmFtZSIsImFmdGVyIiwiZ2V0Iiwic2V0Il0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUtBOzs7O0FBSkFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JDLE1BQWxCLEcsQ0FHQTs7O0FBR0EsSUFBSUMsSUFBSixFQUFVQyxRQUFWLEMsQ0FFQTs7QUFDQUMsY0FBS0MsTUFBTDs7QUFFQUQsY0FBS0UsR0FBTCxDQUFTQyxpQkFBVDs7QUFHQUMsUUFBUSxDQUFDLDRCQUFELEVBQStCLE1BQUk7QUFDdkNDLEVBQUFBLE1BQU0sQ0FBQyxVQUFTQyxJQUFULEVBQWU7QUFDbEI7QUFDSixVQUFNQyxLQUFLLEdBQUcsaUJBQWdCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsT0FBUSxJQUFHRixPQUFPLENBQUNDLEdB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LENBQUY7QUFpQkgsR0FuRk8sQ0FBUjtBQXFGSTtBQUNKO0FBQ0E7O0FBRUNGLEVBQUFBLFFBQVEsQ0FBQyxtQkFBRCxFQUFzQixNQUFJO0FBQy9CNkMsSUFBQUEsS0FBSyxDQUFDLE1BQUk7QUFDTnJDLHdCQUFTVSxVQUFULENBQW9CQyxjQUFwQixDQUFtQyxVQUFuQzs7QUFDQVgsd0JBQVNVLFVBQVQsQ0FBb0JDLGNBQXBCLENBQW1DLE9BQW5DO0FBQ0gsS0FISSxDQUFMO0FBSUFDLElBQUFBLEVBQUUsQ0FBQyxrQkFBRCxFQUFzQmxCLElBQUQsSUFBUTtBQUMzQk4sb0JBQUs4QixPQUFMLENBQWFDLGNBQWIsRUFDQ21CLEdBREQsQ0FDSyxlQURMLEVBRUNDLEdBRkQsQ0FFSyxlQUZMLEVBRXNCLFlBQVlwRCxRQUZsQyxFQUdDbUMsR0FIRCxDQUdLLENBQUNDLEdBQUQsRUFBTUMsUUFBTixLQUFpQjtBQUNsQkEsUUFBQUEsUUFBUSxDQUFDbkMsTUFBVCxDQUFnQm9DLElBQWhCLENBQXFCQyxNQUFyQixDQUE0QixHQUE1QjtBQUVBRixRQUFBQSxRQUFRLENBQUNHLElBQVQsQ0FBY3RDLE1BQWQsQ0FBcUJ5QyxRQUFyQixDQUE4QixTQUE5QixFQUF5Q0MsR0FBekMsQ0FBNkMsbUJBQTdDO0FBQ0pyQyxRQUFBQSxJQUFJO0FBQ0gsT0FSRDtBQVNILEtBVkMsQ0FBRixDQUwrQixDQWlCL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNILEdBekJRLENBQVI7QUE0QkEsQ0EzSU8sQ0FBUiIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvdGVzdC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGNoYWkgZnJvbSAnY2hhaSc7XG5pbXBvcnQgc2VydmVyIGZyb20gXCIuLi9pbmRleFwiO1xuaW1wb3J0IGNoYWlIdHRwIGZyb20gXCJjaGFpLWh0dHBcIjtcbmltcG9ydCB7UG9zdH0gZnJvbSBcIi4uL21vZGVscy9Qb3N0XCI7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5cbi8vdG8gbW9jayBhIGZ1bmN0aW9uIGR1cmluZyB0ZXN0aW5nXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vbW9kZWxzL1VzZXInO1xuXG5sZXQgdXNlciwgYXV0VG9rZW47XG5cbi8vYXNzZXJ0aW9uIHN0eWxlXG5jaGFpLnNob3VsZCgpO1xuXG5jaGFpLnVzZShjaGFpSHR0cCkgIFxuICAgIFxuICAgIFxuZGVzY3JpYmUoJ1Rlc3QgZm9yIE1lc3NhZ2UgRW5kcG9pbnRzJywgKCk9PntcbiAgICBiZWZvcmUoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAvLyBDb25uZWN0IHRvIE1vbmdvREIgZGF0YWJhc2VcbiAgICBjb25zdCBkYlVSSSA9YG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSfToke3Byb2Nlc3MuZW52LkRCX1BBU1NXT1JEfUBub2RlLWFwcGxpY2F0aW9ucy5mZTRhdS5tb25nb2RiLm5ldC9ub2RlLXR1dG9yaWFsP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWBcbiAgICBtb25nb29zZS5jb25uZWN0KGRiVVJJLHt1c2VOZXdVcmxQYXJzZXI6dHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OnRydWV9KS50aGVuKChyZXNwb25zZXVsdCk9PntcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RiIENvbm5lY3RlZCEnKVxuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgIH0pXG5cblxuICAgIH0pOyAgICAgXG4gICAgXG5cbiAgICAvKipcbiAqIFBPU1QgQ29udGFjdCByb3V0ZVxuICovXG5cbmRlc2NyaWJlKCdQT1NUIC9hcGkvbWVzc2FnZXMnLCAoKT0+e1xuICAgIGJlZm9yZSgoKT0+e1xuICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCdtZXNzYWdlcycpXG4gICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ3VzZXJzJylcbiAgICB9KVxuICAgIFxuICAgIC8vIGNyZWF0ZSB1c2VyIGFuZCBsb2dpbiBcbiAgICBpdCgnY3JlYXRlcyBuZXcgdXNlciAnLCAoZG9uZSk9PntcblxuICAgICAgICBjb25zdCBuZXdVc2VyID0gbmV3IFVzZXIoe1xuICAgICAgICAgICAgdXNlcm5hbWU6XCJtZW5hc2VcIixcbiAgICAgICAgICAgIGVtYWlsOlwibWVuYXNlQG1haWwuY29tXCIsXG4gICAgICAgICAgICBwYXNzd29yZDpcInBhc3N3b3JkIHRlc3RcIlxuICAgICAgIFxuICAgICAgICB9KVxuXG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KFwiL2FwaS91c2Vyc1wiKVxuICAgICAgICAuc2VuZChuZXdVc2VyKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJ1c2VyIGNyZWF0ZWQhXCIpO1xuICAgICAgICBkb25lKCk7ICAgXG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIC8vIGxvZ2luXG4gICAgY29uc3QgbG9nSW5Vc2VyID0ge1xuICAgICAgICB1c2VybmFtZTonbWVuYXNlJyxcbiAgICAgICAgcGFzc3dvcmQ6J3Bhc3N3b3JkIHRlc3QnXG4gICAgfVxuXG4gICAgaXQoJ2xvZ2luIGEgdXNlcicsIChkb25lKT0+e1xuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAucG9zdCgnL2FwaS91c2Vycy9sb2dpbicpXG4gICAgICAgIC5zZW5kKHt1c2VybmFtZTpsb2dJblVzZXIudXNlcm5hbWUsIHBhc3N3b3JkOmxvZ0luVXNlci5wYXNzd29yZH0pXG4gICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyLCByZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGRvbmUoZXJyKTtcblxuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgIGF1dFRva2VuID0gcmVzcG9uc2UuYm9keS5Ub2tlblxuICAgICAgICAgICAgXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pO1xuXG4gICAgfSlcblxuICAgIGl0KCdTZW5kIG1lc3NhZ2VzJywgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBzZW5kZXI6ICd0ZXN0QG1haWwuY29tJyxcbiAgICAgICAgICAgIG5hbWU6XCJFcmljIGdhc2FuYVwiLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJJIHdvdWxkIGxpa2UgdG8gdGhhbmsgeW91IGZvciB0aG9zZSB2YWx1YWJsZSBwb3N0c1wiLFxuICAgIFxuICAgICAgICB9XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KFwiL2FwaS9tZXNzYWdlc1wiKVxuICAgICAgICAuc2VuZChtZXNzYWdlKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIk1lc3NhZ2UgU2VudCBzdWNjZXNzZnVsbHlcIilcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnZG9udCBzZW5kIGEgbWVzc2FnZSB3aGVuIHNlbmRlciwgbWVzc2FnZSBjb250ZW50IGlzIG5vdCBwcm92aWRlZCcsIChkb25lKT0+e1xuICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgc2VuZGVyOiAnJyxcbiAgICAgICAgICAgIG5hbWU6XCJzYXdhXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIlwiLFxuICAgIFxuICAgICAgICB9XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KFwiL2FwaS9tZXNzYWdlc1wiKVxuICAgICAgICAuc2VuZChtZXNzYWdlKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwMyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInNlbmRlciBhbmQgbWVzc2FnZSBhcmUgcmVxdWlyZWRcIilcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIFxuICAgIH0pXG59KVxuXG4gICAgLyoqXG4gICAgICogR0VUIENvbnRhY3Qgcm91dGVcbiAgICAgKi9cblxuIGRlc2NyaWJlKCdHRVQgL2FwaS9tZXNzYWdlcycsICgpPT57XG4gICAgYWZ0ZXIoKCk9PntcbiAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wQ29sbGVjdGlvbignbWVzc2FnZXMnKVxuICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCd1c2VycycpXG4gICAgfSlcbiAgICBpdCgnZ2V0IGFsbCBtZXNzYWdlcycsIChkb25lKT0+e1xuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAuZ2V0KFwiL2FwaS9tZXNzYWdlc1wiKVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJjb250YWN0cyBmZXRjaGVkIVwiKVxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIC8vIGl0KCdkb25cXCd0IHJldHVybiBhbnkgbWVzc2FnZScsIChkb25lKT0+e1xuICAgIC8vICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgIC8vICAgICAuZ2V0KFwiL2FwaS9tZXNzYWdlXCIpXG4gICAgLy8gICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgLy8gICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDA0KTtcbiAgICAvLyAgICAgZG9uZSgpO1xuICAgIC8vICAgICB9KVxuICAgIC8vIH0pXG59KVxuXG5cbn0pIl19","map":{"version":3,"sources":["contact_test.js"],"names":["require","config","user","autToken","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","logInUser","Token","message","sender","name","after","get","set"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport { User } from '../models/User';\n\nlet user, autToken;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Message Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });     \n    \n\n    /**\n * POST Contact route\n */\n\ndescribe('POST /api/messages', ()=>{\n    before(()=>{\n        mongoose.connection.dropCollection('messages')\n        mongoose.connection.dropCollection('users')\n    })\n    \n    // create user and login \n    it('creates new user ', (done)=>{\n\n        const newUser = new User({\n            username:\"menase\",\n            email:\"menase@mail.com\",\n            password:\"password test\"\n       \n        })\n\n        chai.request(server)\n        .post(\"/api/users\")\n        .send(newUser)\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"user created!\");\n        done();   \n        })\n    })\n\n    // login\n    const logInUser = {\n        username:'menase',\n        password:'password test'\n    }\n\n    it('login a user', (done)=>{\n        chai.request(server)\n        .post('/api/users/login')\n        .send({username:logInUser.username, password:logInUser.password})\n        .end(function(err, response) {\n            if (err) return done(err);\n\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            autToken = response.body.Token\n            \n            done();\n        });\n\n    })\n\n    it('Send messages', (done)=>{\n        const message = {\n            sender: 'test@mail.com',\n            name:\"Eric gasana\",\n            message: \"I would like to thank you for those valuable posts\",\n    \n        }\n        chai.request(server)\n        .post(\"/api/messages\")\n        .send(message)\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.property('message').eql(\"Message Sent successfully\")\n        done();\n        })\n    })\n\n    it('dont send a message when sender, message content is not provided', (done)=>{\n        const message = {\n            sender: '',\n            name:\"sawa\",\n            message: \"\",\n    \n        }\n        chai.request(server)\n        .post(\"/api/messages\")\n        .send(message)\n        .end((err, response)=>{\n            response.should.have.status(403);\n            response.body.should.property('message').eql(\"sender and message are required\")\n        done();\n        })\n    \n    })\n})\n\n    /**\n     * GET Contact route\n     */\n\n describe('GET /api/messages', ()=>{\n    after(()=>{\n        mongoose.connection.dropCollection('messages')\n        mongoose.connection.dropCollection('users')\n    })\n    it('get all messages', (done)=>{\n        chai.request(server)\n        .get(\"/api/messages\")\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n            \n            response.body.should.property('message').eql(\"contacts fetched!\")\n        done();\n        })\n    })\n\n    // it('don\\'t return any message', (done)=>{\n    //     chai.request(server)\n    //     .get(\"/api/message\")\n    //     .end((err, response)=>{\n    //         response.should.have.status(404);\n    //     done();\n    //     })\n    // })\n})\n\n\n})"]}},"mtime":1651135162072},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/post_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken, id; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for Post Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n   * POST a post route\n   */\n\n  describe(\"POST /api/posts\", () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection('users');\n\n      _mongoose.default.connection.dropCollection('posts');\n    }); // create user and login \n\n    it('creates new user ', done => {\n      const newUser = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(newUser).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user created!\");\n        done();\n      });\n    }); // login\n\n    const logInUser = {\n      username: 'menase',\n      password: 'password test'\n    };\n    it('login a user', done => {\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        autToken = response.body.Token;\n        done();\n      });\n    }); //post creation\n\n    it(\"creates a new post\", done => {\n      const userToken = 'Bearer ' + autToken;\n      const post = new _Post.Post({\n        title: \"unit testing\",\n        content: \"I am testing nodejs api using mocha with chai assertion library\",\n        poster: \"/home/nyakamwe/Pictures/MPAMAVUTA.png\"\n      });\n      post.save();\n\n      _chai.default.request(_index.default).post(\"/api/posts\") //set the auth header with our token\n      .set('Content-Type', 'multipart/form-data').set('Authorization', 'Bearer ' + autToken).field({\n        title: \"unit testing\",\n        content: \"I am testing nodejs api using mocha with chai assertion library\"\n      }).attach('poster', '/home/nyakamwe/Pictures/MPAMAVUTA.png').end(function (error, response) {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Post Saved successfully\");\n        id = post.id;\n        done();\n      });\n    }); // it(\"creates a new post\", (done)=>{\n    //     const userToken = 'Bearer ' + autToken\n    //     const post = new Post({\n    //         title: \"unit testing\",\n    //         content: \"I am testing nodejs api using mocha with chai assertion library\"\n    //     })\n    //     post.save()\n    //     chai.request(server)\n    //     .post(\"/api/posts\")\n    //     //set the auth header with our token\n    //     .set('Content-Type', 'multipart/form-data')\n    //     .set('Authorization', 'Bearer ' + autToken)\n    //     .field({\n    //         title: \"unit testing\",\n    //         content: \"I am testing nodejs api using mocha with chai assertion library\"\n    //     })\n    //     .attach('poster', '/home/nyakamwe/Pictures/MPAMAVUTA.png')\n    //     .end(function(error, response) {\n    //         response.should.have.status(201);\n    //         response.body.should.be.a('object');\n    //         response.body.should.have.property('message').eql(\"Post Saved successfully\");\n    //         id = post.id;\n    //     done();  \n    //     });\n    // })\n    // it(\"creates a new post\", (done)=>{\n    //     const userToken = 'Bearer ' + autToken\n    //     const post = new Post({\n    //         title: \"unit testing\",\n    //         content: \"I am testing nodejs api using mocha with chai assertion library\"\n    //     })\n    //     post.save()\n    //     chai.request(server)\n    //     .post(\"/api/posts\")\n    //     //set the auth header with our token\n    //     .set('Authorization', 'Bearer ' + autToken)\n    //     .send(post)\n    //     .end(function(error, response) {\n    //         response.should.have.status(201);\n    //         response.body.should.be.a('object');\n    //         response.body.should.have.property('message').eql(\"Post Saved successfully\");\n    //         id= post.id\n    //     done();  \n    //     });\n    // })\n\n    const userToken = 'Bearer ' + autToken;\n    it(\"fails to create a post due to unathorized user\", done => {\n      const post = new _Post.Post({\n        title: \"keza testing \",\n        content: \"unit testing with mocha and user keza\"\n      }); // post.save()\n\n      _chai.default.request(_index.default).post(\"/api/posts\").send(post) //set the auth header with our token\n      .set('Authorization', userToken).end(function (error, response) {\n        response.should.have.status(403);\n        response.body.should.have.property('message').eql(\"Invalid Token\");\n        done();\n      });\n    });\n    it(\"do not create a post without title and content\", done => {\n      const post = new _Post.Post({\n        title: \"\",\n        content: \"\"\n      }); // post.save()\n\n      _chai.default.request(_index.default).post(\"/api/posts\") //set the auth header with our token\n      .set('Authorization', 'Bearer ' + autToken).send(post).end(function (error, response) {\n        response.should.have.status(400);\n        response.body.should.have.property('message').eql(\"Title and content are required\");\n        done();\n      });\n    });\n  });\n  /**\n   * test GET posts route\n   */\n\n  describe(\"GET /api/posts\", () => {\n    it(\"returns all posts\", done => {\n      _chai.default.request(_index.default).get(\"/api/posts\").set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        response.body.message.should.be.eq(\"Fetched successfully\");\n        done();\n      });\n    }); // it(\"not returns all posts\", (done)=>{\n    //     chai.request(server)\n    //     .get(\"/api/post\")\n    //     .end((err, response)=>{\n    //         response.should.have.status(404);\n    //     done();\n    //     })\n    // })\n  });\n  /**\n   * test GET(by id) post route\n   */\n\n  describe(\"GET /api/posts/:id\", () => {\n    it(\"returns a single post\", done => {\n      const postId = id;\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        response.body.message.should.be.eq(\"successfully fetched\");\n        done();\n      });\n    });\n    it(\"not returns a single post at this id\", done => {\n      const postId = 1234;\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}`).set('Authorization', 'Bearer ' + autToken).end((err, responseponse) => {\n        responseponse.should.have.status(404);\n        responseponse.body.error.should.be.eq(\"Post does not exist!\");\n        done();\n      });\n    });\n  });\n  /**\n   * PUT a post route\n   */\n\n  describe('PUT /api/posts/:id', () => {\n    it('updates a post', done => {\n      const postId = id;\n      const post = {\n        title: \"unit testing\",\n        content: \"mocha Js framework for testing\"\n      };\n\n      _chai.default.request(_index.default).patch(`/api/posts/${postId}`).send(post).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Post successfully updated!\");\n        done();\n      });\n    });\n    it('don\\'t updates a post when title or content is empty', done => {\n      const postId = id;\n      const post = {\n        title: \"avicii\",\n        content: \"\"\n      };\n\n      _chai.default.request(_index.default).patch(`/api/posts/${postId}`).send(post).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(400);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Title and content need value!\");\n        done();\n      });\n    });\n  });\n  /**\n   * DELETE post route\n   */\n\n  describe('DELETE /api/posts/:id', () => {\n    after(() => {\n      _mongoose.default.connection.dropCollection('users');\n\n      _mongoose.default.connection.dropCollection('posts');\n    });\n    it('It deletes a post', done => {\n      const postId = id;\n\n      _chai.default.request(_index.default).delete(`/api/posts/${postId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        done();\n      });\n    });\n    it('It should not delete post that doesn\\'t exist in DB', done => {\n      const postId = id;\n\n      _chai.default.request(_index.default).delete(`/api/posts/${postId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.have.property('error').eql(\"Post doesn't exist!\");\n        done();\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiaWQiLCJjaGFpIiwic2hvdWxkIiwidXNlIiwiY2hhaUh0dHAiLCJkZXNjcmliZSIsImJlZm9yZSIsImRvbmUiLCJkYlVSSSIsInByb2Nlc3MiLCJlbnYiLCJEQl9VU0VSIiwiREJfUEFTU1dPUkQiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwicmVzcG9uc2V1bHQiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsImNvbm5lY3Rpb24iLCJkcm9wQ29sbGVjdGlvbiIsIml0IiwibmV3VXNlciIsIlVzZXIiLCJ1c2VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJyZXF1ZXN0Iiwic2VydmVyIiwicG9zdCIsInNlbmQiLCJlbmQiLCJlcnIiLCJyZXNwb25zZSIsImhhdmUiLCJzdGF0dXMiLCJib2R5IiwiYmUiLCJhIiwicHJvcGVydHkiLCJlcWwiLCJsb2dJblVzZXIiLCJUb2tlbiIsInVzZXJUb2tlbiIsIlBvc3QiLCJ0aXRsZSIsImNvbnRlbnQiLCJwb3N0ZXIiLCJzYXZlIiwic2V0IiwiZmllbGQiLCJhdHRhY2giLCJnZXQiLCJtZXNzYWdlIiwiZXEiLCJwb3N0SWQiLCJyZXNwb25zZXBvbnNlIiwicGF0Y2giLCJhZnRlciIsImRlbGV0ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFLQTs7OztBQUpBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQixHLENBR0E7OztBQUdBLElBQUlDLElBQUosRUFBVUMsUUFBVixFQUFvQkMsRUFBcEIsQyxDQUVBOztBQUNBQyxjQUFLQyxNQUFMOztBQUVBRCxjQUFLRSxHQUFMLENBQVNDLGlCQUFUOztBQUdBQyxRQUFRLENBQUMseUJBQUQsRUFBNEIsTUFBSTtBQUNw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SEksQ0FBTDtBQU1GQyxJQUFBQSxFQUFFLENBQUMsbUJBQUQsRUFBdUJsQixJQUFELElBQVE7QUFDNUIsWUFBTW9ELE1BQU0sR0FBRzNELEVBQWY7O0FBQ0FDLG9CQUFLOEIsT0FBTCxDQUFhQyxjQUFiLEVBQ0MrQixNQURELENBQ1MsY0FBYUosTUFBTyxFQUQ3QixFQUVDTixHQUZELENBRUssZUFGTCxFQUVzQixZQUFZdEQsUUFGbEMsRUFHQ29DLEdBSEQsQ0FHSyxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBaUI7QUFDbEJBLFFBQUFBLFFBQVEsQ0FBQ25DLE1BQVQsQ0FBZ0JvQyxJQUFoQixDQUFxQkMsTUFBckIsQ0FBNEIsR0FBNUI7QUFFSmhDLFFBQUFBLElBQUk7QUFDSCxPQVBEO0FBUUgsS0FWQyxDQUFGO0FBWUFrQixJQUFBQSxFQUFFLENBQUMscURBQUQsRUFBeURsQixJQUFELElBQVE7QUFDOUQsWUFBTW9ELE1BQU0sR0FBRzNELEVBQWY7O0FBQ0FDLG9CQUFLOEIsT0FBTCxDQUFhQyxjQUFiLEVBQ0MrQixNQURELENBQ1MsY0FBYUosTUFBTyxFQUQ3QixFQUVDTixHQUZELENBRUssZUFGTCxFQUVzQixZQUFZdEQsUUFGbEMsRUFHQ29DLEdBSEQsQ0FHSyxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBaUI7QUFDbEJBLFFBQUFBLFFBQVEsQ0FBQ25DLE1BQVQsQ0FBZ0JvQyxJQUFoQixDQUFxQkMsTUFBckIsQ0FBNEIsR0FBNUI7QUFDQUYsUUFBQUEsUUFBUSxDQUFDRyxJQUFULENBQWN0QyxNQUFkLENBQXFCb0MsSUFBckIsQ0FBMEJLLFFBQTFCLENBQW1DLE9BQW5DLEVBQTRDQyxHQUE1QyxDQUFnRCxxQkFBaEQ7QUFDSnJDLFFBQUFBLElBQUk7QUFDSCxPQVBEO0FBUUgsS0FWQyxDQUFGO0FBY0gsR0FqQ1MsQ0FBUjtBQW1DRCxDQTlYTyxDQUFSIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy90ZXN0LyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgY2hhaSBmcm9tICdjaGFpJztcbmltcG9ydCBzZXJ2ZXIgZnJvbSBcIi4uL2luZGV4XCI7XG5pbXBvcnQgY2hhaUh0dHAgZnJvbSBcImNoYWktaHR0cFwiO1xuaW1wb3J0IHtQb3N0fSBmcm9tIFwiLi4vbW9kZWxzL1Bvc3RcIjtcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5cblxuLy90byBtb2NrIGEgZnVuY3Rpb24gZHVyaW5nIHRlc3RpbmdcbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuLi9tb2RlbHMvVXNlcic7XG5cbmxldCB1c2VyLCBhdXRUb2tlbiwgaWQ7XG5cbi8vYXNzZXJ0aW9uIHN0eWxlXG5jaGFpLnNob3VsZCgpO1xuXG5jaGFpLnVzZShjaGFpSHR0cCkgIFxuICAgIFxuICAgIFxuZGVzY3JpYmUoJ1Rlc3QgZm9yIFBvc3QgRW5kcG9pbnRzJywgKCk9PntcbiAgICBiZWZvcmUoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAvLyBDb25uZWN0IHRvIE1vbmdvREIgZGF0YWJhc2VcbiAgICBjb25zdCBkYlVSSSA9YG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSfToke3Byb2Nlc3MuZW52LkRCX1BBU1NXT1JEfUBub2RlLWFwcGxpY2F0aW9ucy5mZTRhdS5tb25nb2RiLm5ldC9ub2RlLXR1dG9yaWFsP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWBcbiAgICBtb25nb29zZS5jb25uZWN0KGRiVVJJLHt1c2VOZXdVcmxQYXJzZXI6dHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OnRydWV9KS50aGVuKChyZXNwb25zZXVsdCk9PntcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RiIENvbm5lY3RlZCEnKVxuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgIH0pXG5cblxuICAgIH0pOyAgIFxuICAgIFxuICAgIFxuICAgIC8qKlxuICAgICAqIFBPU1QgYSBwb3N0IHJvdXRlXG4gICAgICovXG5cbmRlc2NyaWJlKFwiUE9TVCAvYXBpL3Bvc3RzXCIsICgpPT57XG4gICAgYmVmb3JlKCgpPT57XG4gICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ3VzZXJzJylcbiAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wQ29sbGVjdGlvbigncG9zdHMnKVxuICAgIH0pXG4gICBcbiAgICBcblxuICAgIC8vIGNyZWF0ZSB1c2VyIGFuZCBsb2dpbiBcbiAgICBpdCgnY3JlYXRlcyBuZXcgdXNlciAnLCAoZG9uZSk9PntcblxuICAgICAgICBjb25zdCBuZXdVc2VyID0gbmV3IFVzZXIoe1xuICAgICAgICAgICAgdXNlcm5hbWU6XCJtZW5hc2VcIixcbiAgICAgICAgICAgIGVtYWlsOlwibWVuYXNlQG1haWwuY29tXCIsXG4gICAgICAgICAgICBwYXNzd29yZDpcInBhc3N3b3JkIHRlc3RcIlxuICAgICAgIFxuICAgICAgICB9KVxuXG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KFwiL2FwaS91c2Vyc1wiKVxuICAgICAgICAuc2VuZChuZXdVc2VyKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJ1c2VyIGNyZWF0ZWQhXCIpO1xuICAgICAgICBkb25lKCk7ICAgXG4gICAgICAgIH0pXG4gICAgfSlcblxuXG4gICAgLy8gbG9naW5cbiAgICBjb25zdCBsb2dJblVzZXIgPSB7XG4gICAgICAgIHVzZXJuYW1lOidtZW5hc2UnLFxuICAgICAgICBwYXNzd29yZDoncGFzc3dvcmQgdGVzdCdcbiAgICB9XG5cbiAgICBpdCgnbG9naW4gYSB1c2VyJywgKGRvbmUpPT57XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KCcvYXBpL3VzZXJzL2xvZ2luJylcbiAgICAgICAgLnNlbmQoe3VzZXJuYW1lOmxvZ0luVXNlci51c2VybmFtZSwgcGFzc3dvcmQ6bG9nSW5Vc2VyLnBhc3N3b3JkfSlcbiAgICAgICAgLmVuZChmdW5jdGlvbihlcnIsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuXG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgYXV0VG9rZW4gPSByZXNwb25zZS5ib2R5LlRva2VuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICB9KVxuXG4gICAgLy9wb3N0IGNyZWF0aW9uXG4gICAgaXQoXCJjcmVhdGVzIGEgbmV3IHBvc3RcIiwgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IHVzZXJUb2tlbiA9ICdCZWFyZXIgJyArIGF1dFRva2VuXG4gICAgICAgIFxuICAgICAgICBjb25zdCBwb3N0ID0gbmV3IFBvc3Qoe1xuICAgICAgICAgICAgdGl0bGU6IFwidW5pdCB0ZXN0aW5nXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIkkgYW0gdGVzdGluZyBub2RlanMgYXBpIHVzaW5nIG1vY2hhIHdpdGggY2hhaSBhc3NlcnRpb24gbGlicmFyeVwiLFxuICAgICAgICAgICAgcG9zdGVyOiBcIi9ob21lL255YWthbXdlL1BpY3R1cmVzL01QQU1BVlVUQS5wbmdcIlxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICBwb3N0LnNhdmUoKVxuICAgICAgICBcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoXCIvYXBpL3Bvc3RzXCIpXG4gICAgXG4gICAgICAgIC8vc2V0IHRoZSBhdXRoIGhlYWRlciB3aXRoIG91ciB0b2tlblxuICAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLmZpZWxkKHtcbiAgICAgICAgICAgIHRpdGxlOiBcInVuaXQgdGVzdGluZ1wiLFxuICAgICAgICAgICAgY29udGVudDogXCJJIGFtIHRlc3Rpbmcgbm9kZWpzIGFwaSB1c2luZyBtb2NoYSB3aXRoIGNoYWkgYXNzZXJ0aW9uIGxpYnJhcnlcIlxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRhY2goJ3Bvc3RlcicsICcvaG9tZS9ueWFrYW13ZS9QaWN0dXJlcy9NUEFNQVZVVEEucG5nJylcbiAgICAgICAgLmVuZChmdW5jdGlvbihlcnJvciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiUG9zdCBTYXZlZCBzdWNjZXNzZnVsbHlcIik7XG5cbiAgICAgICAgICAgIGlkID0gcG9zdC5pZDtcbiAgICAgICAgICAgIFxuICAgICAgICBkb25lKCk7ICBcbiAgICAgICAgfSk7XG4gICAgfSlcblxuICAgIC8vIGl0KFwiY3JlYXRlcyBhIG5ldyBwb3N0XCIsIChkb25lKT0+e1xuICAgIC8vICAgICBjb25zdCB1c2VyVG9rZW4gPSAnQmVhcmVyICcgKyBhdXRUb2tlblxuICAgICAgICBcbiAgICAvLyAgICAgY29uc3QgcG9zdCA9IG5ldyBQb3N0KHtcbiAgICAvLyAgICAgICAgIHRpdGxlOiBcInVuaXQgdGVzdGluZ1wiLFxuICAgIC8vICAgICAgICAgY29udGVudDogXCJJIGFtIHRlc3Rpbmcgbm9kZWpzIGFwaSB1c2luZyBtb2NoYSB3aXRoIGNoYWkgYXNzZXJ0aW9uIGxpYnJhcnlcIlxuICAgICAgICAgICAgXG4gICAgLy8gICAgIH0pXG4gICAgICAgIFxuICAgIC8vICAgICBwb3N0LnNhdmUoKVxuICAgICAgICBcbiAgICAvLyAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAvLyAgICAgLnBvc3QoXCIvYXBpL3Bvc3RzXCIpXG4gICAgXG4gICAgLy8gICAgIC8vc2V0IHRoZSBhdXRoIGhlYWRlciB3aXRoIG91ciB0b2tlblxuICAgIC8vICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScpXG4gICAgLy8gICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAvLyAgICAgLmZpZWxkKHtcbiAgICAvLyAgICAgICAgIHRpdGxlOiBcInVuaXQgdGVzdGluZ1wiLFxuICAgIC8vICAgICAgICAgY29udGVudDogXCJJIGFtIHRlc3Rpbmcgbm9kZWpzIGFwaSB1c2luZyBtb2NoYSB3aXRoIGNoYWkgYXNzZXJ0aW9uIGxpYnJhcnlcIlxuICAgICAgICAgICAgXG4gICAgLy8gICAgIH0pXG4gICAgLy8gICAgIC5hdHRhY2goJ3Bvc3RlcicsICcvaG9tZS9ueWFrYW13ZS9QaWN0dXJlcy9NUEFNQVZVVEEucG5nJylcbiAgICAvLyAgICAgLmVuZChmdW5jdGlvbihlcnJvciwgcmVzcG9uc2UpIHtcbiAgICAvLyAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuICAgIC8vICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgLy8gICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiUG9zdCBTYXZlZCBzdWNjZXNzZnVsbHlcIik7XG5cbiAgICAvLyAgICAgICAgIGlkID0gcG9zdC5pZDtcbiAgICAvLyAgICAgZG9uZSgpOyAgXG4gICAgLy8gICAgIH0pO1xuICAgIC8vIH0pXG5cbiAgICAvLyBpdChcImNyZWF0ZXMgYSBuZXcgcG9zdFwiLCAoZG9uZSk9PntcbiAgICAvLyAgICAgY29uc3QgdXNlclRva2VuID0gJ0JlYXJlciAnICsgYXV0VG9rZW5cbiAgICAgICAgXG4gICAgLy8gICAgIGNvbnN0IHBvc3QgPSBuZXcgUG9zdCh7XG4gICAgLy8gICAgICAgICB0aXRsZTogXCJ1bml0IHRlc3RpbmdcIixcbiAgICAvLyAgICAgICAgIGNvbnRlbnQ6IFwiSSBhbSB0ZXN0aW5nIG5vZGVqcyBhcGkgdXNpbmcgbW9jaGEgd2l0aCBjaGFpIGFzc2VydGlvbiBsaWJyYXJ5XCJcbiAgICAgICAgICAgIFxuICAgIC8vICAgICB9KVxuICAgICAgICBcbiAgICAvLyAgICAgcG9zdC5zYXZlKClcbiAgICAgICAgXG4gICAgLy8gICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgLy8gICAgIC5wb3N0KFwiL2FwaS9wb3N0c1wiKVxuICAgIFxuICAgIC8vICAgICAvL3NldCB0aGUgYXV0aCBoZWFkZXIgd2l0aCBvdXIgdG9rZW5cbiAgICAvLyAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuKVxuICAgIC8vICAgICAuc2VuZChwb3N0KVxuICAgIC8vICAgICAuZW5kKGZ1bmN0aW9uKGVycm9yLCByZXNwb25zZSkge1xuICAgIC8vICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgLy8gICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAvLyAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJQb3N0IFNhdmVkIHN1Y2Nlc3NmdWxseVwiKTtcblxuICAgIC8vICAgICAgICAgaWQ9IHBvc3QuaWRcbiAgICAvLyAgICAgZG9uZSgpOyAgXG4gICAgLy8gICAgIH0pO1xuICAgIC8vIH0pXG4gICAgICAgIFxuXG4gICAgY29uc3QgdXNlclRva2VuID0gJ0JlYXJlciAnICsgYXV0VG9rZW5cblxuICAgIGl0KFwiZmFpbHMgdG8gY3JlYXRlIGEgcG9zdCBkdWUgdG8gdW5hdGhvcml6ZWQgdXNlclwiLCAoZG9uZSk9PntcblxuICAgICAgICBjb25zdCBwb3N0ID0gbmV3IFBvc3Qoe1xuICAgICAgICAgICAgdGl0bGU6IFwia2V6YSB0ZXN0aW5nIFwiLFxuICAgICAgICAgICAgY29udGVudDogXCJ1bml0IHRlc3Rpbmcgd2l0aCBtb2NoYSBhbmQgdXNlciBrZXphXCJcbiAgICAgICAgICAgIFxuICAgICAgICB9KVxuICAgICAgICAvLyBwb3N0LnNhdmUoKVxuICAgICAgICBcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoXCIvYXBpL3Bvc3RzXCIpXG4gICAgICAgIC5zZW5kKHBvc3QpXG4gICAgICAgIC8vc2V0IHRoZSBhdXRoIGhlYWRlciB3aXRoIG91ciB0b2tlblxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgdXNlclRva2VuKVxuICAgICAgICAuZW5kKGZ1bmN0aW9uKGVycm9yLCByZXNwb25zZSkge1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwMyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiSW52YWxpZCBUb2tlblwiKTtcbiAgICAgICAgZG9uZSgpOyAgXG4gICAgICAgIH0pO1xuICAgICAgIFxuICAgICAgICBcbiAgICB9KSBcblxuICAgIGl0KFwiZG8gbm90IGNyZWF0ZSBhIHBvc3Qgd2l0aG91dCB0aXRsZSBhbmQgY29udGVudFwiLCAoZG9uZSk9PntcblxuICAgICAgICBjb25zdCBwb3N0ID0gbmV3IFBvc3Qoe1xuICAgICAgICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIlwiXG4gICAgICAgICAgICBcbiAgICAgICAgfSlcbiAgICAgICAgLy8gcG9zdC5zYXZlKClcbiAgICAgICAgXG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KFwiL2FwaS9wb3N0c1wiKVxuICAgIFxuICAgICAgICAvL3NldCB0aGUgYXV0aCBoZWFkZXIgd2l0aCBvdXIgdG9rZW5cbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuKVxuICAgICAgICAuc2VuZChwb3N0KVxuICAgICAgICAuZW5kKGZ1bmN0aW9uKGVycm9yLCByZXNwb25zZSkge1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwMCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiVGl0bGUgYW5kIGNvbnRlbnQgYXJlIHJlcXVpcmVkXCIpXG4gICAgICAgIGRvbmUoKTsgIFxuICAgICAgICB9KTtcbiAgICB9KVxuXG4gICAgICAgIFxufSkgXG4gICAgXG4gICAgXG4gICAgLyoqXG4gICAgICogdGVzdCBHRVQgcG9zdHMgcm91dGVcbiAgICAgKi9cblxuICBkZXNjcmliZShcIkdFVCAvYXBpL3Bvc3RzXCIsICgpPT57XG4gICAgICAgIFxuICAgIGl0KFwicmV0dXJucyBhbGwgcG9zdHNcIiwgKGRvbmUpPT57XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5nZXQoXCIvYXBpL3Bvc3RzXCIpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5tZXNzYWdlLnNob3VsZC5iZS5lcShcIkZldGNoZWQgc3VjY2Vzc2Z1bGx5XCIpXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgfSlcblxuICAgIC8vIGl0KFwibm90IHJldHVybnMgYWxsIHBvc3RzXCIsIChkb25lKT0+e1xuICAgIC8vICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgIC8vICAgICAuZ2V0KFwiL2FwaS9wb3N0XCIpXG4gICAgLy8gICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgLy8gICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDA0KTtcblxuICAgIC8vICAgICBkb25lKCk7XG4gICAgLy8gICAgIH0pXG4gICAgICAgIFxuICAgIC8vIH0pXG5cbiAgICBcbn0pO1xuXG4vKipcbiAqIHRlc3QgR0VUKGJ5IGlkKSBwb3N0IHJvdXRlXG4gKi9cblxuZGVzY3JpYmUoXCJHRVQgL2FwaS9wb3N0cy86aWRcIiwgKCk9PntcbiAgICBcbiAgICBpdChcInJldHVybnMgYSBzaW5nbGUgcG9zdFwiLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgcG9zdElkID0gaWQ7XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5nZXQoYC9hcGkvcG9zdHMvJHtwb3N0SWR9YClcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkubWVzc2FnZS5zaG91bGQuYmUuZXEoXCJzdWNjZXNzZnVsbHkgZmV0Y2hlZFwiKVxuICAgICAgICAgICAgXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgfSk7XG5cbiAgICBcbiAgICBpdChcIm5vdCByZXR1cm5zIGEgc2luZ2xlIHBvc3QgYXQgdGhpcyBpZFwiLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgcG9zdElkID0gMTIzNDtcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLmdldChgL2FwaS9wb3N0cy8ke3Bvc3RJZH1gKVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2Vwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwNCk7XG4gICAgICAgICAgICByZXNwb25zZXBvbnNlLmJvZHkuZXJyb3Iuc2hvdWxkLmJlLmVxKFwiUG9zdCBkb2VzIG5vdCBleGlzdCFcIilcbiAgICAgICAgICAgIFxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgIH0pXG59KVxuXG5cblxuICAgIC8qKlxuICAgICAqIFBVVCBhIHBvc3Qgcm91dGVcbiAgICAgKi9cblxuIGRlc2NyaWJlKCdQVVQgL2FwaS9wb3N0cy86aWQnLCAoKT0+e1xuICAgIGl0KCd1cGRhdGVzIGEgcG9zdCcsIChkb25lKT0+e1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcG9zdElkID0gaWRcbiAgICAgICAgY29uc3QgcG9zdCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiBcInVuaXQgdGVzdGluZ1wiLFxuICAgICAgICAgICAgY29udGVudDogXCJtb2NoYSBKcyBmcmFtZXdvcmsgZm9yIHRlc3RpbmdcIixcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wYXRjaChgL2FwaS9wb3N0cy8ke3Bvc3RJZH1gKVxuICAgICAgICAuc2VuZChwb3N0KVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIlBvc3Qgc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQhXCIpXG4gICAgICAgICAgICBcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnZG9uXFwndCB1cGRhdGVzIGEgcG9zdCB3aGVuIHRpdGxlIG9yIGNvbnRlbnQgaXMgZW1wdHknLCAoZG9uZSk9PntcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IGlkXG4gICAgICAgIGNvbnN0IHBvc3QgPSB7XG4gICAgICAgICAgICB0aXRsZTogXCJhdmljaWlcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiXCIsXG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAucGF0Y2goYC9hcGkvcG9zdHMvJHtwb3N0SWR9YClcbiAgICAgICAgLnNlbmQocG9zdClcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwMCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJUaXRsZSBhbmQgY29udGVudCBuZWVkIHZhbHVlIVwiKVxuICAgICAgICAgICAgXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICB9KVxuXG5cbn0pXG5cbiAgICAvKipcbiAgICAgKiBERUxFVEUgcG9zdCByb3V0ZVxuICAgICAqL1xuXG4gIGRlc2NyaWJlKCdERUxFVEUgL2FwaS9wb3N0cy86aWQnLCAoKT0+e1xuICAgICAgYWZ0ZXIoKCk9PntcbiAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wQ29sbGVjdGlvbigndXNlcnMnKSBcbiAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wQ29sbGVjdGlvbigncG9zdHMnKVxuICAgICAgfSlcbiAgICBcblxuICAgIGl0KCdJdCBkZWxldGVzIGEgcG9zdCcsIChkb25lKT0+e1xuICAgICAgICBjb25zdCBwb3N0SWQgPSBpZDtcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLmRlbGV0ZShgL2FwaS9wb3N0cy8ke3Bvc3RJZH1gKVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdJdCBzaG91bGQgbm90IGRlbGV0ZSBwb3N0IHRoYXQgZG9lc25cXCd0IGV4aXN0IGluIERCJywgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IGlkO1xuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAuZGVsZXRlKGAvYXBpL3Bvc3RzLyR7cG9zdElkfWApXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnZXJyb3InKS5lcWwoXCJQb3N0IGRvZXNuJ3QgZXhpc3QhXCIpXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgXG5cbn0pXG5cbn0pIl19","map":{"version":3,"sources":["post_test.js"],"names":["require","config","user","autToken","id","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","logInUser","Token","userToken","Post","title","content","poster","save","set","field","attach","get","message","eq","postId","responseponse","patch","after","delete"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport { User } from '../models/User';\n\nlet user, autToken, id;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Post Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });   \n    \n    \n    /**\n     * POST a post route\n     */\n\ndescribe(\"POST /api/posts\", ()=>{\n    before(()=>{\n        mongoose.connection.dropCollection('users')\n        mongoose.connection.dropCollection('posts')\n    })\n   \n    \n\n    // create user and login \n    it('creates new user ', (done)=>{\n\n        const newUser = new User({\n            username:\"menase\",\n            email:\"menase@mail.com\",\n            password:\"password test\"\n       \n        })\n\n        chai.request(server)\n        .post(\"/api/users\")\n        .send(newUser)\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"user created!\");\n        done();   \n        })\n    })\n\n\n    // login\n    const logInUser = {\n        username:'menase',\n        password:'password test'\n    }\n\n    it('login a user', (done)=>{\n        chai.request(server)\n        .post('/api/users/login')\n        .send({username:logInUser.username, password:logInUser.password})\n        .end(function(err, response) {\n            if (err) return done(err);\n\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            autToken = response.body.Token\n            \n            done();\n        });\n\n    })\n\n    //post creation\n    it(\"creates a new post\", (done)=>{\n        const userToken = 'Bearer ' + autToken\n        \n        const post = new Post({\n            title: \"unit testing\",\n            content: \"I am testing nodejs api using mocha with chai assertion library\",\n            poster: \"/home/nyakamwe/Pictures/MPAMAVUTA.png\"\n            \n        })\n        \n        post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n    \n        //set the auth header with our token\n        .set('Content-Type', 'multipart/form-data')\n        .set('Authorization', 'Bearer ' + autToken)\n        .field({\n            title: \"unit testing\",\n            content: \"I am testing nodejs api using mocha with chai assertion library\"\n            \n        })\n        .attach('poster', '/home/nyakamwe/Pictures/MPAMAVUTA.png')\n        .end(function(error, response) {\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post Saved successfully\");\n\n            id = post.id;\n            \n        done();  \n        });\n    })\n\n    // it(\"creates a new post\", (done)=>{\n    //     const userToken = 'Bearer ' + autToken\n        \n    //     const post = new Post({\n    //         title: \"unit testing\",\n    //         content: \"I am testing nodejs api using mocha with chai assertion library\"\n            \n    //     })\n        \n    //     post.save()\n        \n    //     chai.request(server)\n    //     .post(\"/api/posts\")\n    \n    //     //set the auth header with our token\n    //     .set('Content-Type', 'multipart/form-data')\n    //     .set('Authorization', 'Bearer ' + autToken)\n    //     .field({\n    //         title: \"unit testing\",\n    //         content: \"I am testing nodejs api using mocha with chai assertion library\"\n            \n    //     })\n    //     .attach('poster', '/home/nyakamwe/Pictures/MPAMAVUTA.png')\n    //     .end(function(error, response) {\n    //         response.should.have.status(201);\n    //         response.body.should.be.a('object');\n    //         response.body.should.have.property('message').eql(\"Post Saved successfully\");\n\n    //         id = post.id;\n    //     done();  \n    //     });\n    // })\n\n    // it(\"creates a new post\", (done)=>{\n    //     const userToken = 'Bearer ' + autToken\n        \n    //     const post = new Post({\n    //         title: \"unit testing\",\n    //         content: \"I am testing nodejs api using mocha with chai assertion library\"\n            \n    //     })\n        \n    //     post.save()\n        \n    //     chai.request(server)\n    //     .post(\"/api/posts\")\n    \n    //     //set the auth header with our token\n    //     .set('Authorization', 'Bearer ' + autToken)\n    //     .send(post)\n    //     .end(function(error, response) {\n    //         response.should.have.status(201);\n    //         response.body.should.be.a('object');\n    //         response.body.should.have.property('message').eql(\"Post Saved successfully\");\n\n    //         id= post.id\n    //     done();  \n    //     });\n    // })\n        \n\n    const userToken = 'Bearer ' + autToken\n\n    it(\"fails to create a post due to unathorized user\", (done)=>{\n\n        const post = new Post({\n            title: \"keza testing \",\n            content: \"unit testing with mocha and user keza\"\n            \n        })\n        // post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n        .send(post)\n        //set the auth header with our token\n        .set('Authorization', userToken)\n        .end(function(error, response) {\n            response.should.have.status(403);\n            response.body.should.have.property('message').eql(\"Invalid Token\");\n        done();  \n        });\n       \n        \n    }) \n\n    it(\"do not create a post without title and content\", (done)=>{\n\n        const post = new Post({\n            title: \"\",\n            content: \"\"\n            \n        })\n        // post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n    \n        //set the auth header with our token\n        .set('Authorization', 'Bearer ' + autToken)\n        .send(post)\n        .end(function(error, response) {\n            response.should.have.status(400);\n            response.body.should.have.property('message').eql(\"Title and content are required\")\n        done();  \n        });\n    })\n\n        \n}) \n    \n    \n    /**\n     * test GET posts route\n     */\n\n  describe(\"GET /api/posts\", ()=>{\n        \n    it(\"returns all posts\", (done)=>{\n        chai.request(server)\n        .get(\"/api/posts\")\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.message.should.be.eq(\"Fetched successfully\")\n        done();\n        })\n        \n    })\n\n    // it(\"not returns all posts\", (done)=>{\n    //     chai.request(server)\n    //     .get(\"/api/post\")\n    //     .end((err, response)=>{\n    //         response.should.have.status(404);\n\n    //     done();\n    //     })\n        \n    // })\n\n    \n});\n\n/**\n * test GET(by id) post route\n */\n\ndescribe(\"GET /api/posts/:id\", ()=>{\n    \n    it(\"returns a single post\", (done)=>{\n        const postId = id;\n        chai.request(server)\n        .get(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            response.body.message.should.be.eq(\"successfully fetched\")\n            \n        done();\n        })\n        \n    });\n\n    \n    it(\"not returns a single post at this id\", (done)=>{\n        const postId = 1234;\n        chai.request(server)\n        .get(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, responseponse)=>{\n            responseponse.should.have.status(404);\n            responseponse.body.error.should.be.eq(\"Post does not exist!\")\n            \n        done();\n        })\n        \n    })\n})\n\n\n\n    /**\n     * PUT a post route\n     */\n\n describe('PUT /api/posts/:id', ()=>{\n    it('updates a post', (done)=>{\n        \n        const postId = id\n        const post = {\n            title: \"unit testing\",\n            content: \"mocha Js framework for testing\",\n            \n        }\n        chai.request(server)\n        .patch(`/api/posts/${postId}`)\n        .send(post)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post successfully updated!\")\n            \n        done();\n        })\n    })\n\n    it('don\\'t updates a post when title or content is empty', (done)=>{\n        \n        const postId = id\n        const post = {\n            title: \"avicii\",\n            content: \"\",\n            \n        }\n        chai.request(server)\n        .patch(`/api/posts/${postId}`)\n        .send(post)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(400);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Title and content need value!\")\n            \n        done();\n        })\n    })\n\n\n})\n\n    /**\n     * DELETE post route\n     */\n\n  describe('DELETE /api/posts/:id', ()=>{\n      after(()=>{\n        mongoose.connection.dropCollection('users') \n        mongoose.connection.dropCollection('posts')\n      })\n    \n\n    it('It deletes a post', (done)=>{\n        const postId = id;\n        chai.request(server)\n        .delete(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n\n        done();\n        })\n    })\n\n    it('It should not delete post that doesn\\'t exist in DB', (done)=>{\n        const postId = id;\n        chai.request(server)\n        .delete(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(404);\n            response.body.should.have.property('error').eql(\"Post doesn't exist!\")\n        done();\n        })\n    })\n\n    \n\n})\n\n})"]}},"mtime":1651129785106},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/user_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for User Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n   * Test create new user\n   */\n\n  describe('POST /api/users', () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection(\"users\");\n    });\n    it('creates new user ', done => {\n      const newUser = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(newUser).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user created!\");\n        done();\n      });\n    });\n    it('User exists', done => {\n      user = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(user).end((err, response) => {\n        response.should.have.status(403);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user already exists\");\n        done();\n      });\n    });\n    it('No new user without username, email or password ', done => {\n      const user = new _User.User({\n        username: \"\",\n        email: \"\",\n        password: \"\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(user).end((err, response) => {\n        response.should.have.status(403);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"All fields are required\");\n        done();\n      });\n    });\n  });\n  /**\n   * POST User login\n   */\n\n  describe('POST /api/users/login', () => {\n    after(() => {\n      _mongoose.default.connection.dropCollection('users');\n    });\n    const logInUser = {\n      username: 'menase',\n      password: 'password test'\n    };\n    it('login a user', done => {\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        autToken = response.body.Token;\n        done();\n      });\n    });\n    it('not login a user with incorrect credentials', done => {\n      const logInUser = {\n        username: 'menase',\n        password: 'password'\n      };\n\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(403);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Invalid username or password.\");\n        done();\n      });\n    });\n    it('not login anonymous user', done => {\n      const logInUser = {\n        username: 'hereweare',\n        password: 'hereweare'\n      };\n\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(400);\n        response.body.should.have.property('message').eql(\"Not User.\");\n        done();\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiY2hhaSIsInNob3VsZCIsInVzZSIsImNoYWlIdHRwIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJkb25lIiwiZGJVUkkiLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUiIsIkRCX1BBU1NXT1JEIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsInJlc3BvbnNldWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJjb25uZWN0aW9uIiwiZHJvcENvbGxlY3Rpb24iLCJpdCIsIm5ld1VzZXIiLCJVc2VyIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicmVxdWVzdCIsInNlcnZlciIsInBvc3QiLCJzZW5kIiwiZW5kIiwiZXJyIiwicmVzcG9uc2UiLCJoYXZlIiwic3RhdHVzIiwiYm9keSIsImJlIiwiYSIsInByb3BlcnR5IiwiZXFsIiwiYWZ0ZXIiLCJsb2dJblVzZXIiLCJUb2tlbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFLQTs7OztBQUpBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQixHLENBR0E7OztBQUdBLElBQUlDLElBQUosRUFBVUMsUUFBVixDLENBRUE7O0FBQ0FDLGNBQUtDLE1BQUw7O0FBRUFELGNBQUtFLEdBQUwsQ0FBU0MsaUJBQVQ7O0FBR0FDLFFBQVEsQ0FBQyx5QkFBRCxFQUE0QixNQUFJO0FBQ3BDQyxFQUFBQSxNQUFNLENBQUMsVUFBU0MsSUFBVCxFQUFlO0FBQ2xCO0FBQ0osVUFBTUMsS0FBSyxHQUFHLGlCQUFnQkMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLE9BQVEsSUFBR0YsT0FBTyxDQUFDQyxHQUFSLENBQVlFLFdBQVksZ0ZBQTdFOztBQUNBQyxzQkFBU0MsT0FBVCxD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QUFuQyxFQUE4Q0MsR0FBOUMsQ0FBa0QsK0JBQWxEO0FBQ0pyQyxRQUFBQSxJQUFJO0FBQ0gsT0FWRDtBQVlILEtBakJDLENBQUY7QUFtQkFrQixJQUFBQSxFQUFFLENBQUMsMEJBQUQsRUFBOEJsQixJQUFELElBQVE7QUFDbkMsWUFBTXVDLFNBQVMsR0FBRztBQUNkbEIsUUFBQUEsUUFBUSxFQUFDLFdBREs7QUFFZEUsUUFBQUEsUUFBUSxFQUFDO0FBRkssT0FBbEI7O0FBSUE3QixvQkFBSzhCLE9BQUwsQ0FBYUMsY0FBYixFQUNDQyxJQURELENBQ00sa0JBRE4sRUFFQ0MsSUFGRCxDQUVNO0FBQUNOLFFBQUFBLFFBQVEsRUFBQ2tCLFNBQVMsQ0FBQ2xCLFFBQXBCO0FBQThCRSxRQUFBQSxRQUFRLEVBQUNnQixTQUFTLENBQUNoQjtBQUFqRCxPQUZOLEVBR0NLLEdBSEQsQ0FHSyxVQUFTQyxHQUFULEVBQWNDLFFBQWQsRUFBd0I7QUFDekIsWUFBSUQsR0FBSixFQUFTLE9BQU83QixJQUFJLENBQUM2QixHQUFELENBQVg7QUFFVEMsUUFBQUEsUUFBUSxDQUFDbkMsTUFBVCxDQUFnQm9DLElBQWhCLENBQXFCQyxNQUFyQixDQUE0QixHQUE1QjtBQUNBRixRQUFBQSxRQUFRLENBQUNHLElBQVQsQ0FBY3RDLE1BQWQsQ0FBcUJvQyxJQUFyQixDQUEwQkssUUFBMUIsQ0FBbUMsU0FBbkMsRUFBOENDLEdBQTlDLENBQWtELFdBQWxEO0FBQ0pyQyxRQUFBQSxJQUFJO0FBQ0gsT0FURDtBQVdILEtBaEJDLENBQUY7QUFvQkgsR0FqRVEsQ0FBUjtBQW1FSixDQXJLTyxDQUFSIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy90ZXN0LyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgY2hhaSBmcm9tICdjaGFpJztcbmltcG9ydCBzZXJ2ZXIgZnJvbSBcIi4uL2luZGV4XCI7XG5pbXBvcnQgY2hhaUh0dHAgZnJvbSBcImNoYWktaHR0cFwiO1xuaW1wb3J0IHtQb3N0fSBmcm9tIFwiLi4vbW9kZWxzL1Bvc3RcIjtcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5cblxuLy90byBtb2NrIGEgZnVuY3Rpb24gZHVyaW5nIHRlc3RpbmdcbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuLi9tb2RlbHMvVXNlcic7XG5cbmxldCB1c2VyLCBhdXRUb2tlbjtcblxuLy9hc3NlcnRpb24gc3R5bGVcbmNoYWkuc2hvdWxkKCk7XG5cbmNoYWkudXNlKGNoYWlIdHRwKSAgXG4gICAgXG4gICAgXG5kZXNjcmliZSgnVGVzdCBmb3IgVXNlciBFbmRwb2ludHMnLCAoKT0+e1xuICAgIGJlZm9yZShmdW5jdGlvbihkb25lKSB7XG4gICAgICAgIC8vIENvbm5lY3QgdG8gTW9uZ29EQiBkYXRhYmFzZVxuICAgIGNvbnN0IGRiVVJJID1gbW9uZ29kYitzcnY6Ly8ke3Byb2Nlc3MuZW52LkRCX1VTRVJ9OiR7cHJvY2Vzcy5lbnYuREJfUEFTU1dPUkR9QG5vZGUtYXBwbGljYXRpb25zLmZlNGF1Lm1vbmdvZGIubmV0L25vZGUtdHV0b3JpYWw/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5YFxuICAgIG1vbmdvb3NlLmNvbm5lY3QoZGJVUkkse3VzZU5ld1VybFBhcnNlcjp0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6dHJ1ZX0pLnRoZW4oKHJlc3BvbnNldWx0KT0+e1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGIgQ29ubmVjdGVkIScpXG4gICAgICAgICAgICBcblxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgIH0pLmNhdGNoKChlcnJvcik9PntcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgICAgICB9KVxuICAgIFxuICAgICBcblxuICAgIH0pO1xuICAgIFxuICAgIFxuXG4gICAgLyoqXG4gICAgICogVGVzdCBjcmVhdGUgbmV3IHVzZXJcbiAgICAgKi9cblxuICAgICBkZXNjcmliZSgnUE9TVCAvYXBpL3VzZXJzJywgKCk9PntcbiAgICAgICAgYmVmb3JlKCgpPT57XG4gICAgICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKFwidXNlcnNcIik7XG4gICAgICAgIH0pXG5cbiAgICAgICAgaXQoJ2NyZWF0ZXMgbmV3IHVzZXIgJywgKGRvbmUpPT57XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld1VzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6XCJtZW5hc2VcIixcbiAgICAgICAgICAgICAgICBlbWFpbDpcIm1lbmFzZUBtYWlsLmNvbVwiLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOlwicGFzc3dvcmQgdGVzdFwiXG4gICAgICAgICAgIFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KFwiL2FwaS91c2Vyc1wiKVxuICAgICAgICAgICAgLnNlbmQobmV3VXNlcilcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInVzZXIgY3JlYXRlZCFcIik7XG4gICAgICAgICAgICBkb25lKCk7ICAgXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG5cbiAgICAgICAgaXQoJ1VzZXIgZXhpc3RzJywgKGRvbmUpPT57XG5cbiAgICAgICAgICAgIHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6XCJtZW5hc2VcIixcbiAgICAgICAgICAgICAgICBlbWFpbDpcIm1lbmFzZUBtYWlsLmNvbVwiLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOlwicGFzc3dvcmQgdGVzdFwiXG4gICAgICAgICAgIFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KFwiL2FwaS91c2Vyc1wiKVxuICAgICAgICAgICAgLnNlbmQodXNlcilcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwMyk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInVzZXIgYWxyZWFkeSBleGlzdHNcIik7XG4gICAgICAgICAgICBkb25lKCk7ICAgXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgaXQoJ05vIG5ldyB1c2VyIHdpdGhvdXQgdXNlcm5hbWUsIGVtYWlsIG9yIHBhc3N3b3JkICcsIChkb25lKT0+e1xuXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xuICAgICAgICAgICAgICAgIHVzZXJuYW1lOlwiXCIsXG4gICAgICAgICAgICAgICAgZW1haWw6XCJcIixcbiAgICAgICAgICAgICAgICBwYXNzd29yZDpcIlwiXG4gICAgICAgICAgIFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KFwiL2FwaS91c2Vyc1wiKVxuICAgICAgICAgICAgLnNlbmQodXNlcilcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwMyk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIkFsbCBmaWVsZHMgYXJlIHJlcXVpcmVkXCIpO1xuICAgICAgICAgICAgZG9uZSgpOyAgIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgIH0pXG5cbiAgICAvKipcbiAgICAgKiBQT1NUIFVzZXIgbG9naW5cbiAgICAgKi9cblxuICAgICBkZXNjcmliZSgnUE9TVCAvYXBpL3VzZXJzL2xvZ2luJywgKCk9PntcbiAgICAgICAgIGFmdGVyKCgpPT57XG4gICAgICAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wQ29sbGVjdGlvbigndXNlcnMnKVxuICAgICAgICAgfSlcbiAgICAgICBcbiAgICAgICAgY29uc3QgbG9nSW5Vc2VyID0ge1xuICAgICAgICAgICAgdXNlcm5hbWU6J21lbmFzZScsXG4gICAgICAgICAgICBwYXNzd29yZDoncGFzc3dvcmQgdGVzdCdcbiAgICAgICAgfVxuXG4gICAgICAgIGl0KCdsb2dpbiBhIHVzZXInLCAoZG9uZSk9PntcbiAgICAgICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgICAgICAucG9zdCgnL2FwaS91c2Vycy9sb2dpbicpXG4gICAgICAgICAgICAuc2VuZCh7dXNlcm5hbWU6bG9nSW5Vc2VyLnVzZXJuYW1lLCBwYXNzd29yZDpsb2dJblVzZXIucGFzc3dvcmR9KVxuICAgICAgICAgICAgLmVuZChmdW5jdGlvbihlcnIsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGRvbmUoZXJyKTtcblxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgICAgIGF1dFRva2VuID0gcmVzcG9uc2UuYm9keS5Ub2tlblxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pXG5cbiAgICAgICAgaXQoJ25vdCBsb2dpbiBhIHVzZXIgd2l0aCBpbmNvcnJlY3QgY3JlZGVudGlhbHMnLCAoZG9uZSk9PntcbiAgICAgICAgICAgIGNvbnN0IGxvZ0luVXNlciA9IHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTonbWVuYXNlJyxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDoncGFzc3dvcmQnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnMvbG9naW4nKVxuICAgICAgICAgICAgLnNlbmQoe3VzZXJuYW1lOmxvZ0luVXNlci51c2VybmFtZSwgcGFzc3dvcmQ6bG9nSW5Vc2VyLnBhc3N3b3JkfSlcbiAgICAgICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyLCByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiBkb25lKGVycik7XG5cbiAgICAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAzKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiSW52YWxpZCB1c2VybmFtZSBvciBwYXNzd29yZC5cIik7XG4gICAgICAgICAgICBkb25lKCk7ICAgXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KVxuXG4gICAgICAgIGl0KCdub3QgbG9naW4gYW5vbnltb3VzIHVzZXInLCAoZG9uZSk9PntcbiAgICAgICAgICAgIGNvbnN0IGxvZ0luVXNlciA9IHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTonaGVyZXdlYXJlJyxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDonaGVyZXdlYXJlJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KCcvYXBpL3VzZXJzL2xvZ2luJylcbiAgICAgICAgICAgIC5zZW5kKHt1c2VybmFtZTpsb2dJblVzZXIudXNlcm5hbWUsIHBhc3N3b3JkOmxvZ0luVXNlci5wYXNzd29yZH0pXG4gICAgICAgICAgICAuZW5kKGZ1bmN0aW9uKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuXG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwMCk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIk5vdCBVc2VyLlwiKTtcbiAgICAgICAgICAgIGRvbmUoKTsgICBcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pXG5cblxuICAgICAgIFxuICAgIH0pXG5cbn0pICAgICJdfQ==","map":{"version":3,"sources":["user_test.js"],"names":["require","config","user","autToken","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","after","logInUser","Token"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport { User } from '../models/User';\n\nlet user, autToken;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for User Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n            \n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n    \n     \n\n    });\n    \n    \n\n    /**\n     * Test create new user\n     */\n\n     describe('POST /api/users', ()=>{\n        before(()=>{\n            mongoose.connection.dropCollection(\"users\");\n        })\n\n        it('creates new user ', (done)=>{\n\n            const newUser = new User({\n                username:\"menase\",\n                email:\"menase@mail.com\",\n                password:\"password test\"\n           \n            })\n\n            chai.request(server)\n            .post(\"/api/users\")\n            .send(newUser)\n            .end((err, response)=>{\n                response.should.have.status(201);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"user created!\");\n            done();   \n            })\n        })\n\n\n        it('User exists', (done)=>{\n\n            user = new User({\n                username:\"menase\",\n                email:\"menase@mail.com\",\n                password:\"password test\"\n           \n            })\n\n            chai.request(server)\n            .post(\"/api/users\")\n            .send(user)\n            .end((err, response)=>{\n                response.should.have.status(403);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"user already exists\");\n            done();   \n            })\n\n        })\n\n        it('No new user without username, email or password ', (done)=>{\n\n            const user = new User({\n                username:\"\",\n                email:\"\",\n                password:\"\"\n           \n            })\n\n            chai.request(server)\n            .post(\"/api/users\")\n            .send(user)\n            .end((err, response)=>{\n                response.should.have.status(403);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"All fields are required\");\n            done();   \n            })\n        })\n\n    })\n\n    /**\n     * POST User login\n     */\n\n     describe('POST /api/users/login', ()=>{\n         after(()=>{\n             mongoose.connection.dropCollection('users')\n         })\n       \n        const logInUser = {\n            username:'menase',\n            password:'password test'\n        }\n\n        it('login a user', (done)=>{\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(200);\n                response.body.should.be.a('object');\n                autToken = response.body.Token\n                \n                done();\n            });\n\n        })\n\n        it('not login a user with incorrect credentials', (done)=>{\n            const logInUser = {\n                username:'menase',\n                password:'password'\n            }\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(403);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"Invalid username or password.\");\n            done();   \n            });\n\n        })\n\n        it('not login anonymous user', (done)=>{\n            const logInUser = {\n                username:'hereweare',\n                password:'hereweare'\n            }\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(400);\n                response.body.should.have.property('message').eql(\"Not User.\");\n            done();   \n            });\n\n        })\n\n\n       \n    })\n\n})    "]}},"mtime":1651129965736},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/comment_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken, id, cId; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for Comment Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n  * POST comment route\n  */\n\n  describe('POST /api/posts/:id/comment', () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection('users');\n\n      _mongoose.default.connection.dropCollection('comments');\n    }); // create user and login \n\n    it('creates new user ', done => {\n      const newUser = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(newUser).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user created!\");\n        done();\n      });\n    }); // login\n\n    const logInUser = {\n      username: 'menase',\n      password: 'password test'\n    };\n    it('login a user', done => {\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        autToken = response.body.Token;\n        done();\n      });\n    }); //post creation\n\n    it(\"creates a new post\", done => {\n      const userToken = 'Bearer ' + autToken;\n      const post = new _Post.Post({\n        title: \"unit testing\",\n        content: \"I am testing nodejs api using mocha with chai assertion library\",\n        poster: \"/home/nyakamwe/Pictures/MPAMAVUTA.png\"\n      });\n      post.save();\n\n      _chai.default.request(_index.default).post(\"/api/posts\") //set the auth header with our token\n      .set('Content-Type', 'multipart/form-data').set('Authorization', 'Bearer ' + autToken).field({\n        title: \"unit testing\",\n        content: \"I am testing nodejs api using mocha with chai assertion library\"\n      }).attach('poster', '/home/nyakamwe/Pictures/MPAMAVUTA.png').end(function (error, response) {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Post Saved successfully\");\n        id = post.id;\n        done();\n      });\n    }); // it(\"creates a new post\", (done)=>{\n    //     const userToken = 'Bearer ' + autToken\n    //     chai.request(server)\n    //     .post(\"/api/posts\")\n    //     //set the auth header with our token\n    //     .set('Content-Type', 'multipart/form-data')\n    //     .set('Authorization', 'Bearer ' + autToken)\n    //     .field({\n    //         title: \"unit testing\",\n    //         content: \"I am testing nodejs api using mocha with chai assertion library\"\n    //     })\n    //     .attach('poster', '/home/nyakamwe/Pictures/MPAMAVUTA.png')\n    //     .end(function(error, response) {\n    //         response.should.have.status(201);\n    //         response.body.should.be.a('object');\n    //         response.body.should.have.property('message').eql(\"Post Saved successfully\");\n    //         id = post.id;\n    //     done();  \n    //     });\n    // })\n\n    it('comment on a post', done => {\n      const postId = id;\n      const newComment = new _Post.Comment({\n        postId,\n        description: \"testing a comment\"\n      });\n      newComment.save();\n\n      _chai.default.request(_index.default).post(`/api/posts/${postId}/comment`).send(newComment).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('comment');\n        cId = newComment.id;\n        done();\n      });\n    });\n    it('handles when you want to comment on non existing post', done => {\n      const postId = \"62597f8412f8da13b4e0a385\";\n      const newComment = {\n        postId,\n        description: \"testing a comment\"\n      };\n\n      _chai.default.request(_index.default).post(`/api/posts/${postId}/comment`).send(newComment).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Post not available\");\n        done();\n      });\n    });\n  });\n  /**\n   * GET comment route\n  */\n\n  describe('GET /api/posts/:id/comment', () => {\n    it('shows all comments related to specific post', done => {\n      const postId = id;\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}/comment`).send({\n        postId\n      }).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.have.a('object');\n        done();\n      });\n    });\n    it('show error when that post in not in DB', done => {\n      const postId = \"625b07c93cc2f2b0163f1a75\";\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}/comment`).send({\n        postId\n      }).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.have.property('message').eql(\"post not found\");\n        done();\n      });\n    });\n    it('shows individual comment', done => {\n      const commentId = cId;\n\n      _chai.default.request(_index.default).get(`/api/comments/${commentId}`).send({\n        commentId\n      }).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        response.body.should.have.property('comment');\n        done();\n      });\n    });\n    it('shows error for non existing comment', done => {\n      const commentId = \"625943e64e9dd47477f9be96\";\n\n      _chai.default.request(_index.default).get(`/api/comments/${commentId}`).send({\n        commentId\n      }).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.be.a('object');\n        response.body.should.have.property('comment').eql(\"Comment Doesn't Exists\");\n        done();\n      });\n    });\n  });\n  /**\n   * DELETE comment route\n   */\n\n  describe('DELETE /api/comments/:id', () => {\n    it('deletes comment on a post', done => {\n      const commentId = cId;\n\n      _chai.default.request(_index.default).delete(`/api/comments/${commentId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        done();\n      });\n    });\n    it('handles when you want to delete non existing comment', done => {\n      const commentId = \"625943e64e9dd47477f9be96\";\n\n      _chai.default.request(_index.default).delete(`/api/comments/${commentId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.have.property('message').eql(\"Comment doesn't exist\");\n        done();\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiaWQiLCJjSWQiLCJjaGFpIiwic2hvdWxkIiwidXNlIiwiY2hhaUh0dHAiLCJkZXNjcmliZSIsImJlZm9yZSIsImRvbmUiLCJkYlVSSSIsInByb2Nlc3MiLCJlbnYiLCJEQl9VU0VSIiwiREJfUEFTU1dPUkQiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwicmVzcG9uc2V1bHQiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsImNvbm5lY3Rpb24iLCJkcm9wQ29sbGVjdGlvbiIsIml0IiwibmV3VXNlciIsIlVzZXIiLCJ1c2VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJyZXF1ZXN0Iiwic2VydmVyIiwicG9zdCIsInNlbmQiLCJlbmQiLCJlcnIiLCJyZXNwb25zZSIsImhhdmUiLCJzdGF0dXMiLCJib2R5IiwiYmUiLCJhIiwicHJvcGVydHkiLCJlcWwiLCJsb2dJblVzZXIiLCJUb2tlbiIsInVzZXJUb2tlbiIsIlBvc3QiLCJ0aXRsZSIsImNvbnRlbnQiLCJwb3N0ZXIiLCJzYXZlIiwic2V0IiwiZmllbGQiLCJhdHRhY2giLCJwb3N0SWQiLCJuZXdDb21tZW50IiwiQ29tbWVudCIsImRlc2NyaXB0aW9uIiwiZ2V0IiwiY29tbWVudElkIiwiZGVsZXRlIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUtBOzs7O0FBSkFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JDLE1BQWxCLEcsQ0FHQTs7O0FBR0EsSUFBSUMsSUFBSixFQUFVQyxRQUFWLEVBQW9CQyxFQUFwQixFQUF3QkMsR0FBeEIsQyxDQUVBOztBQUNBQyxjQUFLQyxNQUFMOztBQUVBRCxjQUFLRSxHQUFMLENBQVNDLGlCQUFUOztBQUdBQyxRQUFRLENB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R0FBRzdELEdBQWxCOztBQUNBQyxvQkFBSzhCLE9BQUwsQ0FBYUMsY0FBYixFQUNDOEIsTUFERCxDQUNTLGlCQUFnQkQsU0FBVSxFQURuQyxFQUVDUixHQUZELENBRUssZUFGTCxFQUVzQixZQUFZdkQsUUFGbEMsRUFHQ3FDLEdBSEQsQ0FHSyxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBaUI7QUFDbEJBLFFBQUFBLFFBQVEsQ0FBQ25DLE1BQVQsQ0FBZ0JvQyxJQUFoQixDQUFxQkMsTUFBckIsQ0FBNEIsR0FBNUI7QUFFSmhDLFFBQUFBLElBQUk7QUFDSCxPQVBEO0FBUUgsS0FWQyxDQUFGO0FBWUFrQixJQUFBQSxFQUFFLENBQUMsc0RBQUQsRUFBMERsQixJQUFELElBQVE7QUFDL0QsWUFBTXNELFNBQVMsR0FBRywwQkFBbEI7O0FBQ0E1RCxvQkFBSzhCLE9BQUwsQ0FBYUMsY0FBYixFQUNDOEIsTUFERCxDQUNTLGlCQUFnQkQsU0FBVSxFQURuQyxFQUVDUixHQUZELENBRUssZUFGTCxFQUVzQixZQUFZdkQsUUFGbEMsRUFHQ3FDLEdBSEQsQ0FHSyxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBaUI7QUFDbEJBLFFBQUFBLFFBQVEsQ0FBQ25DLE1BQVQsQ0FBZ0JvQyxJQUFoQixDQUFxQkMsTUFBckIsQ0FBNEIsR0FBNUI7QUFDQUYsUUFBQUEsUUFBUSxDQUFDRyxJQUFULENBQWN0QyxNQUFkLENBQXFCb0MsSUFBckIsQ0FBMEJLLFFBQTFCLENBQW1DLFNBQW5DLEVBQThDQyxHQUE5QyxDQUFrRCx1QkFBbEQ7QUFDSnJDLFFBQUFBLElBQUk7QUFDSCxPQVBEO0FBUUgsS0FWQyxDQUFGO0FBWUgsR0F6Qk8sQ0FBUjtBQTBCSCxDQW5STyxDQUFSIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy90ZXN0LyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgY2hhaSBmcm9tICdjaGFpJztcbmltcG9ydCBzZXJ2ZXIgZnJvbSBcIi4uL2luZGV4XCI7XG5pbXBvcnQgY2hhaUh0dHAgZnJvbSBcImNoYWktaHR0cFwiO1xuaW1wb3J0IHtQb3N0LENvbW1lbnR9IGZyb20gXCIuLi9tb2RlbHMvUG9zdFwiO1xucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxuXG4vL3RvIG1vY2sgYSBmdW5jdGlvbiBkdXJpbmcgdGVzdGluZ1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uL21vZGVscy9Vc2VyJztcblxubGV0IHVzZXIsIGF1dFRva2VuLCBpZCwgY0lkO1xuXG4vL2Fzc2VydGlvbiBzdHlsZVxuY2hhaS5zaG91bGQoKTtcblxuY2hhaS51c2UoY2hhaUh0dHApICBcbiAgICBcbiAgICBcbmRlc2NyaWJlKCdUZXN0IGZvciBDb21tZW50IEVuZHBvaW50cycsICgpPT57XG4gICAgYmVmb3JlKGZ1bmN0aW9uKGRvbmUpIHtcbiAgICAgICAgLy8gQ29ubmVjdCB0byBNb25nb0RCIGRhdGFiYXNlXG4gICAgY29uc3QgZGJVUkkgPWBtb25nb2RiK3NydjovLyR7cHJvY2Vzcy5lbnYuREJfVVNFUn06JHtwcm9jZXNzLmVudi5EQl9QQVNTV09SRH1Abm9kZS1hcHBsaWNhdGlvbnMuZmU0YXUubW9uZ29kYi5uZXQvbm9kZS10dXRvcmlhbD9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHlgXG4gICAgbW9uZ29vc2UuY29ubmVjdChkYlVSSSx7dXNlTmV3VXJsUGFyc2VyOnRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTp0cnVlfSkudGhlbigocmVzcG9uc2V1bHQpPT57XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEYiBDb25uZWN0ZWQhJylcblxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgIH0pLmNhdGNoKChlcnJvcik9PntcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgICAgICB9KVxuXG5cbiAgICB9KTsgIFxuXG4gICAgLyoqXG4gICAgKiBQT1NUIGNvbW1lbnQgcm91dGVcbiAgICAqL1xuXG4gICAgIGRlc2NyaWJlKCdQT1NUIC9hcGkvcG9zdHMvOmlkL2NvbW1lbnQnLCAoKT0+e1xuICAgICAgICAgYmVmb3JlKCgpPT57XG4gICAgICAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wQ29sbGVjdGlvbigndXNlcnMnKVxuICAgICAgICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ2NvbW1lbnRzJylcbiAgICAgICAgIH0pXG5cbiAgICAgICAgLy8gY3JlYXRlIHVzZXIgYW5kIGxvZ2luIFxuICAgIGl0KCdjcmVhdGVzIG5ldyB1c2VyICcsIChkb25lKT0+e1xuXG4gICAgICAgIGNvbnN0IG5ld1VzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICB1c2VybmFtZTpcIm1lbmFzZVwiLFxuICAgICAgICAgICAgZW1haWw6XCJtZW5hc2VAbWFpbC5jb21cIixcbiAgICAgICAgICAgIHBhc3N3b3JkOlwicGFzc3dvcmQgdGVzdFwiXG4gICAgICAgXG4gICAgICAgIH0pXG5cbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoXCIvYXBpL3VzZXJzXCIpXG4gICAgICAgIC5zZW5kKG5ld1VzZXIpXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAxKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInVzZXIgY3JlYXRlZCFcIik7XG4gICAgICAgIGRvbmUoKTsgICBcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgLy8gbG9naW5cbiAgICBjb25zdCBsb2dJblVzZXIgPSB7XG4gICAgICAgIHVzZXJuYW1lOidtZW5hc2UnLFxuICAgICAgICBwYXNzd29yZDoncGFzc3dvcmQgdGVzdCdcbiAgICB9XG5cbiAgICBpdCgnbG9naW4gYSB1c2VyJywgKGRvbmUpPT57XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KCcvYXBpL3VzZXJzL2xvZ2luJylcbiAgICAgICAgLnNlbmQoe3VzZXJuYW1lOmxvZ0luVXNlci51c2VybmFtZSwgcGFzc3dvcmQ6bG9nSW5Vc2VyLnBhc3N3b3JkfSlcbiAgICAgICAgLmVuZChmdW5jdGlvbihlcnIsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuXG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgYXV0VG9rZW4gPSByZXNwb25zZS5ib2R5LlRva2VuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICB9KVxuXG4gICAgLy9wb3N0IGNyZWF0aW9uXG4gICAgaXQoXCJjcmVhdGVzIGEgbmV3IHBvc3RcIiwgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IHVzZXJUb2tlbiA9ICdCZWFyZXIgJyArIGF1dFRva2VuXG4gICAgICAgIFxuICAgICAgICBjb25zdCBwb3N0ID0gbmV3IFBvc3Qoe1xuICAgICAgICAgICAgdGl0bGU6IFwidW5pdCB0ZXN0aW5nXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIkkgYW0gdGVzdGluZyBub2RlanMgYXBpIHVzaW5nIG1vY2hhIHdpdGggY2hhaSBhc3NlcnRpb24gbGlicmFyeVwiLFxuICAgICAgICAgICAgcG9zdGVyOiBcIi9ob21lL255YWthbXdlL1BpY3R1cmVzL01QQU1BVlVUQS5wbmdcIlxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICBwb3N0LnNhdmUoKVxuICAgICAgICBcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoXCIvYXBpL3Bvc3RzXCIpXG4gICAgXG4gICAgICAgIC8vc2V0IHRoZSBhdXRoIGhlYWRlciB3aXRoIG91ciB0b2tlblxuICAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLmZpZWxkKHtcbiAgICAgICAgICAgIHRpdGxlOiBcInVuaXQgdGVzdGluZ1wiLFxuICAgICAgICAgICAgY29udGVudDogXCJJIGFtIHRlc3Rpbmcgbm9kZWpzIGFwaSB1c2luZyBtb2NoYSB3aXRoIGNoYWkgYXNzZXJ0aW9uIGxpYnJhcnlcIlxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRhY2goJ3Bvc3RlcicsICcvaG9tZS9ueWFrYW13ZS9QaWN0dXJlcy9NUEFNQVZVVEEucG5nJylcbiAgICAgICAgLmVuZChmdW5jdGlvbihlcnJvciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiUG9zdCBTYXZlZCBzdWNjZXNzZnVsbHlcIik7XG5cbiAgICAgICAgICAgIGlkID0gcG9zdC5pZDtcbiAgICAgICAgICAgIFxuICAgICAgICBkb25lKCk7ICBcbiAgICAgICAgfSk7XG4gICAgfSlcbiAgICBcbiAgICAvLyBpdChcImNyZWF0ZXMgYSBuZXcgcG9zdFwiLCAoZG9uZSk9PntcbiAgICAvLyAgICAgY29uc3QgdXNlclRva2VuID0gJ0JlYXJlciAnICsgYXV0VG9rZW5cblxuICAgIC8vICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgIC8vICAgICAucG9zdChcIi9hcGkvcG9zdHNcIilcbiAgICBcbiAgICAvLyAgICAgLy9zZXQgdGhlIGF1dGggaGVhZGVyIHdpdGggb3VyIHRva2VuXG4gICAgLy8gICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdtdWx0aXBhcnQvZm9ybS1kYXRhJylcbiAgICAvLyAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuKVxuICAgIC8vICAgICAuZmllbGQoe1xuICAgIC8vICAgICAgICAgdGl0bGU6IFwidW5pdCB0ZXN0aW5nXCIsXG4gICAgLy8gICAgICAgICBjb250ZW50OiBcIkkgYW0gdGVzdGluZyBub2RlanMgYXBpIHVzaW5nIG1vY2hhIHdpdGggY2hhaSBhc3NlcnRpb24gbGlicmFyeVwiXG4gICAgICAgICAgICBcbiAgICAvLyAgICAgfSlcbiAgICAvLyAgICAgLmF0dGFjaCgncG9zdGVyJywgJy9ob21lL255YWthbXdlL1BpY3R1cmVzL01QQU1BVlVUQS5wbmcnKVxuICAgIC8vICAgICAuZW5kKGZ1bmN0aW9uKGVycm9yLCByZXNwb25zZSkge1xuICAgIC8vICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgLy8gICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAvLyAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJQb3N0IFNhdmVkIHN1Y2Nlc3NmdWxseVwiKTtcblxuICAgIC8vICAgICAgICAgaWQgPSBwb3N0LmlkO1xuICAgIC8vICAgICBkb25lKCk7ICBcbiAgICAvLyAgICAgfSk7XG4gICAgLy8gfSlcblxuICAgIFxuXG4gICAgaXQoJ2NvbW1lbnQgb24gYSBwb3N0JywgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IGlkO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbmV3Q29tbWVudCA9IG5ldyBDb21tZW50KHtcbiAgICAgICAgICAgIHBvc3RJZCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOlwidGVzdGluZyBhIGNvbW1lbnRcIlxuICAgICAgICB9KTtcblxuICAgICAgICBuZXdDb21tZW50LnNhdmUoKVxuXG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KGAvYXBpL3Bvc3RzLyR7cG9zdElkfS9jb21tZW50YClcbiAgICAgICAgLnNlbmQobmV3Q29tbWVudClcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuIClcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdjb21tZW50JylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY0lkID0gbmV3Q29tbWVudC5pZFxuICAgICAgICAgICAgXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICB9KVxuXG5cbiAgICBpdCgnaGFuZGxlcyB3aGVuIHlvdSB3YW50IHRvIGNvbW1lbnQgb24gbm9uIGV4aXN0aW5nIHBvc3QnLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgcG9zdElkID0gXCI2MjU5N2Y4NDEyZjhkYTEzYjRlMGEzODVcIlxuICAgICAgICBjb25zdCBuZXdDb21tZW50ID17XG4gICAgICAgICAgICBwb3N0SWQsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjpcInRlc3RpbmcgYSBjb21tZW50XCJcbiAgICAgICAgfTtcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoYC9hcGkvcG9zdHMvJHtwb3N0SWR9L2NvbW1lbnRgKVxuICAgICAgICAuc2VuZChuZXdDb21tZW50KVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4gKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwNCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJQb3N0IG5vdCBhdmFpbGFibGVcIik7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgfSlcbiAgXG4gICAgLyoqXG4gICAgICogR0VUIGNvbW1lbnQgcm91dGVcbiAgICAqL1xuXG4gICAgZGVzY3JpYmUoJ0dFVCAvYXBpL3Bvc3RzLzppZC9jb21tZW50JywgKCk9PntcblxuICAgIGl0KCdzaG93cyBhbGwgY29tbWVudHMgcmVsYXRlZCB0byBzcGVjaWZpYyBwb3N0JywgKGRvbmUpPT57XG4gICAgICAgICAgICBjb25zdCBwb3N0SWQgPSBpZFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLmdldChgL2FwaS9wb3N0cy8ke3Bvc3RJZH0vY29tbWVudGApXG4gICAgICAgICAgICAuc2VuZCh7cG9zdElkfSlcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5hKCdvYmplY3QnKVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3cgZXJyb3Igd2hlbiB0aGF0IHBvc3QgaW4gbm90IGluIERCJywgKGRvbmUpPT57XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwb3N0SWQgPSBcIjYyNWIwN2M5M2NjMmYyYjAxNjNmMWE3NVwiXG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5nZXQoYC9hcGkvcG9zdHMvJHtwb3N0SWR9L2NvbW1lbnRgKVxuICAgICAgICAuc2VuZCh7cG9zdElkfSlcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInBvc3Qgbm90IGZvdW5kXCIpXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgXG5cbiAgICAgICAgXG4gICAgaXQoJ3Nob3dzIGluZGl2aWR1YWwgY29tbWVudCcsIChkb25lKT0+e1xuICAgICAgICBjb25zdCBjb21tZW50SWQgPSBjSWRcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLmdldChgL2FwaS9jb21tZW50cy8ke2NvbW1lbnRJZH1gKVxuICAgICAgICAuc2VuZCh7Y29tbWVudElkfSlcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0JylcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ2NvbW1lbnQnKVxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdzaG93cyBlcnJvciBmb3Igbm9uIGV4aXN0aW5nIGNvbW1lbnQnLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgY29tbWVudElkID0gXCI2MjU5NDNlNjRlOWRkNDc0NzdmOWJlOTZcIlxuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAuZ2V0KGAvYXBpL2NvbW1lbnRzLyR7Y29tbWVudElkfWApXG4gICAgICAgIC5zZW5kKHtjb21tZW50SWR9KVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwNCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKVxuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnY29tbWVudCcpLmVxbChcIkNvbW1lbnQgRG9lc24ndCBFeGlzdHNcIilcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICAgICAgXG4gICAgICAgIFxuICAgIH0pXG5cblxuICAgIC8qKlxuICAgICAqIERFTEVURSBjb21tZW50IHJvdXRlXG4gICAgICovXG5cbiAgICBkZXNjcmliZSgnREVMRVRFIC9hcGkvY29tbWVudHMvOmlkJywgKCk9PntcbiAgICAgICAgaXQoJ2RlbGV0ZXMgY29tbWVudCBvbiBhIHBvc3QnLCAoZG9uZSk9PntcbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnRJZCA9IGNJZFxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5kZWxldGUoYC9hcGkvY29tbWVudHMvJHtjb21tZW50SWR9YClcbiAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbiApXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnaGFuZGxlcyB3aGVuIHlvdSB3YW50IHRvIGRlbGV0ZSBub24gZXhpc3RpbmcgY29tbWVudCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgY29tbWVudElkID0gXCI2MjU5NDNlNjRlOWRkNDc0NzdmOWJlOTZcIlxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5kZWxldGUoYC9hcGkvY29tbWVudHMvJHtjb21tZW50SWR9YClcbiAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbiApXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJDb21tZW50IGRvZXNuJ3QgZXhpc3RcIilcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICB9KVxufSkgICAgIl19","map":{"version":3,"sources":["comment_test.js"],"names":["require","config","user","autToken","id","cId","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","logInUser","Token","userToken","Post","title","content","poster","save","set","field","attach","postId","newComment","Comment","description","get","commentId","delete"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post,Comment} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport { User } from '../models/User';\n\nlet user, autToken, id, cId;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Comment Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });  \n\n    /**\n    * POST comment route\n    */\n\n     describe('POST /api/posts/:id/comment', ()=>{\n         before(()=>{\n             mongoose.connection.dropCollection('users')\n             mongoose.connection.dropCollection('comments')\n         })\n\n        // create user and login \n    it('creates new user ', (done)=>{\n\n        const newUser = new User({\n            username:\"menase\",\n            email:\"menase@mail.com\",\n            password:\"password test\"\n       \n        })\n\n        chai.request(server)\n        .post(\"/api/users\")\n        .send(newUser)\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"user created!\");\n        done();   \n        })\n    })\n\n    // login\n    const logInUser = {\n        username:'menase',\n        password:'password test'\n    }\n\n    it('login a user', (done)=>{\n        chai.request(server)\n        .post('/api/users/login')\n        .send({username:logInUser.username, password:logInUser.password})\n        .end(function(err, response) {\n            if (err) return done(err);\n\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            autToken = response.body.Token\n            \n            done();\n        });\n\n    })\n\n    //post creation\n    it(\"creates a new post\", (done)=>{\n        const userToken = 'Bearer ' + autToken\n        \n        const post = new Post({\n            title: \"unit testing\",\n            content: \"I am testing nodejs api using mocha with chai assertion library\",\n            poster: \"/home/nyakamwe/Pictures/MPAMAVUTA.png\"\n            \n        })\n        \n        post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n    \n        //set the auth header with our token\n        .set('Content-Type', 'multipart/form-data')\n        .set('Authorization', 'Bearer ' + autToken)\n        .field({\n            title: \"unit testing\",\n            content: \"I am testing nodejs api using mocha with chai assertion library\"\n            \n        })\n        .attach('poster', '/home/nyakamwe/Pictures/MPAMAVUTA.png')\n        .end(function(error, response) {\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post Saved successfully\");\n\n            id = post.id;\n            \n        done();  \n        });\n    })\n    \n    // it(\"creates a new post\", (done)=>{\n    //     const userToken = 'Bearer ' + autToken\n\n    //     chai.request(server)\n    //     .post(\"/api/posts\")\n    \n    //     //set the auth header with our token\n    //     .set('Content-Type', 'multipart/form-data')\n    //     .set('Authorization', 'Bearer ' + autToken)\n    //     .field({\n    //         title: \"unit testing\",\n    //         content: \"I am testing nodejs api using mocha with chai assertion library\"\n            \n    //     })\n    //     .attach('poster', '/home/nyakamwe/Pictures/MPAMAVUTA.png')\n    //     .end(function(error, response) {\n    //         response.should.have.status(201);\n    //         response.body.should.be.a('object');\n    //         response.body.should.have.property('message').eql(\"Post Saved successfully\");\n\n    //         id = post.id;\n    //     done();  \n    //     });\n    // })\n\n    \n\n    it('comment on a post', (done)=>{\n        const postId = id;\n        \n        const newComment = new Comment({\n            postId,\n            description:\"testing a comment\"\n        });\n\n        newComment.save()\n\n        chai.request(server)\n        .post(`/api/posts/${postId}/comment`)\n        .send(newComment)\n        .set('Authorization', 'Bearer ' + autToken )\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('comment')\n            \n            cId = newComment.id\n            \n        done();\n        })\n    })\n\n\n    it('handles when you want to comment on non existing post', (done)=>{\n        const postId = \"62597f8412f8da13b4e0a385\"\n        const newComment ={\n            postId,\n            description:\"testing a comment\"\n        };\n        chai.request(server)\n        .post(`/api/posts/${postId}/comment`)\n        .send(newComment)\n        .set('Authorization', 'Bearer ' + autToken )\n        .end((err, response)=>{\n            response.should.have.status(404);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post not available\");\n        done();\n        })\n    })\n\n    })\n  \n    /**\n     * GET comment route\n    */\n\n    describe('GET /api/posts/:id/comment', ()=>{\n\n    it('shows all comments related to specific post', (done)=>{\n            const postId = id\n            \n            chai.request(server)\n            .get(`/api/posts/${postId}/comment`)\n            .send({postId})\n            .end((err, response)=>{\n                response.should.have.status(200);\n                response.body.should.have.a('object')\n            done();\n            })\n    })\n\n    it('show error when that post in not in DB', (done)=>{\n        \n        const postId = \"625b07c93cc2f2b0163f1a75\"\n        chai.request(server)\n        .get(`/api/posts/${postId}/comment`)\n        .send({postId})\n        .end((err, response)=>{\n            response.should.have.status(404);\n            response.body.should.have.property('message').eql(\"post not found\")\n        done();\n        })\n    })\n\n    \n\n        \n    it('shows individual comment', (done)=>{\n        const commentId = cId\n        chai.request(server)\n        .get(`/api/comments/${commentId}`)\n        .send({commentId})\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.be.a('object')\n            response.body.should.have.property('comment')\n        done();\n        })\n    })\n\n    it('shows error for non existing comment', (done)=>{\n        const commentId = \"625943e64e9dd47477f9be96\"\n        chai.request(server)\n        .get(`/api/comments/${commentId}`)\n        .send({commentId})\n        .end((err, response)=>{\n            response.should.have.status(404);\n            response.body.should.be.a('object')\n            response.body.should.have.property('comment').eql(\"Comment Doesn't Exists\")\n        done();\n        })\n    })\n\n        \n        \n    })\n\n\n    /**\n     * DELETE comment route\n     */\n\n    describe('DELETE /api/comments/:id', ()=>{\n        it('deletes comment on a post', (done)=>{\n            const commentId = cId\n            chai.request(server)\n            .delete(`/api/comments/${commentId}`)\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(200);\n                \n            done();\n            })\n        })\n\n        it('handles when you want to delete non existing comment', (done)=>{\n            const commentId = \"625943e64e9dd47477f9be96\"\n            chai.request(server)\n            .delete(`/api/comments/${commentId}`)\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(404);\n                response.body.should.have.property('message').eql(\"Comment doesn't exist\")\n            done();\n            })\n        })\n\n    })\n})    "]}},"mtime":1651129744235},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/contact_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"// import mongoose from 'mongoose';\n// import chai from 'chai';\n// import server from \"../index\";\n// import chaiHttp from \"chai-http\";\n// import {Post} from \"../models/Post\";\n// require(\"dotenv\").config();\n// //to mock a function during testing\n// import { User } from '../models/User';\n// let user, autToken;\n// //assertion style\n// chai.should();\n// chai.use(chaiHttp)  \n// describe('Test for Message Endpoints', ()=>{\n//     before(function(done) {\n//         // Connect to MongoDB database\n//     const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n//     mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n//             console.log('Db Connected!')\n//             done();\n//         }).catch((error)=>{\n//             console.log(error)\n//         })\n//     });     \n//     /**\n//  * POST Contact route\n//  */\n// describe('POST /api/messages', ()=>{\n//     before(()=>{\n//         mongoose.connection.dropCollection('messages')\n//         mongoose.connection.dropCollection('users')\n//     })\n//     // create user and login \n//     it('creates new user ', (done)=>{\n//         const newUser = new User({\n//             username:\"menase\",\n//             email:\"menase@mail.com\",\n//             password:\"password test\"\n//         })\n//         chai.request(server)\n//         .post(\"/api/users\")\n//         .send(newUser)\n//         .end((err, response)=>{\n//             response.should.have.status(201);\n//             response.body.should.be.a('object');\n//             response.body.should.have.property('message').eql(\"user created!\");\n//         done();   \n//         })\n//     })\n//     // login\n//     const logInUser = {\n//         username:'menase',\n//         password:'password test'\n//     }\n//     it('login a user', (done)=>{\n//         chai.request(server)\n//         .post('/api/users/login')\n//         .send({username:logInUser.username, password:logInUser.password})\n//         .end(function(err, response) {\n//             if (err) return done(err);\n//             response.should.have.status(200);\n//             response.body.should.be.a('object');\n//             autToken = response.body.Token\n//             done();\n//         });\n//     })\n//     it('Send messages', (done)=>{\n//         const message = {\n//             sender: 'test@mail.com',\n//             name:\"Eric gasana\",\n//             message: \"I would like to thank you for those valuable posts\",\n//         }\n//         chai.request(server)\n//         .post(\"/api/messages\")\n//         .send(message)\n//         .end((err, response)=>{\n//             response.should.have.status(201);\n//             response.body.should.property('message').eql(\"Message Sent successfully\")\n//         done();\n//         })\n//     })\n//     it('dont send a message when sender, message content is not provided', (done)=>{\n//         const message = {\n//             sender: '',\n//             name:\"sawa\",\n//             message: \"\",\n//         }\n//         chai.request(server)\n//         .post(\"/api/messages\")\n//         .send(message)\n//         .end((err, response)=>{\n//             response.should.have.status(403);\n//             response.body.should.property('message').eql(\"sender and message are required\")\n//         done();\n//         })\n//     })\n// })\n//     /**\n//      * GET Contact route\n//      */\n//  describe('GET /api/messages', ()=>{\n//     after(()=>{\n//         mongoose.connection.dropCollection('messages')\n//     })\n//     it('get all messages', (done)=>{\n//         chai.request(server)\n//         .get(\"/api/messages\")\n//         .set('Authorization', 'Bearer ' + autToken)\n//         .end((err, response)=>{\n//             response.should.have.status(200);\n//             response.body.should.property('message').eql(\"contacts fetched!\")\n//         done();\n//         })\n//     })\n//     // it('don\\'t return any message', (done)=>{\n//     //     chai.request(server)\n//     //     .get(\"/api/message\")\n//     //     .end((err, response)=>{\n//     //         response.should.have.status(404);\n//     //     done();\n//     //     })\n//     // })\n// })\n// })\n\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3RfdGVzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0EiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL3Rlc3QvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbi8vIGltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuLy8gaW1wb3J0IHNlcnZlciBmcm9tIFwiLi4vaW5kZXhcIjtcbi8vIGltcG9ydCBjaGFpSHR0cCBmcm9tIFwiY2hhaS1odHRwXCI7XG4vLyBpbXBvcnQge1Bvc3R9IGZyb20gXCIuLi9tb2RlbHMvUG9zdFwiO1xuLy8gcmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxuXG4vLyAvL3RvIG1vY2sgYSBmdW5jdGlvbiBkdXJpbmcgdGVzdGluZ1xuLy8gaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uL21vZGVscy9Vc2VyJztcblxuLy8gbGV0IHVzZXIsIGF1dFRva2VuO1xuXG4vLyAvL2Fzc2VydGlvbiBzdHlsZVxuLy8gY2hhaS5zaG91bGQoKTtcblxuLy8gY2hhaS51c2UoY2hhaUh0dHApICBcbiAgICBcbiAgICBcbi8vIGRlc2NyaWJlKCdUZXN0IGZvciBNZXNzYWdlIEVuZHBvaW50cycsICgpPT57XG4vLyAgICAgYmVmb3JlKGZ1bmN0aW9uKGRvbmUpIHtcbi8vICAgICAgICAgLy8gQ29ubmVjdCB0byBNb25nb0RCIGRhdGFiYXNlXG4vLyAgICAgY29uc3QgZGJVUkkgPWBtb25nb2RiK3NydjovLyR7cHJvY2Vzcy5lbnYuREJfVVNFUn06JHtwcm9jZXNzLmVudi5EQl9QQVNTV09SRH1Abm9kZS1hcHBsaWNhdGlvbnMuZmU0YXUubW9uZ29kYi5uZXQvbm9kZS10dXRvcmlhbD9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHlgXG4vLyAgICAgbW9uZ29vc2UuY29ubmVjdChkYlVSSSx7dXNlTmV3VXJsUGFyc2VyOnRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTp0cnVlfSkudGhlbigocmVzcG9uc2V1bHQpPT57XG5cbi8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEYiBDb25uZWN0ZWQhJylcblxuLy8gICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgXG4vLyAgICAgICAgIH0pLmNhdGNoKChlcnJvcik9Pntcbi8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuLy8gICAgICAgICB9KVxuXG5cbi8vICAgICB9KTsgICAgIFxuICAgIFxuXG4vLyAgICAgLyoqXG4vLyAgKiBQT1NUIENvbnRhY3Qgcm91dGVcbi8vICAqL1xuXG4vLyBkZXNjcmliZSgnUE9TVCAvYXBpL21lc3NhZ2VzJywgKCk9Pntcbi8vICAgICBiZWZvcmUoKCk9Pntcbi8vICAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wQ29sbGVjdGlvbignbWVzc2FnZXMnKVxuLy8gICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCd1c2VycycpXG4vLyAgICAgfSlcbiAgICBcbi8vICAgICAvLyBjcmVhdGUgdXNlciBhbmQgbG9naW4gXG4vLyAgICAgaXQoJ2NyZWF0ZXMgbmV3IHVzZXIgJywgKGRvbmUpPT57XG5cbi8vICAgICAgICAgY29uc3QgbmV3VXNlciA9IG5ldyBVc2VyKHtcbi8vICAgICAgICAgICAgIHVzZXJuYW1lOlwibWVuYXNlXCIsXG4vLyAgICAgICAgICAgICBlbWFpbDpcIm1lbmFzZUBtYWlsLmNvbVwiLFxuLy8gICAgICAgICAgICAgcGFzc3dvcmQ6XCJwYXNzd29yZCB0ZXN0XCJcbiAgICAgICBcbi8vICAgICAgICAgfSlcblxuLy8gICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuLy8gICAgICAgICAucG9zdChcIi9hcGkvdXNlcnNcIilcbi8vICAgICAgICAgLnNlbmQobmV3VXNlcilcbi8vICAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9Pntcbi8vICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuLy8gICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4vLyAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwidXNlciBjcmVhdGVkIVwiKTtcbi8vICAgICAgICAgZG9uZSgpOyAgIFxuLy8gICAgICAgICB9KVxuLy8gICAgIH0pXG5cbi8vICAgICAvLyBsb2dpblxuLy8gICAgIGNvbnN0IGxvZ0luVXNlciA9IHtcbi8vICAgICAgICAgdXNlcm5hbWU6J21lbmFzZScsXG4vLyAgICAgICAgIHBhc3N3b3JkOidwYXNzd29yZCB0ZXN0J1xuLy8gICAgIH1cblxuLy8gICAgIGl0KCdsb2dpbiBhIHVzZXInLCAoZG9uZSk9Pntcbi8vICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbi8vICAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnMvbG9naW4nKVxuLy8gICAgICAgICAuc2VuZCh7dXNlcm5hbWU6bG9nSW5Vc2VyLnVzZXJuYW1lLCBwYXNzd29yZDpsb2dJblVzZXIucGFzc3dvcmR9KVxuLy8gICAgICAgICAuZW5kKGZ1bmN0aW9uKGVyciwgcmVzcG9uc2UpIHtcbi8vICAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiBkb25lKGVycik7XG5cbi8vICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuLy8gICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4vLyAgICAgICAgICAgICBhdXRUb2tlbiA9IHJlc3BvbnNlLmJvZHkuVG9rZW5cbiAgICAgICAgICAgIFxuLy8gICAgICAgICAgICAgZG9uZSgpO1xuLy8gICAgICAgICB9KTtcblxuLy8gICAgIH0pXG5cbi8vICAgICBpdCgnU2VuZCBtZXNzYWdlcycsIChkb25lKT0+e1xuLy8gICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuLy8gICAgICAgICAgICAgc2VuZGVyOiAndGVzdEBtYWlsLmNvbScsXG4vLyAgICAgICAgICAgICBuYW1lOlwiRXJpYyBnYXNhbmFcIixcbi8vICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSSB3b3VsZCBsaWtlIHRvIHRoYW5rIHlvdSBmb3IgdGhvc2UgdmFsdWFibGUgcG9zdHNcIixcbiAgICBcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuLy8gICAgICAgICAucG9zdChcIi9hcGkvbWVzc2FnZXNcIilcbi8vICAgICAgICAgLnNlbmQobWVzc2FnZSlcbi8vICAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9Pntcbi8vICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuLy8gICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJNZXNzYWdlIFNlbnQgc3VjY2Vzc2Z1bGx5XCIpXG4vLyAgICAgICAgIGRvbmUoKTtcbi8vICAgICAgICAgfSlcbi8vICAgICB9KVxuXG4vLyAgICAgaXQoJ2RvbnQgc2VuZCBhIG1lc3NhZ2Ugd2hlbiBzZW5kZXIsIG1lc3NhZ2UgY29udGVudCBpcyBub3QgcHJvdmlkZWQnLCAoZG9uZSk9Pntcbi8vICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHtcbi8vICAgICAgICAgICAgIHNlbmRlcjogJycsXG4vLyAgICAgICAgICAgICBuYW1lOlwic2F3YVwiLFxuLy8gICAgICAgICAgICAgbWVzc2FnZTogXCJcIixcbiAgICBcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuLy8gICAgICAgICAucG9zdChcIi9hcGkvbWVzc2FnZXNcIilcbi8vICAgICAgICAgLnNlbmQobWVzc2FnZSlcbi8vICAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9Pntcbi8vICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDMpO1xuLy8gICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJzZW5kZXIgYW5kIG1lc3NhZ2UgYXJlIHJlcXVpcmVkXCIpXG4vLyAgICAgICAgIGRvbmUoKTtcbi8vICAgICAgICAgfSlcbiAgICBcbi8vICAgICB9KVxuLy8gfSlcblxuLy8gICAgIC8qKlxuLy8gICAgICAqIEdFVCBDb250YWN0IHJvdXRlXG4vLyAgICAgICovXG5cbi8vICBkZXNjcmliZSgnR0VUIC9hcGkvbWVzc2FnZXMnLCAoKT0+e1xuLy8gICAgIGFmdGVyKCgpPT57XG4vLyAgICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ21lc3NhZ2VzJylcbi8vICAgICB9KVxuLy8gICAgIGl0KCdnZXQgYWxsIG1lc3NhZ2VzJywgKGRvbmUpPT57XG4vLyAgICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4vLyAgICAgICAgIC5nZXQoXCIvYXBpL21lc3NhZ2VzXCIpXG4vLyAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbi8vICAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9Pntcbi8vICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgXG4vLyAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcImNvbnRhY3RzIGZldGNoZWQhXCIpXG4vLyAgICAgICAgIGRvbmUoKTtcbi8vICAgICAgICAgfSlcbi8vICAgICB9KVxuXG4vLyAgICAgLy8gaXQoJ2RvblxcJ3QgcmV0dXJuIGFueSBtZXNzYWdlJywgKGRvbmUpPT57XG4vLyAgICAgLy8gICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4vLyAgICAgLy8gICAgIC5nZXQoXCIvYXBpL21lc3NhZ2VcIilcbi8vICAgICAvLyAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9Pntcbi8vICAgICAvLyAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuLy8gICAgIC8vICAgICBkb25lKCk7XG4vLyAgICAgLy8gICAgIH0pXG4vLyAgICAgLy8gfSlcbi8vIH0pXG5cblxuLy8gfSkiXX0=","map":{"version":3,"sources":["contact_test.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AAEA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAGA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["// import mongoose from 'mongoose';\n// import chai from 'chai';\n// import server from \"../index\";\n// import chaiHttp from \"chai-http\";\n// import {Post} from \"../models/Post\";\n// require(\"dotenv\").config();\n\n\n// //to mock a function during testing\n// import { User } from '../models/User';\n\n// let user, autToken;\n\n// //assertion style\n// chai.should();\n\n// chai.use(chaiHttp)  \n    \n    \n// describe('Test for Message Endpoints', ()=>{\n//     before(function(done) {\n//         // Connect to MongoDB database\n//     const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n//     mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n//             console.log('Db Connected!')\n\n//             done();\n            \n//         }).catch((error)=>{\n//             console.log(error)\n//         })\n\n\n//     });     \n    \n\n//     /**\n//  * POST Contact route\n//  */\n\n// describe('POST /api/messages', ()=>{\n//     before(()=>{\n//         mongoose.connection.dropCollection('messages')\n//         mongoose.connection.dropCollection('users')\n//     })\n    \n//     // create user and login \n//     it('creates new user ', (done)=>{\n\n//         const newUser = new User({\n//             username:\"menase\",\n//             email:\"menase@mail.com\",\n//             password:\"password test\"\n       \n//         })\n\n//         chai.request(server)\n//         .post(\"/api/users\")\n//         .send(newUser)\n//         .end((err, response)=>{\n//             response.should.have.status(201);\n//             response.body.should.be.a('object');\n//             response.body.should.have.property('message').eql(\"user created!\");\n//         done();   \n//         })\n//     })\n\n//     // login\n//     const logInUser = {\n//         username:'menase',\n//         password:'password test'\n//     }\n\n//     it('login a user', (done)=>{\n//         chai.request(server)\n//         .post('/api/users/login')\n//         .send({username:logInUser.username, password:logInUser.password})\n//         .end(function(err, response) {\n//             if (err) return done(err);\n\n//             response.should.have.status(200);\n//             response.body.should.be.a('object');\n//             autToken = response.body.Token\n            \n//             done();\n//         });\n\n//     })\n\n//     it('Send messages', (done)=>{\n//         const message = {\n//             sender: 'test@mail.com',\n//             name:\"Eric gasana\",\n//             message: \"I would like to thank you for those valuable posts\",\n    \n//         }\n//         chai.request(server)\n//         .post(\"/api/messages\")\n//         .send(message)\n//         .end((err, response)=>{\n//             response.should.have.status(201);\n//             response.body.should.property('message').eql(\"Message Sent successfully\")\n//         done();\n//         })\n//     })\n\n//     it('dont send a message when sender, message content is not provided', (done)=>{\n//         const message = {\n//             sender: '',\n//             name:\"sawa\",\n//             message: \"\",\n    \n//         }\n//         chai.request(server)\n//         .post(\"/api/messages\")\n//         .send(message)\n//         .end((err, response)=>{\n//             response.should.have.status(403);\n//             response.body.should.property('message').eql(\"sender and message are required\")\n//         done();\n//         })\n    \n//     })\n// })\n\n//     /**\n//      * GET Contact route\n//      */\n\n//  describe('GET /api/messages', ()=>{\n//     after(()=>{\n//         mongoose.connection.dropCollection('messages')\n//     })\n//     it('get all messages', (done)=>{\n//         chai.request(server)\n//         .get(\"/api/messages\")\n//         .set('Authorization', 'Bearer ' + autToken)\n//         .end((err, response)=>{\n//             response.should.have.status(200);\n            \n//             response.body.should.property('message').eql(\"contacts fetched!\")\n//         done();\n//         })\n//     })\n\n//     // it('don\\'t return any message', (done)=>{\n//     //     chai.request(server)\n//     //     .get(\"/api/message\")\n//     //     .end((err, response)=>{\n//     //         response.should.have.status(404);\n//     //     done();\n//     //     })\n//     // })\n// })\n\n\n// })"]}},"mtime":1651129127913},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/post_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken, id; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for Post Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n   * POST a post route\n   */\n\n  describe(\"POST /api/posts\", () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection('users');\n\n      _mongoose.default.connection.dropCollection('posts');\n    }); // create user and login \n\n    it('creates new user ', done => {\n      const newUser = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(newUser).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user created!\");\n        done();\n      });\n    }); // login\n\n    const logInUser = {\n      username: 'menase',\n      password: 'password test'\n    };\n    it('login a user', done => {\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        autToken = response.body.Token;\n        done();\n      });\n    });\n    it(\"creates a new post\", done => {\n      const userToken = 'Bearer ' + autToken;\n      const post = new _Post.Post({\n        title: \"unit testing\",\n        content: \"I am testing nodejs api using mocha with chai assertion library\"\n      });\n      post.save();\n\n      _chai.default.request(_index.default).post(\"/api/posts\") //set the auth header with our token\n      .set('Content-Type', 'multipart/form-data').set('Authorization', 'Bearer ' + autToken).field({\n        title: \"unit testing\",\n        content: \"I am testing nodejs api using mocha with chai assertion library\"\n      }).attach('poster', '/home/nyakamwe/Pictures/MPAMAVUTA.png').end(function (error, response) {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Post Saved successfully\");\n        id = post.id;\n        done();\n      });\n    }); // it(\"creates a new post\", (done)=>{\n    //     const userToken = 'Bearer ' + autToken\n    //     const post = new Post({\n    //         title: \"unit testing\",\n    //         content: \"I am testing nodejs api using mocha with chai assertion library\"\n    //     })\n    //     post.save()\n    //     chai.request(server)\n    //     .post(\"/api/posts\")\n    //     //set the auth header with our token\n    //     .set('Authorization', 'Bearer ' + autToken)\n    //     .send(post)\n    //     .end(function(error, response) {\n    //         response.should.have.status(201);\n    //         response.body.should.be.a('object');\n    //         response.body.should.have.property('message').eql(\"Post Saved successfully\");\n    //         id= post.id\n    //     done();  \n    //     });\n    // })\n\n    const userToken = 'Bearer ' + autToken;\n    it(\"fails to create a post due to unathorized user\", done => {\n      const post = new _Post.Post({\n        title: \"keza testing \",\n        content: \"unit testing with mocha and user keza\"\n      }); // post.save()\n\n      _chai.default.request(_index.default).post(\"/api/posts\").send(post) //set the auth header with our token\n      .set('Authorization', userToken).end(function (error, response) {\n        response.should.have.status(403);\n        response.body.should.have.property('message').eql(\"Invalid Token\");\n        done();\n      });\n    });\n    it(\"do not create a post without title and content\", done => {\n      const post = new _Post.Post({\n        title: \"\",\n        content: \"\"\n      }); // post.save()\n\n      _chai.default.request(_index.default).post(\"/api/posts\") //set the auth header with our token\n      .set('Authorization', 'Bearer ' + autToken).send(post).end(function (error, response) {\n        response.should.have.status(400);\n        response.body.should.have.property('message').eql(\"Title and content are required\");\n        done();\n      });\n    });\n  });\n  /**\n   * test GET posts route\n   */\n\n  describe(\"GET /api/posts\", () => {\n    it(\"returns all posts\", done => {\n      _chai.default.request(_index.default).get(\"/api/posts\").set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        response.body.message.should.be.eq(\"Fetched successfully\");\n        done();\n      });\n    }); // it(\"not returns all posts\", (done)=>{\n    //     chai.request(server)\n    //     .get(\"/api/post\")\n    //     .end((err, response)=>{\n    //         response.should.have.status(404);\n    //     done();\n    //     })\n    // })\n  });\n  /**\n   * test GET(by id) post route\n   */\n\n  describe(\"GET /api/posts/:id\", () => {\n    it(\"returns a single post\", done => {\n      const postId = id;\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        response.body.message.should.be.eq(\"successfully fetched\");\n        done();\n      });\n    });\n    it(\"not returns a single post at this id\", done => {\n      const postId = 1234;\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}`).set('Authorization', 'Bearer ' + autToken).end((err, responseponse) => {\n        responseponse.should.have.status(404);\n        responseponse.body.error.should.be.eq(\"Post does not exist!\");\n        done();\n      });\n    });\n  });\n  /**\n   * PUT a post route\n   */\n\n  describe('PUT /api/posts/:id', () => {\n    it('updates a post', done => {\n      const postId = id;\n      const post = {\n        title: \"unit testing\",\n        content: \"mocha Js framework for testing\"\n      };\n\n      _chai.default.request(_index.default).patch(`/api/posts/${postId}`).send(post).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Post successfully updated!\");\n        done();\n      });\n    });\n    it('don\\'t updates a post when title or content is empty', done => {\n      const postId = id;\n      const post = {\n        title: \"avicii\",\n        content: \"\"\n      };\n\n      _chai.default.request(_index.default).patch(`/api/posts/${postId}`).send(post).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(400);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Title and content need value!\");\n        done();\n      });\n    });\n  });\n  /**\n   * DELETE post route\n   */\n\n  describe('DELETE /api/posts/:id', () => {\n    after(() => {\n      _mongoose.default.connection.dropCollection('users');\n\n      _mongoose.default.connection.dropCollection('posts');\n    });\n    it('It deletes a post', done => {\n      const postId = id;\n\n      _chai.default.request(_index.default).delete(`/api/posts/${postId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        done();\n      });\n    });\n    it('It should not delete post that doesn\\'t exist in DB', done => {\n      const postId = id;\n\n      _chai.default.request(_index.default).delete(`/api/posts/${postId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.have.property('error').eql(\"Post doesn't exist!\");\n        done();\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiaWQiLCJjaGFpIiwic2hvdWxkIiwidXNlIiwiY2hhaUh0dHAiLCJkZXNjcmliZSIsImJlZm9yZSIsImRvbmUiLCJkYlVSSSIsInByb2Nlc3MiLCJlbnYiLCJEQl9VU0VSIiwiREJfUEFTU1dPUkQiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwicmVzcG9uc2V1bHQiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsImNvbm5lY3Rpb24iLCJkcm9wQ29sbGVjdGlvbiIsIml0IiwibmV3VXNlciIsIlVzZXIiLCJ1c2VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJyZXF1ZXN0Iiwic2VydmVyIiwicG9zdCIsInNlbmQiLCJlbmQiLCJlcnIiLCJyZXNwb25zZSIsImhhdmUiLCJzdGF0dXMiLCJib2R5IiwiYmUiLCJhIiwicHJvcGVydHkiLCJlcWwiLCJsb2dJblVzZXIiLCJUb2tlbiIsInVzZXJUb2tlbiIsIlBvc3QiLCJ0aXRsZSIsImNvbnRlbnQiLCJzYXZlIiwic2V0IiwiZmllbGQiLCJhdHRhY2giLCJnZXQiLCJtZXNzYWdlIiwiZXEiLCJwb3N0SWQiLCJyZXNwb25zZXBvbnNlIiwicGF0Y2giLCJhZnRlciIsImRlbGV0ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFLQTs7OztBQUpBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQixHLENBR0E7OztBQUdBLElBQUlDLElBQUosRUFBVUMsUUFBVixFQUFvQkMsRUFBcEIsQyxDQUVBOztBQUNBQyxjQUFLQyxNQUFMOztBQUVBRCxjQUFLRSxHQUFMLENBQVNDLGlCQUFUOztBQUdBQyxRQUFRLENBQUMseUJBQUQsRUFBNEIsTUFBSTtBQUNwQ0MsRUFBQUEs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QUFZckQsUUFGbEMsRUFHQ29DLEdBSEQsQ0FHSyxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBaUI7QUFDbEJBLFFBQUFBLFFBQVEsQ0FBQ25DLE1BQVQsQ0FBZ0JvQyxJQUFoQixDQUFxQkMsTUFBckIsQ0FBNEIsR0FBNUI7QUFFSmhDLFFBQUFBLElBQUk7QUFDSCxPQVBEO0FBUUgsS0FWQyxDQUFGO0FBWUFrQixJQUFBQSxFQUFFLENBQUMscURBQUQsRUFBeURsQixJQUFELElBQVE7QUFDOUQsWUFBTW1ELE1BQU0sR0FBRzFELEVBQWY7O0FBQ0FDLG9CQUFLOEIsT0FBTCxDQUFhQyxjQUFiLEVBQ0M4QixNQURELENBQ1MsY0FBYUosTUFBTyxFQUQ3QixFQUVDTixHQUZELENBRUssZUFGTCxFQUVzQixZQUFZckQsUUFGbEMsRUFHQ29DLEdBSEQsQ0FHSyxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBaUI7QUFDbEJBLFFBQUFBLFFBQVEsQ0FBQ25DLE1BQVQsQ0FBZ0JvQyxJQUFoQixDQUFxQkMsTUFBckIsQ0FBNEIsR0FBNUI7QUFDQUYsUUFBQUEsUUFBUSxDQUFDRyxJQUFULENBQWN0QyxNQUFkLENBQXFCb0MsSUFBckIsQ0FBMEJLLFFBQTFCLENBQW1DLE9BQW5DLEVBQTRDQyxHQUE1QyxDQUFnRCxxQkFBaEQ7QUFDSnJDLFFBQUFBLElBQUk7QUFDSCxPQVBEO0FBUUgsS0FWQyxDQUFGO0FBY0gsR0FqQ1MsQ0FBUjtBQW1DRCxDQTFWTyxDQUFSIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy90ZXN0LyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgY2hhaSBmcm9tICdjaGFpJztcbmltcG9ydCBzZXJ2ZXIgZnJvbSBcIi4uL2luZGV4XCI7XG5pbXBvcnQgY2hhaUh0dHAgZnJvbSBcImNoYWktaHR0cFwiO1xuaW1wb3J0IHtQb3N0fSBmcm9tIFwiLi4vbW9kZWxzL1Bvc3RcIjtcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5cblxuLy90byBtb2NrIGEgZnVuY3Rpb24gZHVyaW5nIHRlc3RpbmdcbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuLi9tb2RlbHMvVXNlcic7XG5cbmxldCB1c2VyLCBhdXRUb2tlbiwgaWQ7XG5cbi8vYXNzZXJ0aW9uIHN0eWxlXG5jaGFpLnNob3VsZCgpO1xuXG5jaGFpLnVzZShjaGFpSHR0cCkgIFxuICAgIFxuICAgIFxuZGVzY3JpYmUoJ1Rlc3QgZm9yIFBvc3QgRW5kcG9pbnRzJywgKCk9PntcbiAgICBiZWZvcmUoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAvLyBDb25uZWN0IHRvIE1vbmdvREIgZGF0YWJhc2VcbiAgICBjb25zdCBkYlVSSSA9YG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSfToke3Byb2Nlc3MuZW52LkRCX1BBU1NXT1JEfUBub2RlLWFwcGxpY2F0aW9ucy5mZTRhdS5tb25nb2RiLm5ldC9ub2RlLXR1dG9yaWFsP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWBcbiAgICBtb25nb29zZS5jb25uZWN0KGRiVVJJLHt1c2VOZXdVcmxQYXJzZXI6dHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OnRydWV9KS50aGVuKChyZXNwb25zZXVsdCk9PntcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RiIENvbm5lY3RlZCEnKVxuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgIH0pXG5cblxuICAgIH0pOyAgIFxuICAgIFxuICAgIFxuICAgIC8qKlxuICAgICAqIFBPU1QgYSBwb3N0IHJvdXRlXG4gICAgICovXG5cbmRlc2NyaWJlKFwiUE9TVCAvYXBpL3Bvc3RzXCIsICgpPT57XG4gICAgYmVmb3JlKCgpPT57XG4gICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ3VzZXJzJylcbiAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wQ29sbGVjdGlvbigncG9zdHMnKVxuICAgIH0pXG4gICBcbiAgICBcblxuICAgIC8vIGNyZWF0ZSB1c2VyIGFuZCBsb2dpbiBcbiAgICBpdCgnY3JlYXRlcyBuZXcgdXNlciAnLCAoZG9uZSk9PntcblxuICAgICAgICBjb25zdCBuZXdVc2VyID0gbmV3IFVzZXIoe1xuICAgICAgICAgICAgdXNlcm5hbWU6XCJtZW5hc2VcIixcbiAgICAgICAgICAgIGVtYWlsOlwibWVuYXNlQG1haWwuY29tXCIsXG4gICAgICAgICAgICBwYXNzd29yZDpcInBhc3N3b3JkIHRlc3RcIlxuICAgICAgIFxuICAgICAgICB9KVxuXG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KFwiL2FwaS91c2Vyc1wiKVxuICAgICAgICAuc2VuZChuZXdVc2VyKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJ1c2VyIGNyZWF0ZWQhXCIpO1xuICAgICAgICBkb25lKCk7ICAgXG4gICAgICAgIH0pXG4gICAgfSlcblxuXG4gICAgLy8gbG9naW5cbiAgICBjb25zdCBsb2dJblVzZXIgPSB7XG4gICAgICAgIHVzZXJuYW1lOidtZW5hc2UnLFxuICAgICAgICBwYXNzd29yZDoncGFzc3dvcmQgdGVzdCdcbiAgICB9XG5cbiAgICBpdCgnbG9naW4gYSB1c2VyJywgKGRvbmUpPT57XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KCcvYXBpL3VzZXJzL2xvZ2luJylcbiAgICAgICAgLnNlbmQoe3VzZXJuYW1lOmxvZ0luVXNlci51c2VybmFtZSwgcGFzc3dvcmQ6bG9nSW5Vc2VyLnBhc3N3b3JkfSlcbiAgICAgICAgLmVuZChmdW5jdGlvbihlcnIsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuXG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgYXV0VG9rZW4gPSByZXNwb25zZS5ib2R5LlRva2VuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICB9KVxuXG4gICAgaXQoXCJjcmVhdGVzIGEgbmV3IHBvc3RcIiwgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IHVzZXJUb2tlbiA9ICdCZWFyZXIgJyArIGF1dFRva2VuXG4gICAgICAgIFxuICAgICAgICBjb25zdCBwb3N0ID0gbmV3IFBvc3Qoe1xuICAgICAgICAgICAgdGl0bGU6IFwidW5pdCB0ZXN0aW5nXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIkkgYW0gdGVzdGluZyBub2RlanMgYXBpIHVzaW5nIG1vY2hhIHdpdGggY2hhaSBhc3NlcnRpb24gbGlicmFyeVwiXG4gICAgICAgICAgICBcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIHBvc3Quc2F2ZSgpXG4gICAgICAgIFxuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAucG9zdChcIi9hcGkvcG9zdHNcIilcbiAgICBcbiAgICAgICAgLy9zZXQgdGhlIGF1dGggaGVhZGVyIHdpdGggb3VyIHRva2VuXG4gICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdtdWx0aXBhcnQvZm9ybS1kYXRhJylcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuKVxuICAgICAgICAuZmllbGQoe1xuICAgICAgICAgICAgdGl0bGU6IFwidW5pdCB0ZXN0aW5nXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIkkgYW0gdGVzdGluZyBub2RlanMgYXBpIHVzaW5nIG1vY2hhIHdpdGggY2hhaSBhc3NlcnRpb24gbGlicmFyeVwiXG4gICAgICAgICAgICBcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dGFjaCgncG9zdGVyJywgJy9ob21lL255YWthbXdlL1BpY3R1cmVzL01QQU1BVlVUQS5wbmcnKVxuICAgICAgICAuZW5kKGZ1bmN0aW9uKGVycm9yLCByZXNwb25zZSkge1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJQb3N0IFNhdmVkIHN1Y2Nlc3NmdWxseVwiKTtcblxuICAgICAgICAgICAgaWQgPSBwb3N0LmlkO1xuICAgICAgICBkb25lKCk7ICBcbiAgICAgICAgfSk7XG4gICAgfSlcblxuICAgIC8vIGl0KFwiY3JlYXRlcyBhIG5ldyBwb3N0XCIsIChkb25lKT0+e1xuICAgIC8vICAgICBjb25zdCB1c2VyVG9rZW4gPSAnQmVhcmVyICcgKyBhdXRUb2tlblxuICAgICAgICBcbiAgICAvLyAgICAgY29uc3QgcG9zdCA9IG5ldyBQb3N0KHtcbiAgICAvLyAgICAgICAgIHRpdGxlOiBcInVuaXQgdGVzdGluZ1wiLFxuICAgIC8vICAgICAgICAgY29udGVudDogXCJJIGFtIHRlc3Rpbmcgbm9kZWpzIGFwaSB1c2luZyBtb2NoYSB3aXRoIGNoYWkgYXNzZXJ0aW9uIGxpYnJhcnlcIlxuICAgICAgICAgICAgXG4gICAgLy8gICAgIH0pXG4gICAgICAgIFxuICAgIC8vICAgICBwb3N0LnNhdmUoKVxuICAgICAgICBcbiAgICAvLyAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAvLyAgICAgLnBvc3QoXCIvYXBpL3Bvc3RzXCIpXG4gICAgXG4gICAgLy8gICAgIC8vc2V0IHRoZSBhdXRoIGhlYWRlciB3aXRoIG91ciB0b2tlblxuICAgIC8vICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgLy8gICAgIC5zZW5kKHBvc3QpXG4gICAgLy8gICAgIC5lbmQoZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlKSB7XG4gICAgLy8gICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAxKTtcbiAgICAvLyAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgIC8vICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIlBvc3QgU2F2ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuXG4gICAgLy8gICAgICAgICBpZD0gcG9zdC5pZFxuICAgIC8vICAgICBkb25lKCk7ICBcbiAgICAvLyAgICAgfSk7XG4gICAgLy8gfSlcbiAgICAgICAgXG5cbiAgICBjb25zdCB1c2VyVG9rZW4gPSAnQmVhcmVyICcgKyBhdXRUb2tlblxuXG4gICAgaXQoXCJmYWlscyB0byBjcmVhdGUgYSBwb3N0IGR1ZSB0byB1bmF0aG9yaXplZCB1c2VyXCIsIChkb25lKT0+e1xuXG4gICAgICAgIGNvbnN0IHBvc3QgPSBuZXcgUG9zdCh7XG4gICAgICAgICAgICB0aXRsZTogXCJrZXphIHRlc3RpbmcgXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcInVuaXQgdGVzdGluZyB3aXRoIG1vY2hhIGFuZCB1c2VyIGtlemFcIlxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG4gICAgICAgIC8vIHBvc3Quc2F2ZSgpXG4gICAgICAgIFxuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAucG9zdChcIi9hcGkvcG9zdHNcIilcbiAgICAgICAgLnNlbmQocG9zdClcbiAgICAgICAgLy9zZXQgdGhlIGF1dGggaGVhZGVyIHdpdGggb3VyIHRva2VuXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCB1c2VyVG9rZW4pXG4gICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAzKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJJbnZhbGlkIFRva2VuXCIpO1xuICAgICAgICBkb25lKCk7ICBcbiAgICAgICAgfSk7XG4gICAgICAgXG4gICAgICAgIFxuICAgIH0pIFxuXG4gICAgaXQoXCJkbyBub3QgY3JlYXRlIGEgcG9zdCB3aXRob3V0IHRpdGxlIGFuZCBjb250ZW50XCIsIChkb25lKT0+e1xuXG4gICAgICAgIGNvbnN0IHBvc3QgPSBuZXcgUG9zdCh7XG4gICAgICAgICAgICB0aXRsZTogXCJcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiXCJcbiAgICAgICAgICAgIFxuICAgICAgICB9KVxuICAgICAgICAvLyBwb3N0LnNhdmUoKVxuICAgICAgICBcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoXCIvYXBpL3Bvc3RzXCIpXG4gICAgXG4gICAgICAgIC8vc2V0IHRoZSBhdXRoIGhlYWRlciB3aXRoIG91ciB0b2tlblxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5zZW5kKHBvc3QpXG4gICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAwKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJUaXRsZSBhbmQgY29udGVudCBhcmUgcmVxdWlyZWRcIilcbiAgICAgICAgZG9uZSgpOyAgXG4gICAgICAgIH0pO1xuICAgIH0pXG5cbiAgICAgICAgXG59KSBcbiAgICBcbiAgICBcbiAgICAvKipcbiAgICAgKiB0ZXN0IEdFVCBwb3N0cyByb3V0ZVxuICAgICAqL1xuXG4gIGRlc2NyaWJlKFwiR0VUIC9hcGkvcG9zdHNcIiwgKCk9PntcbiAgICAgICAgXG4gICAgaXQoXCJyZXR1cm5zIGFsbCBwb3N0c1wiLCAoZG9uZSk9PntcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLmdldChcIi9hcGkvcG9zdHNcIilcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5Lm1lc3NhZ2Uuc2hvdWxkLmJlLmVxKFwiRmV0Y2hlZCBzdWNjZXNzZnVsbHlcIilcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgICAgICBcbiAgICB9KVxuXG4gICAgLy8gaXQoXCJub3QgcmV0dXJucyBhbGwgcG9zdHNcIiwgKGRvbmUpPT57XG4gICAgLy8gICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgLy8gICAgIC5nZXQoXCIvYXBpL3Bvc3RcIilcbiAgICAvLyAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAvLyAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuXG4gICAgLy8gICAgIGRvbmUoKTtcbiAgICAvLyAgICAgfSlcbiAgICAgICAgXG4gICAgLy8gfSlcblxuICAgIFxufSk7XG5cbi8qKlxuICogdGVzdCBHRVQoYnkgaWQpIHBvc3Qgcm91dGVcbiAqL1xuXG5kZXNjcmliZShcIkdFVCAvYXBpL3Bvc3RzLzppZFwiLCAoKT0+e1xuICAgIFxuICAgIGl0KFwicmV0dXJucyBhIHNpbmdsZSBwb3N0XCIsIChkb25lKT0+e1xuICAgICAgICBjb25zdCBwb3N0SWQgPSBpZDtcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLmdldChgL2FwaS9wb3N0cy8ke3Bvc3RJZH1gKVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5tZXNzYWdlLnNob3VsZC5iZS5lcShcInN1Y2Nlc3NmdWxseSBmZXRjaGVkXCIpXG4gICAgICAgICAgICBcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgICAgICBcbiAgICB9KTtcblxuICAgIFxuICAgIGl0KFwibm90IHJldHVybnMgYSBzaW5nbGUgcG9zdCBhdCB0aGlzIGlkXCIsIChkb25lKT0+e1xuICAgICAgICBjb25zdCBwb3N0SWQgPSAxMjM0O1xuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAuZ2V0KGAvYXBpL3Bvc3RzLyR7cG9zdElkfWApXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZXBvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Vwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDA0KTtcbiAgICAgICAgICAgIHJlc3BvbnNlcG9uc2UuYm9keS5lcnJvci5zaG91bGQuYmUuZXEoXCJQb3N0IGRvZXMgbm90IGV4aXN0IVwiKVxuICAgICAgICAgICAgXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgfSlcbn0pXG5cblxuXG4gICAgLyoqXG4gICAgICogUFVUIGEgcG9zdCByb3V0ZVxuICAgICAqL1xuXG4gZGVzY3JpYmUoJ1BVVCAvYXBpL3Bvc3RzLzppZCcsICgpPT57XG4gICAgaXQoJ3VwZGF0ZXMgYSBwb3N0JywgKGRvbmUpPT57XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwb3N0SWQgPSBpZFxuICAgICAgICBjb25zdCBwb3N0ID0ge1xuICAgICAgICAgICAgdGl0bGU6IFwidW5pdCB0ZXN0aW5nXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIm1vY2hhIEpzIGZyYW1ld29yayBmb3IgdGVzdGluZ1wiLFxuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBhdGNoKGAvYXBpL3Bvc3RzLyR7cG9zdElkfWApXG4gICAgICAgIC5zZW5kKHBvc3QpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiUG9zdCBzdWNjZXNzZnVsbHkgdXBkYXRlZCFcIilcbiAgICAgICAgICAgIFxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdkb25cXCd0IHVwZGF0ZXMgYSBwb3N0IHdoZW4gdGl0bGUgb3IgY29udGVudCBpcyBlbXB0eScsIChkb25lKT0+e1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcG9zdElkID0gaWRcbiAgICAgICAgY29uc3QgcG9zdCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiBcImF2aWNpaVwiLFxuICAgICAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wYXRjaChgL2FwaS9wb3N0cy8ke3Bvc3RJZH1gKVxuICAgICAgICAuc2VuZChwb3N0KVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAwKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIlRpdGxlIGFuZCBjb250ZW50IG5lZWQgdmFsdWUhXCIpXG4gICAgICAgICAgICBcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIH0pXG5cblxufSlcblxuICAgIC8qKlxuICAgICAqIERFTEVURSBwb3N0IHJvdXRlXG4gICAgICovXG5cbiAgZGVzY3JpYmUoJ0RFTEVURSAvYXBpL3Bvc3RzLzppZCcsICgpPT57XG4gICAgICBhZnRlcigoKT0+e1xuICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCd1c2VycycpIFxuICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCdwb3N0cycpXG4gICAgICB9KVxuICAgIFxuXG4gICAgaXQoJ0l0IGRlbGV0ZXMgYSBwb3N0JywgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IGlkO1xuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAuZGVsZXRlKGAvYXBpL3Bvc3RzLyR7cG9zdElkfWApXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ0l0IHNob3VsZCBub3QgZGVsZXRlIHBvc3QgdGhhdCBkb2VzblxcJ3QgZXhpc3QgaW4gREInLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgcG9zdElkID0gaWQ7XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5kZWxldGUoYC9hcGkvcG9zdHMvJHtwb3N0SWR9YClcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwNCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdlcnJvcicpLmVxbChcIlBvc3QgZG9lc24ndCBleGlzdCFcIilcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBcblxufSlcblxufSkiXX0=","map":{"version":3,"sources":["post_test.js"],"names":["require","config","user","autToken","id","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","logInUser","Token","userToken","Post","title","content","save","set","field","attach","get","message","eq","postId","responseponse","patch","after","delete"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport { User } from '../models/User';\n\nlet user, autToken, id;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Post Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });   \n    \n    \n    /**\n     * POST a post route\n     */\n\ndescribe(\"POST /api/posts\", ()=>{\n    before(()=>{\n        mongoose.connection.dropCollection('users')\n        mongoose.connection.dropCollection('posts')\n    })\n   \n    \n\n    // create user and login \n    it('creates new user ', (done)=>{\n\n        const newUser = new User({\n            username:\"menase\",\n            email:\"menase@mail.com\",\n            password:\"password test\"\n       \n        })\n\n        chai.request(server)\n        .post(\"/api/users\")\n        .send(newUser)\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"user created!\");\n        done();   \n        })\n    })\n\n\n    // login\n    const logInUser = {\n        username:'menase',\n        password:'password test'\n    }\n\n    it('login a user', (done)=>{\n        chai.request(server)\n        .post('/api/users/login')\n        .send({username:logInUser.username, password:logInUser.password})\n        .end(function(err, response) {\n            if (err) return done(err);\n\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            autToken = response.body.Token\n            \n            done();\n        });\n\n    })\n\n    it(\"creates a new post\", (done)=>{\n        const userToken = 'Bearer ' + autToken\n        \n        const post = new Post({\n            title: \"unit testing\",\n            content: \"I am testing nodejs api using mocha with chai assertion library\"\n            \n        })\n        \n        post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n    \n        //set the auth header with our token\n        .set('Content-Type', 'multipart/form-data')\n        .set('Authorization', 'Bearer ' + autToken)\n        .field({\n            title: \"unit testing\",\n            content: \"I am testing nodejs api using mocha with chai assertion library\"\n            \n        })\n        .attach('poster', '/home/nyakamwe/Pictures/MPAMAVUTA.png')\n        .end(function(error, response) {\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post Saved successfully\");\n\n            id = post.id;\n        done();  \n        });\n    })\n\n    // it(\"creates a new post\", (done)=>{\n    //     const userToken = 'Bearer ' + autToken\n        \n    //     const post = new Post({\n    //         title: \"unit testing\",\n    //         content: \"I am testing nodejs api using mocha with chai assertion library\"\n            \n    //     })\n        \n    //     post.save()\n        \n    //     chai.request(server)\n    //     .post(\"/api/posts\")\n    \n    //     //set the auth header with our token\n    //     .set('Authorization', 'Bearer ' + autToken)\n    //     .send(post)\n    //     .end(function(error, response) {\n    //         response.should.have.status(201);\n    //         response.body.should.be.a('object');\n    //         response.body.should.have.property('message').eql(\"Post Saved successfully\");\n\n    //         id= post.id\n    //     done();  \n    //     });\n    // })\n        \n\n    const userToken = 'Bearer ' + autToken\n\n    it(\"fails to create a post due to unathorized user\", (done)=>{\n\n        const post = new Post({\n            title: \"keza testing \",\n            content: \"unit testing with mocha and user keza\"\n            \n        })\n        // post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n        .send(post)\n        //set the auth header with our token\n        .set('Authorization', userToken)\n        .end(function(error, response) {\n            response.should.have.status(403);\n            response.body.should.have.property('message').eql(\"Invalid Token\");\n        done();  \n        });\n       \n        \n    }) \n\n    it(\"do not create a post without title and content\", (done)=>{\n\n        const post = new Post({\n            title: \"\",\n            content: \"\"\n            \n        })\n        // post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n    \n        //set the auth header with our token\n        .set('Authorization', 'Bearer ' + autToken)\n        .send(post)\n        .end(function(error, response) {\n            response.should.have.status(400);\n            response.body.should.have.property('message').eql(\"Title and content are required\")\n        done();  \n        });\n    })\n\n        \n}) \n    \n    \n    /**\n     * test GET posts route\n     */\n\n  describe(\"GET /api/posts\", ()=>{\n        \n    it(\"returns all posts\", (done)=>{\n        chai.request(server)\n        .get(\"/api/posts\")\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.message.should.be.eq(\"Fetched successfully\")\n        done();\n        })\n        \n    })\n\n    // it(\"not returns all posts\", (done)=>{\n    //     chai.request(server)\n    //     .get(\"/api/post\")\n    //     .end((err, response)=>{\n    //         response.should.have.status(404);\n\n    //     done();\n    //     })\n        \n    // })\n\n    \n});\n\n/**\n * test GET(by id) post route\n */\n\ndescribe(\"GET /api/posts/:id\", ()=>{\n    \n    it(\"returns a single post\", (done)=>{\n        const postId = id;\n        chai.request(server)\n        .get(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            response.body.message.should.be.eq(\"successfully fetched\")\n            \n        done();\n        })\n        \n    });\n\n    \n    it(\"not returns a single post at this id\", (done)=>{\n        const postId = 1234;\n        chai.request(server)\n        .get(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, responseponse)=>{\n            responseponse.should.have.status(404);\n            responseponse.body.error.should.be.eq(\"Post does not exist!\")\n            \n        done();\n        })\n        \n    })\n})\n\n\n\n    /**\n     * PUT a post route\n     */\n\n describe('PUT /api/posts/:id', ()=>{\n    it('updates a post', (done)=>{\n        \n        const postId = id\n        const post = {\n            title: \"unit testing\",\n            content: \"mocha Js framework for testing\",\n            \n        }\n        chai.request(server)\n        .patch(`/api/posts/${postId}`)\n        .send(post)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post successfully updated!\")\n            \n        done();\n        })\n    })\n\n    it('don\\'t updates a post when title or content is empty', (done)=>{\n        \n        const postId = id\n        const post = {\n            title: \"avicii\",\n            content: \"\",\n            \n        }\n        chai.request(server)\n        .patch(`/api/posts/${postId}`)\n        .send(post)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(400);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Title and content need value!\")\n            \n        done();\n        })\n    })\n\n\n})\n\n    /**\n     * DELETE post route\n     */\n\n  describe('DELETE /api/posts/:id', ()=>{\n      after(()=>{\n        mongoose.connection.dropCollection('users') \n        mongoose.connection.dropCollection('posts')\n      })\n    \n\n    it('It deletes a post', (done)=>{\n        const postId = id;\n        chai.request(server)\n        .delete(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n\n        done();\n        })\n    })\n\n    it('It should not delete post that doesn\\'t exist in DB', (done)=>{\n        const postId = id;\n        chai.request(server)\n        .delete(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(404);\n            response.body.should.have.property('error').eql(\"Post doesn't exist!\")\n        done();\n        })\n    })\n\n    \n\n})\n\n})"]}},"mtime":1650886672440},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/user_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config();\n\nlet user; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for User Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n   * Test create new user\n   */\n\n  describe('POST /api/users', () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection(\"users\");\n    });\n    it('creates new user ', done => {\n      const newUser = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(newUser).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user created!\");\n        done();\n      });\n    });\n    it('User exists', done => {\n      user = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(user).end((err, response) => {\n        response.should.have.status(403);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user already exists\");\n        done();\n      });\n    });\n    it('No new user without username, email or password ', done => {\n      const user = new _User.User({\n        username: \"\",\n        email: \"\",\n        password: \"\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(user).end((err, response) => {\n        response.should.have.status(403);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"All fields are required\");\n        done();\n      });\n    });\n  });\n  /**\n   * POST User login\n   */\n\n  describe('POST /api/users/login', () => {\n    after(() => {\n      _mongoose.default.connection.dropCollection('users');\n    });\n    const logInUser = {\n      username: 'menase',\n      password: 'password test'\n    };\n    it('login a user', done => {\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        autToken = response.body.Token;\n        done();\n      });\n    });\n    it('not login a user with incorrect credentials', done => {\n      const logInUser = {\n        username: 'menase',\n        password: 'password'\n      };\n\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(403);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Invalid username or password.\");\n        done();\n      });\n    });\n    it('not login anonymous user', done => {\n      const logInUser = {\n        username: 'hereweare',\n        password: 'hereweare'\n      };\n\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(400);\n        response.body.should.have.property('message').eql(\"Not User.\");\n        done();\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImNoYWkiLCJzaG91bGQiLCJ1c2UiLCJjaGFpSHR0cCIsImRlc2NyaWJlIiwiYmVmb3JlIiwiZG9uZSIsImRiVVJJIiwicHJvY2VzcyIsImVudiIsIkRCX1VTRVIiLCJEQl9QQVNTV09SRCIsIm1vbmdvb3NlIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInRoZW4iLCJyZXNwb25zZXVsdCIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwiY29ubmVjdGlvbiIsImRyb3BDb2xsZWN0aW9uIiwiaXQiLCJuZXdVc2VyIiwiVXNlciIsInVzZXJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInJlcXVlc3QiLCJzZXJ2ZXIiLCJwb3N0Iiwic2VuZCIsImVuZCIsImVyciIsInJlc3BvbnNlIiwiaGF2ZSIsInN0YXR1cyIsImJvZHkiLCJiZSIsImEiLCJwcm9wZXJ0eSIsImVxbCIsImFmdGVyIiwibG9nSW5Vc2VyIiwiYXV0VG9rZW4iLCJUb2tlbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7OztBQURBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFHQSxJQUFJQyxJQUFKLEMsQ0FFQTs7QUFDQUMsY0FBS0MsTUFBTDs7QUFFQUQsY0FBS0UsR0FBTCxDQUFTQyxpQkFBVDs7QUFHQUMsUUFBUSxDQUFDLHlCQUFELEVBQTRCLE1BQUk7QUFDcENDLEVBQUFBLE1BQU0sQ0FBQyxVQUFTQyxJQUFULEVBQWU7QUFDbEI7QUFDSixVQUFNQyxLQUFLLEdBQUcsaUJBQWdCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsT0FBUSxJQUFHRixPQUFPLENBQUNDLEdBQVIsQ0FBWUUsV0FBWSxnRkFBN0U7O0FBQ0FDLHNCQUFTQyxPQUFULENBQWlCTixLQUFqQixFQUF1QjtBQUFDTyxN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QWxEO0FBQ0pyQyxRQUFBQSxJQUFJO0FBQ0gsT0FWRDtBQVlILEtBakJDLENBQUY7QUFtQkFrQixJQUFBQSxFQUFFLENBQUMsMEJBQUQsRUFBOEJsQixJQUFELElBQVE7QUFDbkMsWUFBTXVDLFNBQVMsR0FBRztBQUNkbEIsUUFBQUEsUUFBUSxFQUFDLFdBREs7QUFFZEUsUUFBQUEsUUFBUSxFQUFDO0FBRkssT0FBbEI7O0FBSUE3QixvQkFBSzhCLE9BQUwsQ0FBYUMsY0FBYixFQUNDQyxJQURELENBQ00sa0JBRE4sRUFFQ0MsSUFGRCxDQUVNO0FBQUNOLFFBQUFBLFFBQVEsRUFBQ2tCLFNBQVMsQ0FBQ2xCLFFBQXBCO0FBQThCRSxRQUFBQSxRQUFRLEVBQUNnQixTQUFTLENBQUNoQjtBQUFqRCxPQUZOLEVBR0NLLEdBSEQsQ0FHSyxVQUFTQyxHQUFULEVBQWNDLFFBQWQsRUFBd0I7QUFDekIsWUFBSUQsR0FBSixFQUFTLE9BQU83QixJQUFJLENBQUM2QixHQUFELENBQVg7QUFFVEMsUUFBQUEsUUFBUSxDQUFDbkMsTUFBVCxDQUFnQm9DLElBQWhCLENBQXFCQyxNQUFyQixDQUE0QixHQUE1QjtBQUNBRixRQUFBQSxRQUFRLENBQUNHLElBQVQsQ0FBY3RDLE1BQWQsQ0FBcUJvQyxJQUFyQixDQUEwQkssUUFBMUIsQ0FBbUMsU0FBbkMsRUFBOENDLEdBQTlDLENBQWtELFdBQWxEO0FBQ0pyQyxRQUFBQSxJQUFJO0FBQ0gsT0FURDtBQVdILEtBaEJDLENBQUY7QUFvQkgsR0FqRVEsQ0FBUjtBQW1FSixDQXJLTyxDQUFSIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy90ZXN0LyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgY2hhaSBmcm9tICdjaGFpJztcbmltcG9ydCBzZXJ2ZXIgZnJvbSBcIi4uL2luZGV4XCI7XG5pbXBvcnQgY2hhaUh0dHAgZnJvbSBcImNoYWktaHR0cFwiO1xucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuLi9tb2RlbHMvVXNlcic7XG5cbmxldCB1c2VyO1xuXG4vL2Fzc2VydGlvbiBzdHlsZVxuY2hhaS5zaG91bGQoKTtcblxuY2hhaS51c2UoY2hhaUh0dHApICBcbiAgICBcbiAgICBcbmRlc2NyaWJlKCdUZXN0IGZvciBVc2VyIEVuZHBvaW50cycsICgpPT57XG4gICAgYmVmb3JlKGZ1bmN0aW9uKGRvbmUpIHtcbiAgICAgICAgLy8gQ29ubmVjdCB0byBNb25nb0RCIGRhdGFiYXNlXG4gICAgY29uc3QgZGJVUkkgPWBtb25nb2RiK3NydjovLyR7cHJvY2Vzcy5lbnYuREJfVVNFUn06JHtwcm9jZXNzLmVudi5EQl9QQVNTV09SRH1Abm9kZS1hcHBsaWNhdGlvbnMuZmU0YXUubW9uZ29kYi5uZXQvbm9kZS10dXRvcmlhbD9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHlgXG4gICAgbW9uZ29vc2UuY29ubmVjdChkYlVSSSx7dXNlTmV3VXJsUGFyc2VyOnRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTp0cnVlfSkudGhlbigocmVzcG9uc2V1bHQpPT57XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEYiBDb25uZWN0ZWQhJylcbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgIH0pXG4gICAgXG4gICAgIFxuXG4gICAgfSk7XG4gICAgXG4gICAgXG5cbiAgICAvKipcbiAgICAgKiBUZXN0IGNyZWF0ZSBuZXcgdXNlclxuICAgICAqL1xuXG4gICAgIGRlc2NyaWJlKCdQT1NUIC9hcGkvdXNlcnMnLCAoKT0+e1xuICAgICAgICBiZWZvcmUoKCk9PntcbiAgICAgICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oXCJ1c2Vyc1wiKTtcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnY3JlYXRlcyBuZXcgdXNlciAnLCAoZG9uZSk9PntcblxuICAgICAgICAgICAgY29uc3QgbmV3VXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTpcIm1lbmFzZVwiLFxuICAgICAgICAgICAgICAgIGVtYWlsOlwibWVuYXNlQG1haWwuY29tXCIsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6XCJwYXNzd29yZCB0ZXN0XCJcbiAgICAgICAgICAgXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoXCIvYXBpL3VzZXJzXCIpXG4gICAgICAgICAgICAuc2VuZChuZXdVc2VyKVxuICAgICAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAxKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwidXNlciBjcmVhdGVkIVwiKTtcbiAgICAgICAgICAgIGRvbmUoKTsgICBcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cblxuICAgICAgICBpdCgnVXNlciBleGlzdHMnLCAoZG9uZSk9PntcblxuICAgICAgICAgICAgdXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTpcIm1lbmFzZVwiLFxuICAgICAgICAgICAgICAgIGVtYWlsOlwibWVuYXNlQG1haWwuY29tXCIsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6XCJwYXNzd29yZCB0ZXN0XCJcbiAgICAgICAgICAgXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoXCIvYXBpL3VzZXJzXCIpXG4gICAgICAgICAgICAuc2VuZCh1c2VyKVxuICAgICAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAzKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwidXNlciBhbHJlYWR5IGV4aXN0c1wiKTtcbiAgICAgICAgICAgIGRvbmUoKTsgICBcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnTm8gbmV3IHVzZXIgd2l0aG91dCB1c2VybmFtZSwgZW1haWwgb3IgcGFzc3dvcmQgJywgKGRvbmUpPT57XG5cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6XCJcIixcbiAgICAgICAgICAgICAgICBlbWFpbDpcIlwiLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOlwiXCJcbiAgICAgICAgICAgXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoXCIvYXBpL3VzZXJzXCIpXG4gICAgICAgICAgICAuc2VuZCh1c2VyKVxuICAgICAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAzKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiQWxsIGZpZWxkcyBhcmUgcmVxdWlyZWRcIik7XG4gICAgICAgICAgICBkb25lKCk7ICAgXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgfSlcblxuICAgIC8qKlxuICAgICAqIFBPU1QgVXNlciBsb2dpblxuICAgICAqL1xuXG4gICAgIGRlc2NyaWJlKCdQT1NUIC9hcGkvdXNlcnMvbG9naW4nLCAoKT0+e1xuICAgICAgICAgYWZ0ZXIoKCk9PntcbiAgICAgICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCd1c2VycycpXG4gICAgICAgICB9KVxuICAgICAgIFxuICAgICAgICBjb25zdCBsb2dJblVzZXIgPSB7XG4gICAgICAgICAgICB1c2VybmFtZTonbWVuYXNlJyxcbiAgICAgICAgICAgIHBhc3N3b3JkOidwYXNzd29yZCB0ZXN0J1xuICAgICAgICB9XG5cbiAgICAgICAgaXQoJ2xvZ2luIGEgdXNlcicsIChkb25lKT0+e1xuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KCcvYXBpL3VzZXJzL2xvZ2luJylcbiAgICAgICAgICAgIC5zZW5kKHt1c2VybmFtZTpsb2dJblVzZXIudXNlcm5hbWUsIHBhc3N3b3JkOmxvZ0luVXNlci5wYXNzd29yZH0pXG4gICAgICAgICAgICAuZW5kKGZ1bmN0aW9uKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuXG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgYXV0VG9rZW4gPSByZXNwb25zZS5ib2R5LlRva2VuXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnbm90IGxvZ2luIGEgdXNlciB3aXRoIGluY29ycmVjdCBjcmVkZW50aWFscycsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgbG9nSW5Vc2VyID0ge1xuICAgICAgICAgICAgICAgIHVzZXJuYW1lOidtZW5hc2UnLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOidwYXNzd29yZCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgICAgICAucG9zdCgnL2FwaS91c2Vycy9sb2dpbicpXG4gICAgICAgICAgICAuc2VuZCh7dXNlcm5hbWU6bG9nSW5Vc2VyLnVzZXJuYW1lLCBwYXNzd29yZDpsb2dJblVzZXIucGFzc3dvcmR9KVxuICAgICAgICAgICAgLmVuZChmdW5jdGlvbihlcnIsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGRvbmUoZXJyKTtcblxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDMpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJJbnZhbGlkIHVzZXJuYW1lIG9yIHBhc3N3b3JkLlwiKTtcbiAgICAgICAgICAgIGRvbmUoKTsgICBcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pXG5cbiAgICAgICAgaXQoJ25vdCBsb2dpbiBhbm9ueW1vdXMgdXNlcicsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgbG9nSW5Vc2VyID0ge1xuICAgICAgICAgICAgICAgIHVzZXJuYW1lOidoZXJld2VhcmUnLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOidoZXJld2VhcmUnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnMvbG9naW4nKVxuICAgICAgICAgICAgLnNlbmQoe3VzZXJuYW1lOmxvZ0luVXNlci51c2VybmFtZSwgcGFzc3dvcmQ6bG9nSW5Vc2VyLnBhc3N3b3JkfSlcbiAgICAgICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyLCByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiBkb25lKGVycik7XG5cbiAgICAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAwKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiTm90IFVzZXIuXCIpO1xuICAgICAgICAgICAgZG9uZSgpOyAgIFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSlcblxuXG4gICAgICAgXG4gICAgfSlcblxufSkgICAgIl19","map":{"version":3,"sources":["user_test.js"],"names":["require","config","user","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","after","logInUser","autToken","Token"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AAEA;;;;AADAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAGA,IAAIC,IAAJ,C,CAEA;;AACAC,cAAKC,MAAL;;AAEAD,cAAKE,GAAL,CAASC,iBAAT;;AAGAC,QAAQ,CAAC,yBAAD,EAA4B,MAAI;AACpCC,EAAAA,MAAM,CAAC,UAASC,IAAT,EAAe;AAClB;AACJ,UAAMC,KAAK,GAAG,iBAAgBC,OAAO,CAACC,GAAR,CAAYC,OAAQ,IAAGF,OAAO,CAACC,GAAR,CAAYE,WAAY,gFAA7E;;AACAC,sBAASC,OAAT,CAAiBN,KAAjB,EAAuB;AAACO,MAAAA,eAAe,EAAC,IAAjB;AAAuBC,MAAAA,kBAAkB,EAAC;AAA1C,KAAvB,EAAwEC,IAAxE,CAA8EC,WAAD,IAAe;AAEpFC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AAGAb,MAAAA,IAAI;AAEP,KAPL,EAOOc,KAPP,CAOcC,KAAD,IAAS;AACdH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,KATL;AAaC,GAhBK,CAAN;AAoBA;AACJ;AACA;;AAEKjB,EAAAA,QAAQ,CAAC,iBAAD,EAAoB,MAAI;AAC7BC,IAAAA,MAAM,CAAC,MAAI;AACPO,wBAASU,UAAT,CAAoBC,cAApB,CAAmC,OAAnC;AACH,KAFK,CAAN;AAIAC,IAAAA,EAAE,CAAC,mBAAD,EAAuBlB,IAAD,IAAQ;AAE5B,YAAMmB,OAAO,GAAG,IAAIC,UAAJ,CAAS;AACrBC,QAAAA,QAAQ,EAAC,QADY;AAErBC,QAAAA,KAAK,EAAC,iBAFe;AAGrBC,QAAAA,QAAQ,EAAC;AAHY,OAAT,CAAhB;;AAOA7B,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,YADN,EAECC,IAFD,CAEMR,OAFN,EAGCS,GAHD,CAGK,CAACC,GAAD,EAAMC,QAAN,KAAiB;AAClBA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACAL,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,eAAlD;AACJrC,QAAAA,IAAI;AACH,OARD;AASH,KAlBC,CAAF;AAqBAkB,IAAAA,EAAE,CAAC,aAAD,EAAiBlB,IAAD,IAAQ;AAEtBP,MAAAA,IAAI,GAAG,IAAI2B,UAAJ,CAAS;AACZC,QAAAA,QAAQ,EAAC,QADG;AAEZC,QAAAA,KAAK,EAAC,iBAFM;AAGZC,QAAAA,QAAQ,EAAC;AAHG,OAAT,CAAP;;AAOA7B,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,YADN,EAECC,IAFD,CAEMlC,IAFN,EAGCmC,GAHD,CAGK,CAACC,GAAD,EAAMC,QAAN,KAAiB;AAClBA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACAL,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,qBAAlD;AACJrC,QAAAA,IAAI;AACH,OARD;AAUH,KAnBC,CAAF;AAqBAkB,IAAAA,EAAE,CAAC,kDAAD,EAAsDlB,IAAD,IAAQ;AAE3D,YAAMP,IAAI,GAAG,IAAI2B,UAAJ,CAAS;AAClBC,QAAAA,QAAQ,EAAC,EADS;AAElBC,QAAAA,KAAK,EAAC,EAFY;AAGlBC,QAAAA,QAAQ,EAAC;AAHS,OAAT,CAAb;;AAOA7B,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,YADN,EAECC,IAFD,CAEMlC,IAFN,EAGCmC,GAHD,CAGK,CAACC,GAAD,EAAMC,QAAN,KAAiB;AAClBA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACAL,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,yBAAlD;AACJrC,QAAAA,IAAI;AACH,OARD;AASH,KAlBC,CAAF;AAoBH,GAnEQ,CAAR;AAqED;AACJ;AACA;;AAEKF,EAAAA,QAAQ,CAAC,uBAAD,EAA0B,MAAI;AAClCwC,IAAAA,KAAK,CAAC,MAAI;AACNhC,wBAASU,UAAT,CAAoBC,cAApB,CAAmC,OAAnC;AACH,KAFI,CAAL;AAID,UAAMsB,SAAS,GAAG;AACdlB,MAAAA,QAAQ,EAAC,QADK;AAEdE,MAAAA,QAAQ,EAAC;AAFK,KAAlB;AAKAL,IAAAA,EAAE,CAAC,cAAD,EAAkBlB,IAAD,IAAQ;AACvBN,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,kBADN,EAECC,IAFD,CAEM;AAACN,QAAAA,QAAQ,EAACkB,SAAS,CAAClB,QAApB;AAA8BE,QAAAA,QAAQ,EAACgB,SAAS,CAAChB;AAAjD,OAFN,EAGCK,GAHD,CAGK,UAASC,GAAT,EAAcC,QAAd,EAAwB;AACzB,YAAID,GAAJ,EAAS,OAAO7B,IAAI,CAAC6B,GAAD,CAAX;AAETC,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACAK,QAAAA,QAAQ,GAAGV,QAAQ,CAACG,IAAT,CAAcQ,KAAzB;AAEAzC,QAAAA,IAAI;AACP,OAXD;AAaH,KAdC,CAAF;AAgBAkB,IAAAA,EAAE,CAAC,6CAAD,EAAiDlB,IAAD,IAAQ;AACtD,YAAMuC,SAAS,GAAG;AACdlB,QAAAA,QAAQ,EAAC,QADK;AAEdE,QAAAA,QAAQ,EAAC;AAFK,OAAlB;;AAIA7B,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,kBADN,EAECC,IAFD,CAEM;AAACN,QAAAA,QAAQ,EAACkB,SAAS,CAAClB,QAApB;AAA8BE,QAAAA,QAAQ,EAACgB,SAAS,CAAChB;AAAjD,OAFN,EAGCK,GAHD,CAGK,UAASC,GAAT,EAAcC,QAAd,EAAwB;AACzB,YAAID,GAAJ,EAAS,OAAO7B,IAAI,CAAC6B,GAAD,CAAX;AAETC,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACAL,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,+BAAlD;AACJrC,QAAAA,IAAI;AACH,OAVD;AAYH,KAjBC,CAAF;AAmBAkB,IAAAA,EAAE,CAAC,0BAAD,EAA8BlB,IAAD,IAAQ;AACnC,YAAMuC,SAAS,GAAG;AACdlB,QAAAA,QAAQ,EAAC,WADK;AAEdE,QAAAA,QAAQ,EAAC;AAFK,OAAlB;;AAIA7B,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,kBADN,EAECC,IAFD,CAEM;AAACN,QAAAA,QAAQ,EAACkB,SAAS,CAAClB,QAApB;AAA8BE,QAAAA,QAAQ,EAACgB,SAAS,CAAChB;AAAjD,OAFN,EAGCK,GAHD,CAGK,UAASC,GAAT,EAAcC,QAAd,EAAwB;AACzB,YAAID,GAAJ,EAAS,OAAO7B,IAAI,CAAC6B,GAAD,CAAX;AAETC,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,WAAlD;AACJrC,QAAAA,IAAI;AACH,OATD;AAWH,KAhBC,CAAF;AAoBH,GAjEQ,CAAR;AAmEJ,CArKO,CAAR","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nrequire(\"dotenv\").config();\nimport { User } from '../models/User';\n\nlet user;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for User Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n            \n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n    \n     \n\n    });\n    \n    \n\n    /**\n     * Test create new user\n     */\n\n     describe('POST /api/users', ()=>{\n        before(()=>{\n            mongoose.connection.dropCollection(\"users\");\n        })\n\n        it('creates new user ', (done)=>{\n\n            const newUser = new User({\n                username:\"menase\",\n                email:\"menase@mail.com\",\n                password:\"password test\"\n           \n            })\n\n            chai.request(server)\n            .post(\"/api/users\")\n            .send(newUser)\n            .end((err, response)=>{\n                response.should.have.status(201);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"user created!\");\n            done();   \n            })\n        })\n\n\n        it('User exists', (done)=>{\n\n            user = new User({\n                username:\"menase\",\n                email:\"menase@mail.com\",\n                password:\"password test\"\n           \n            })\n\n            chai.request(server)\n            .post(\"/api/users\")\n            .send(user)\n            .end((err, response)=>{\n                response.should.have.status(403);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"user already exists\");\n            done();   \n            })\n\n        })\n\n        it('No new user without username, email or password ', (done)=>{\n\n            const user = new User({\n                username:\"\",\n                email:\"\",\n                password:\"\"\n           \n            })\n\n            chai.request(server)\n            .post(\"/api/users\")\n            .send(user)\n            .end((err, response)=>{\n                response.should.have.status(403);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"All fields are required\");\n            done();   \n            })\n        })\n\n    })\n\n    /**\n     * POST User login\n     */\n\n     describe('POST /api/users/login', ()=>{\n         after(()=>{\n             mongoose.connection.dropCollection('users')\n         })\n       \n        const logInUser = {\n            username:'menase',\n            password:'password test'\n        }\n\n        it('login a user', (done)=>{\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(200);\n                response.body.should.be.a('object');\n                autToken = response.body.Token\n                \n                done();\n            });\n\n        })\n\n        it('not login a user with incorrect credentials', (done)=>{\n            const logInUser = {\n                username:'menase',\n                password:'password'\n            }\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(403);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"Invalid username or password.\");\n            done();   \n            });\n\n        })\n\n        it('not login anonymous user', (done)=>{\n            const logInUser = {\n                username:'hereweare',\n                password:'hereweare'\n            }\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(400);\n                response.body.should.have.property('message').eql(\"Not User.\");\n            done();   \n            });\n\n        })\n\n\n       \n    })\n\n})    "]}},"mtime":1650440466929},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/helpers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/helpers/cloudinaryImage.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _cloudinary = _interopRequireDefault(require(\"cloudinary\"));\n\nrequire(\"dotenv/config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_cloudinary.default.config({\n  cloud_name: process.env.CLOUDINARY_USER_NAME,\n  api_key: process.env.CLOUDINARY_API_KEY,\n  api_secret: process.env.CLOUDINARY_API_SECRET\n});\n\nvar _default = _cloudinary.default;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsb3VkaW5hcnlJbWFnZS5qcyJdLCJuYW1lcyI6WyJjbG91ZGluYXJ5IiwiY29uZmlnIiwiY2xvdWRfbmFtZSIsInByb2Nlc3MiLCJlbnYiLCJDTE9VRElOQVJZX1VTRVJfTkFNRSIsImFwaV9rZXkiLCJDTE9VRElOQVJZX0FQSV9LRVkiLCJhcGlfc2VjcmV0IiwiQ0xPVURJTkFSWV9BUElfU0VDUkVUIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQUEsb0JBQVdDLE1BQVgsQ0FBa0I7QUFDZEMsRUFBQUEsVUFBVSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsb0JBRFY7QUFFZEMsRUFBQUEsT0FBTyxFQUFFSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUcsa0JBRlA7QUFHZEMsRUFBQUEsVUFBVSxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUs7QUFIVixDQUFsQjs7ZUFNZVQsbUIiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL2hlbHBlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsb3VkaW5hcnkgZnJvbSBcImNsb3VkaW5hcnlcIlxuaW1wb3J0IFwiZG90ZW52L2NvbmZpZ1wiO1xuXG5jbG91ZGluYXJ5LmNvbmZpZyh7XG4gICAgY2xvdWRfbmFtZTogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9VU0VSX05BTUUsXG4gICAgYXBpX2tleTogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9BUElfS0VZLFxuICAgIGFwaV9zZWNyZXQ6IHByb2Nlc3MuZW52LkNMT1VESU5BUllfQVBJX1NFQ1JFVFxufSlcblxuZXhwb3J0IGRlZmF1bHQgY2xvdWRpbmFyeSJdfQ==","map":{"version":3,"sources":["cloudinaryImage.js"],"names":["cloudinary","config","cloud_name","process","env","CLOUDINARY_USER_NAME","api_key","CLOUDINARY_API_KEY","api_secret","CLOUDINARY_API_SECRET"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEAA,oBAAWC,MAAX,CAAkB;AACdC,EAAAA,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,oBADV;AAEdC,EAAAA,OAAO,EAAEH,OAAO,CAACC,GAAR,CAAYG,kBAFP;AAGdC,EAAAA,UAAU,EAAEL,OAAO,CAACC,GAAR,CAAYK;AAHV,CAAlB;;eAMeT,mB","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/helpers/","sourcesContent":["import cloudinary from \"cloudinary\"\nimport \"dotenv/config\";\n\ncloudinary.config({\n    cloud_name: process.env.CLOUDINARY_USER_NAME,\n    api_key: process.env.CLOUDINARY_API_KEY,\n    api_secret: process.env.CLOUDINARY_API_SECRET\n})\n\nexport default cloudinary"]}},"mtime":1650889109509}}