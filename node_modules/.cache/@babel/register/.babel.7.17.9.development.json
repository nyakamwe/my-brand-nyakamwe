{"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/blog_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"// import mongoose from 'mongoose';\n// import chai from 'chai';\n// import server from \"../index\";\n// import chaiHttp from \"chai-http\";\n// import {Post} from \"../models/Post\";\n// require(\"dotenv\").config();\n// //to mock a function during testing\n// import sinon from 'sinon'\n// import { User } from '../models/User';\n// let user, autToken;\n// //assertion style\n// chai.should();\n// chai.use(chaiHttp)\n// describe(\"Test CRUD of Blog\", ()=>{\n//     before(function(done) {\n//         // Connect to MongoDB database\n//     const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n//     mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n//             console.log('Db Connected!')\n//             done();\n//         }).catch((error)=>{\n//             console.log(error)\n//         })\n//     });\n//     /**\n//      * POST like route\n//      */\n//      describe('POST /api/posts/like', ()=>{\n//         it('likes a post on blog', (done)=>{\n//             const like={\n//                 postId:\"625c7165aec6ae2c5160b919\",\n//                 userId:\"625783e613e48cec4a6e5901\"\n//             }\n//             chai.request(server)\n//             .put('/api/posts/like')\n//             .send(like)\n//             .set('Authorization', 'Bearer ' + autToken)\n//             .end((err, response)=>{\n//                 response.should.have.status(200);\n//                 response.body.should.be.a('object');\n//                 response.body.should.have.property('message').eql(\"post liked!\")\n//             })\n//         })\n//     })\n// })\n\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2dfdGVzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0EiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL3Rlc3QvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbi8vIGltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuLy8gaW1wb3J0IHNlcnZlciBmcm9tIFwiLi4vaW5kZXhcIjtcbi8vIGltcG9ydCBjaGFpSHR0cCBmcm9tIFwiY2hhaS1odHRwXCI7XG4vLyBpbXBvcnQge1Bvc3R9IGZyb20gXCIuLi9tb2RlbHMvUG9zdFwiO1xuLy8gcmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxuXG4vLyAvL3RvIG1vY2sgYSBmdW5jdGlvbiBkdXJpbmcgdGVzdGluZ1xuLy8gaW1wb3J0IHNpbm9uIGZyb20gJ3Npbm9uJ1xuLy8gaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uL21vZGVscy9Vc2VyJztcblxuLy8gbGV0IHVzZXIsIGF1dFRva2VuO1xuXG4vLyAvL2Fzc2VydGlvbiBzdHlsZVxuLy8gY2hhaS5zaG91bGQoKTtcblxuLy8gY2hhaS51c2UoY2hhaUh0dHApXG5cbi8vIGRlc2NyaWJlKFwiVGVzdCBDUlVEIG9mIEJsb2dcIiwgKCk9Pntcbi8vICAgICBiZWZvcmUoZnVuY3Rpb24oZG9uZSkge1xuLy8gICAgICAgICAvLyBDb25uZWN0IHRvIE1vbmdvREIgZGF0YWJhc2Vcbi8vICAgICBjb25zdCBkYlVSSSA9YG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSfToke3Byb2Nlc3MuZW52LkRCX1BBU1NXT1JEfUBub2RlLWFwcGxpY2F0aW9ucy5mZTRhdS5tb25nb2RiLm5ldC9ub2RlLXR1dG9yaWFsP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWBcbi8vICAgICBtb25nb29zZS5jb25uZWN0KGRiVVJJLHt1c2VOZXdVcmxQYXJzZXI6dHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OnRydWV9KS50aGVuKChyZXNwb25zZXVsdCk9PntcblxuLy8gICAgICAgICAgICAgY29uc29sZS5sb2coJ0RiIENvbm5lY3RlZCEnKVxuXG4vLyAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICBcbi8vICAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuLy8gICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4vLyAgICAgICAgIH0pXG5cblxuLy8gICAgIH0pO1xuXG5cbi8vICAgICAvKipcbi8vICAgICAgKiBQT1NUIGxpa2Ugcm91dGVcbi8vICAgICAgKi9cblxuLy8gICAgICBkZXNjcmliZSgnUE9TVCAvYXBpL3Bvc3RzL2xpa2UnLCAoKT0+e1xuLy8gICAgICAgICBpdCgnbGlrZXMgYSBwb3N0IG9uIGJsb2cnLCAoZG9uZSk9Pntcbi8vICAgICAgICAgICAgIGNvbnN0IGxpa2U9e1xuLy8gICAgICAgICAgICAgICAgIHBvc3RJZDpcIjYyNWM3MTY1YWVjNmFlMmM1MTYwYjkxOVwiLFxuLy8gICAgICAgICAgICAgICAgIHVzZXJJZDpcIjYyNTc4M2U2MTNlNDhjZWM0YTZlNTkwMVwiXG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuLy8gICAgICAgICAgICAgLnB1dCgnL2FwaS9wb3N0cy9saWtlJylcbi8vICAgICAgICAgICAgIC5zZW5kKGxpa2UpXG4vLyAgICAgICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4vLyAgICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuLy8gICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuLy8gICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuLy8gICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJwb3N0IGxpa2VkIVwiKVxuLy8gICAgICAgICAgICAgfSlcbi8vICAgICAgICAgfSlcbi8vICAgICB9KVxuXG5cbi8vIH0pXG5cblxuIl19","map":{"version":3,"sources":["blog_test.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAGA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["// import mongoose from 'mongoose';\n// import chai from 'chai';\n// import server from \"../index\";\n// import chaiHttp from \"chai-http\";\n// import {Post} from \"../models/Post\";\n// require(\"dotenv\").config();\n\n\n// //to mock a function during testing\n// import sinon from 'sinon'\n// import { User } from '../models/User';\n\n// let user, autToken;\n\n// //assertion style\n// chai.should();\n\n// chai.use(chaiHttp)\n\n// describe(\"Test CRUD of Blog\", ()=>{\n//     before(function(done) {\n//         // Connect to MongoDB database\n//     const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n//     mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n//             console.log('Db Connected!')\n\n//             done();\n            \n//         }).catch((error)=>{\n//             console.log(error)\n//         })\n\n\n//     });\n\n\n//     /**\n//      * POST like route\n//      */\n\n//      describe('POST /api/posts/like', ()=>{\n//         it('likes a post on blog', (done)=>{\n//             const like={\n//                 postId:\"625c7165aec6ae2c5160b919\",\n//                 userId:\"625783e613e48cec4a6e5901\"\n//             }\n//             chai.request(server)\n//             .put('/api/posts/like')\n//             .send(like)\n//             .set('Authorization', 'Bearer ' + autToken)\n//             .end((err, response)=>{\n//                 response.should.have.status(200);\n//                 response.body.should.be.a('object');\n//                 response.body.should.have.property('message').eql(\"post liked!\")\n//             })\n//         })\n//     })\n\n\n// })\n\n\n"]}},"mtime":1650365209081},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _swaggerUiExpress = _interopRequireDefault(require(\"swagger-ui-express\"));\n\nvar _swagger = _interopRequireDefault(require(\"../swagger.json\"));\n\nvar _mongoose = require(\"mongoose\");\n\nvar _PostRoutes = _interopRequireDefault(require(\"./routes/PostRoutes\"));\n\nvar _UserRoutes = _interopRequireDefault(require(\"./routes/UserRoutes\"));\n\nvar _MessageRoutes = _interopRequireDefault(require(\"./routes/MessageRoutes\"));\n\nvar _CommentRoutes = _interopRequireDefault(require(\"./routes/CommentRoutes\"));\n\nvar _LikeRoutes = _interopRequireDefault(require(\"./routes/LikeRoutes\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config();\n\n//creating express app\nconst app = (0, _express.default)();\nconst port = process.env.PORT || 3000; // allow to pass json into body\n\napp.use(_express.default.json()); //routing routes\n\napp.use(\"/api\", _PostRoutes.default);\napp.use(\"/api\", _UserRoutes.default);\napp.use(\"/api\", _MessageRoutes.default);\napp.use(\"/api\", _CommentRoutes.default);\napp.use(\"/api\", _LikeRoutes.default); //swagger documentation\n\napp.use((0, _morgan.default)(\"dev\"));\napp.use(\"/api/\", _PostRoutes.default, _UserRoutes.default, _MessageRoutes.default, _CommentRoutes.default, _LikeRoutes.default); // set swagger doc as default route\n\napp.use(\"\", _swaggerUiExpress.default.serve, _swaggerUiExpress.default.setup(_swagger.default, {\n  explorer: true\n}));\napp.use(\"*\", (req, res, next) => {\n  res.status(404).json({\n    error: \"NOT FOUND\"\n  });\n  next();\n}); //serve static images\n\napp.use(\"/poster\", _express.default.static(\"uploads/blog/images\"));\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use((0, _cors.default)()); // Connect to MongoDB database\n\nconst dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n_mongoose.mongoose.connect(dbURI, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(result => {\n  console.log('Db Connected!');\n}).catch(error => {\n  console.log(error);\n}); //listening to the request on server\n\n\nvar _default = app.listen(port, () => {\n  console.log('Server started listening on ' + port);\n});\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJhcHAiLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJ1c2UiLCJleHByZXNzIiwianNvbiIsInJvdXRlcyIsInVzZXJyb3V0ZXMiLCJjb250YWN0cm91dGVzIiwiY29tbWVudHJvdXRlcyIsImxpa2Vyb3V0ZXMiLCJzd2FnZ2VyVUkiLCJzZXJ2ZSIsInNldHVwIiwic3dhZ2dlckRvYyIsImV4cGxvcmVyIiwicmVxIiwicmVzIiwibmV4dCIsInN0YXR1cyIsImVycm9yIiwic3RhdGljIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiZGJVUkkiLCJEQl9VU0VSIiwiREJfUEFTU1dPUkQiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwibGlzdGVuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBR0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFWQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEI7O0FBWUE7QUFDQSxNQUFNQyxHQUFHLEdBQUUsdUJBQVg7QUFFQSxNQUFNQyxJQUFJLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFaLElBQW9CLElBQWpDLEMsQ0FFQTs7QUFDQUosR0FBRyxDQUFDSyxHQUFKLENBQVFDLGlCQUFRQyxJQUFSLEVBQVIsRSxDQUlBOztBQUNBUCxHQUFHLENBQUNLLEdBQUosQ0FBUSxNQUFSLEVBQWdCRyxtQkFBaEI7QUFDQVIsR0FBRyxDQUFDSyxHQUFKLENBQVEsTUFBUixFQUFnQkksbUJBQWhCO0FBQ0FULEdBQUcsQ0FBQ0ssR0FBSixDQUFRLE1BQVIsRUFBZ0JLLHNCQUFoQjtBQUNBVixHQUFHLENBQUNLLEdBQUosQ0FBUSxNQUFSLEVBQWdCTSxzQkFBaEI7QUFDQVgsR0FBRyxDQUFDSyxHQUFKLENBQVEsTUFBUixFQUFnQk8sbUJBQWhCLEUsQ0FHQTs7QUFDQVosR0FBRyxDQUFDSyxHQUFKLENBQVEscUJBQU8sS0FBUCxDQUFSO0FBQ0FMLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLE9BQVIsRUFBaUJHLG1CQUFqQixFQUF5QkMsbUJBQXpCLEVBQXFDQyxzQkFBckMsRUFBb0RDLHNCQUFwRCxFQUFtRUMsbUJBQW5FLEUsQ0FFQTs7QUFDQVosR0FBRyxDQUFDSyxHQUFKLENBQ0MsRUFERCxFQUVDUSwwQkFBVUMsS0FGWCxFQUdDRCwwQkFBVUUsS0FBVixDQUFnQkMsZ0JBQWhCLEVBQTRCO0FBQUVDLEVBQUFBLFFBQVEsRUFBRTtBQUFaLENBQTVCLENBSEQ7QUFNQWpCLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDYSxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNoQ0QsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsR0FBWCxFQUFnQmQsSUFBaEIsQ0FBcUI7QUFDcEJlLElBQUFBLEtBQUssRUFBRTtBQURhLEdBQXJCO0FBR0FGLEVBQUFBLElBQUk7QUFDSixDQUxELEUsQ0FRQTs7QUFDQXBCLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLFNBQVIsRUFBbUJDLGlCQUFRaUIsTUFBUixDQUFlLHFCQUFmLENBQW5CO0FBRUF2QixHQUFHLENBQUNLLEdBQUosQ0FBUUMsaUJBQVFrQixVQUFSLENBQW1CO0FBQUNDLEVBQUFBLFFBQVEsRUFBQztBQUFWLENBQW5CLENBQVI7QUFFQXpCLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLG9CQUFSLEUsQ0FHQTs7QUFDQSxNQUFNcUIsS0FBSyxHQUFHLGlCQUFnQnhCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZd0IsT0FBUSxJQUFHekIsT0FBTyxDQUFDQyxHQUFSLENBQVl5QixXQUFZLGdGQUE3RTs7QUFDQUMsbUJBQVNDLE9BQVQsQ0FBaUJKLEtBQWpCLEVBQXVCO0FBQUNLLEVBQUFBLGVBQWUsRUFBQyxJQUFqQjtBQUF1QkMsRUFBQUEsa0JBQWtCLEVBQUM7QUFBMUMsQ0FBdkIsRUFBd0VDLElBQXhFLENBQThFQyxNQUFELElBQVU7QUFFL0VDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVo7QUFFSCxDQUpMLEVBSU9DLEtBSlAsQ0FJY2YsS0FBRCxJQUFTO0FBQ2RhLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZZCxLQUFaO0FBQ0gsQ0FOTCxFLENBUUE7OztlQUNldEIsR0FBRyxDQUFDc0MsTUFBSixDQUFXckMsSUFBWCxFQUFpQixNQUFJO0FBQ2hDa0MsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksaUNBQWlDbkMsSUFBN0M7QUFFSCxDQUhjLEMiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnXG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJ1xuaW1wb3J0IG1vcmdhbiBmcm9tIFwibW9yZ2FuXCI7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuaW1wb3J0IHN3YWdnZXJVSSBmcm9tICdzd2FnZ2VyLXVpLWV4cHJlc3MnXG5pbXBvcnQgc3dhZ2dlckRvYyBmcm9tIFwiLi4vc3dhZ2dlci5qc29uXCI7XG5pbXBvcnQge21vbmdvb3NlfSBmcm9tICdtb25nb29zZSdcblxuLy8gZ2V0dGluZyByb3V0ZXNcbmltcG9ydCByb3V0ZXMgZnJvbSBcIi4vcm91dGVzL1Bvc3RSb3V0ZXNcIlxuaW1wb3J0IHVzZXJyb3V0ZXMgZnJvbSBcIi4vcm91dGVzL1VzZXJSb3V0ZXNcIlxuaW1wb3J0IGNvbnRhY3Ryb3V0ZXMgZnJvbSBcIi4vcm91dGVzL01lc3NhZ2VSb3V0ZXNcIlxuaW1wb3J0IGNvbW1lbnRyb3V0ZXMgZnJvbSBcIi4vcm91dGVzL0NvbW1lbnRSb3V0ZXNcIlxuaW1wb3J0IGxpa2Vyb3V0ZXMgZnJvbSBcIi4vcm91dGVzL0xpa2VSb3V0ZXNcIlxuXG4vL2NyZWF0aW5nIGV4cHJlc3MgYXBwXG5jb25zdCBhcHAgPWV4cHJlc3MoKTtcblxuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMFxuXG4vLyBhbGxvdyB0byBwYXNzIGpzb24gaW50byBib2R5XG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcblxuXG5cbi8vcm91dGluZyByb3V0ZXNcbmFwcC51c2UoXCIvYXBpXCIsIHJvdXRlcyk7XG5hcHAudXNlKFwiL2FwaVwiLCB1c2Vycm91dGVzKTtcbmFwcC51c2UoXCIvYXBpXCIsIGNvbnRhY3Ryb3V0ZXMpO1xuYXBwLnVzZShcIi9hcGlcIiwgY29tbWVudHJvdXRlcyk7XG5hcHAudXNlKFwiL2FwaVwiLCBsaWtlcm91dGVzKTtcblxuXG4vL3N3YWdnZXIgZG9jdW1lbnRhdGlvblxuYXBwLnVzZShtb3JnYW4oXCJkZXZcIikpO1xuYXBwLnVzZShcIi9hcGkvXCIsIHJvdXRlcywgdXNlcnJvdXRlcywgY29udGFjdHJvdXRlcywgY29tbWVudHJvdXRlcywgbGlrZXJvdXRlcyk7XG5cbi8vIHNldCBzd2FnZ2VyIGRvYyBhcyBkZWZhdWx0IHJvdXRlXG5hcHAudXNlKFxuXHRcIlwiLFxuXHRzd2FnZ2VyVUkuc2VydmUsXG5cdHN3YWdnZXJVSS5zZXR1cChzd2FnZ2VyRG9jLCB7IGV4cGxvcmVyOiB0cnVlIH0pXG4pO1xuXG5hcHAudXNlKFwiKlwiLCAocmVxLCByZXMsIG5leHQpID0+IHtcblx0cmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuXHRcdGVycm9yOiBcIk5PVCBGT1VORFwiLFxuXHR9KTtcblx0bmV4dCgpXG59KTtcblxuXG4vL3NlcnZlIHN0YXRpYyBpbWFnZXNcbmFwcC51c2UoXCIvcG9zdGVyXCIsIGV4cHJlc3Muc3RhdGljKFwidXBsb2Fkcy9ibG9nL2ltYWdlc1wiKSlcblxuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoe2V4dGVuZGVkOnRydWV9KSlcblxuYXBwLnVzZShjb3JzKCkpXG5cblxuLy8gQ29ubmVjdCB0byBNb25nb0RCIGRhdGFiYXNlXG5jb25zdCBkYlVSSSA9YG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSfToke3Byb2Nlc3MuZW52LkRCX1BBU1NXT1JEfUBub2RlLWFwcGxpY2F0aW9ucy5mZTRhdS5tb25nb2RiLm5ldC9ub2RlLXR1dG9yaWFsP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWBcbm1vbmdvb3NlLmNvbm5lY3QoZGJVUkkse3VzZU5ld1VybFBhcnNlcjp0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6dHJ1ZX0pLnRoZW4oKHJlc3VsdCk9PntcblxuICAgICAgICBjb25zb2xlLmxvZygnRGIgQ29ubmVjdGVkIScpXG5cdFx0XG4gICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICB9KVxuICAgIFxuLy9saXN0ZW5pbmcgdG8gdGhlIHJlcXVlc3Qgb24gc2VydmVyXG5leHBvcnQgZGVmYXVsdCBhcHAubGlzdGVuKHBvcnQsICgpPT57XG4gICAgY29uc29sZS5sb2coJ1NlcnZlciBzdGFydGVkIGxpc3RlbmluZyBvbiAnICsgcG9ydClcbiAgXG59KTsgICAgIl19","map":{"version":3,"sources":["index.js"],"names":["require","config","app","port","process","env","PORT","use","express","json","routes","userroutes","contactroutes","commentroutes","likeroutes","swaggerUI","serve","setup","swaggerDoc","explorer","req","res","next","status","error","static","urlencoded","extended","dbURI","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","result","console","log","catch","listen"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAGA;;AACA;;AACA;;AACA;;AACA;;;;AAVAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAYA;AACA,MAAMC,GAAG,GAAE,uBAAX;AAEA,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC,C,CAEA;;AACAJ,GAAG,CAACK,GAAJ,CAAQC,iBAAQC,IAAR,EAAR,E,CAIA;;AACAP,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBG,mBAAhB;AACAR,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBI,mBAAhB;AACAT,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBK,sBAAhB;AACAV,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBM,sBAAhB;AACAX,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBO,mBAAhB,E,CAGA;;AACAZ,GAAG,CAACK,GAAJ,CAAQ,qBAAO,KAAP,CAAR;AACAL,GAAG,CAACK,GAAJ,CAAQ,OAAR,EAAiBG,mBAAjB,EAAyBC,mBAAzB,EAAqCC,sBAArC,EAAoDC,sBAApD,EAAmEC,mBAAnE,E,CAEA;;AACAZ,GAAG,CAACK,GAAJ,CACC,EADD,EAECQ,0BAAUC,KAFX,EAGCD,0BAAUE,KAAV,CAAgBC,gBAAhB,EAA4B;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAA5B,CAHD;AAMAjB,GAAG,CAACK,GAAJ,CAAQ,GAAR,EAAa,CAACa,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAChCD,EAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBd,IAAhB,CAAqB;AACpBe,IAAAA,KAAK,EAAE;AADa,GAArB;AAGAF,EAAAA,IAAI;AACJ,CALD,E,CAQA;;AACApB,GAAG,CAACK,GAAJ,CAAQ,SAAR,EAAmBC,iBAAQiB,MAAR,CAAe,qBAAf,CAAnB;AAEAvB,GAAG,CAACK,GAAJ,CAAQC,iBAAQkB,UAAR,CAAmB;AAACC,EAAAA,QAAQ,EAAC;AAAV,CAAnB,CAAR;AAEAzB,GAAG,CAACK,GAAJ,CAAQ,oBAAR,E,CAGA;;AACA,MAAMqB,KAAK,GAAG,iBAAgBxB,OAAO,CAACC,GAAR,CAAYwB,OAAQ,IAAGzB,OAAO,CAACC,GAAR,CAAYyB,WAAY,gFAA7E;;AACAC,mBAASC,OAAT,CAAiBJ,KAAjB,EAAuB;AAACK,EAAAA,eAAe,EAAC,IAAjB;AAAuBC,EAAAA,kBAAkB,EAAC;AAA1C,CAAvB,EAAwEC,IAAxE,CAA8EC,MAAD,IAAU;AAE/EC,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AAEH,CAJL,EAIOC,KAJP,CAIcf,KAAD,IAAS;AACda,EAAAA,OAAO,CAACC,GAAR,CAAYd,KAAZ;AACH,CANL,E,CAQA;;;eACetB,GAAG,CAACsC,MAAJ,CAAWrC,IAAX,EAAiB,MAAI;AAChCkC,EAAAA,OAAO,CAACC,GAAR,CAAY,iCAAiCnC,IAA7C;AAEH,CAHc,C","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/","sourcesContent":["import express from 'express'\nimport cors from 'cors'\nimport morgan from \"morgan\";\nrequire(\"dotenv\").config();\nimport swaggerUI from 'swagger-ui-express'\nimport swaggerDoc from \"../swagger.json\";\nimport {mongoose} from 'mongoose'\n\n// getting routes\nimport routes from \"./routes/PostRoutes\"\nimport userroutes from \"./routes/UserRoutes\"\nimport contactroutes from \"./routes/MessageRoutes\"\nimport commentroutes from \"./routes/CommentRoutes\"\nimport likeroutes from \"./routes/LikeRoutes\"\n\n//creating express app\nconst app =express();\n\nconst port = process.env.PORT || 3000\n\n// allow to pass json into body\napp.use(express.json());\n\n\n\n//routing routes\napp.use(\"/api\", routes);\napp.use(\"/api\", userroutes);\napp.use(\"/api\", contactroutes);\napp.use(\"/api\", commentroutes);\napp.use(\"/api\", likeroutes);\n\n\n//swagger documentation\napp.use(morgan(\"dev\"));\napp.use(\"/api/\", routes, userroutes, contactroutes, commentroutes, likeroutes);\n\n// set swagger doc as default route\napp.use(\n\t\"\",\n\tswaggerUI.serve,\n\tswaggerUI.setup(swaggerDoc, { explorer: true })\n);\n\napp.use(\"*\", (req, res, next) => {\n\tres.status(404).json({\n\t\terror: \"NOT FOUND\",\n\t});\n\tnext()\n});\n\n\n//serve static images\napp.use(\"/poster\", express.static(\"uploads/blog/images\"))\n\napp.use(express.urlencoded({extended:true}))\n\napp.use(cors())\n\n\n// Connect to MongoDB database\nconst dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\nmongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((result)=>{\n\n        console.log('Db Connected!')\n\t\t\n    }).catch((error)=>{\n        console.log(error)\n    })\n    \n//listening to the request on server\nexport default app.listen(port, ()=>{\n    console.log('Server started listening on ' + port)\n  \n});    "]}},"mtime":1650530845435},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/PostRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _uploadConfig = _interopRequireDefault(require(\"../uploadConfig\"));\n\nvar _AuthenticateToken = require(\"../AuthMiddleWare/AuthenticateToken\");\n\nvar _postControllers = require(\"../controllers/postControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n// Get all posts\nrouter.get(\"/posts\", _postControllers.post_get_all); // create post\n\nrouter.post(\"/posts\", _uploadConfig.default.single('poster'), _AuthenticateToken.authenticateToken, _postControllers.post_create); // getting individual post\n\nrouter.get(\"/posts/:id\", _postControllers.post_get_one); // updating post\n\nrouter.patch(\"/posts/:id\", _uploadConfig.default.single('poster'), _AuthenticateToken.authenticateToken, _postControllers.post_update); // delete post\n\nrouter.delete(\"/posts/:id\", _postControllers.post_delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBvc3RSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInBvc3RfZ2V0X2FsbCIsInBvc3QiLCJ1cGxvYWQiLCJzaW5nbGUiLCJhdXRoZW50aWNhdGVUb2tlbiIsInBvc3RfY3JlYXRlIiwicG9zdF9nZXRfb25lIiwicGF0Y2giLCJwb3N0X3VwZGF0ZSIsImRlbGV0ZSIsInBvc3RfZGVsZXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBSUE7O0FBRUE7O0FBRUE7Ozs7QUFOQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBU0E7QUFDQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsUUFBWCxFQUFxQkMsNkJBQXJCLEUsQ0FFQTs7QUFDQUosTUFBTSxDQUFDSyxJQUFQLENBQVksUUFBWixFQUFzQkMsc0JBQU9DLE1BQVAsQ0FBYyxRQUFkLENBQXRCLEVBQStDQyxvQ0FBL0MsRUFBa0VDLDRCQUFsRSxFLENBRUE7O0FBQ0FULE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFlBQVgsRUFBeUJPLDZCQUF6QixFLENBRUE7O0FBQ0FWLE1BQU0sQ0FBQ1csS0FBUCxDQUFhLFlBQWIsRUFBMkJMLHNCQUFPQyxNQUFQLENBQWMsUUFBZCxDQUEzQixFQUFvREMsb0NBQXBELEVBQXVFSSw0QkFBdkUsRSxDQUVBOztBQUNBWixNQUFNLENBQUNhLE1BQVAsQ0FBYyxZQUFkLEVBQTRCQyw0QkFBNUI7ZUFLZWQsTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5pbXBvcnQgdXBsb2FkIGZyb20gJy4uL3VwbG9hZENvbmZpZyc7XG5cbmltcG9ydCB7YXV0aGVudGljYXRlVG9rZW59IGZyb20gXCIuLi9BdXRoTWlkZGxlV2FyZS9BdXRoZW50aWNhdGVUb2tlblwiXG5cbmltcG9ydCB7cG9zdF9nZXRfYWxsLCBwb3N0X2NyZWF0ZSwgcG9zdF9nZXRfb25lLCBwb3N0X3VwZGF0ZSwgcG9zdF9kZWxldGUsIHBvc3RfbGlrZSxwb3N0X3VubGlrZX0gZnJvbSAnLi4vY29udHJvbGxlcnMvcG9zdENvbnRyb2xsZXJzJ1xuXG5cbi8vIEdldCBhbGwgcG9zdHNcbnJvdXRlci5nZXQoXCIvcG9zdHNcIiwgcG9zdF9nZXRfYWxsKTtcblxuLy8gY3JlYXRlIHBvc3RcbnJvdXRlci5wb3N0KFwiL3Bvc3RzXCIsIHVwbG9hZC5zaW5nbGUoJ3Bvc3RlcicpLCBhdXRoZW50aWNhdGVUb2tlbiwgcG9zdF9jcmVhdGUpO1xuXG4vLyBnZXR0aW5nIGluZGl2aWR1YWwgcG9zdFxucm91dGVyLmdldChcIi9wb3N0cy86aWRcIiwgcG9zdF9nZXRfb25lKVxuXG4vLyB1cGRhdGluZyBwb3N0XG5yb3V0ZXIucGF0Y2goXCIvcG9zdHMvOmlkXCIsIHVwbG9hZC5zaW5nbGUoJ3Bvc3RlcicpLCBhdXRoZW50aWNhdGVUb2tlbiwgcG9zdF91cGRhdGUpXG5cbi8vIGRlbGV0ZSBwb3N0XG5yb3V0ZXIuZGVsZXRlKFwiL3Bvc3RzLzppZFwiLCBwb3N0X2RlbGV0ZSlcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iXX0=","map":{"version":3,"sources":["PostRoutes.js"],"names":["router","express","Router","get","post_get_all","post","upload","single","authenticateToken","post_create","post_get_one","patch","post_update","delete","post_delete"],"mappings":";;;;;;;AAAA;;AAIA;;AAEA;;AAEA;;;;AANA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AASA;AACAF,MAAM,CAACG,GAAP,CAAW,QAAX,EAAqBC,6BAArB,E,CAEA;;AACAJ,MAAM,CAACK,IAAP,CAAY,QAAZ,EAAsBC,sBAAOC,MAAP,CAAc,QAAd,CAAtB,EAA+CC,oCAA/C,EAAkEC,4BAAlE,E,CAEA;;AACAT,MAAM,CAACG,GAAP,CAAW,YAAX,EAAyBO,6BAAzB,E,CAEA;;AACAV,MAAM,CAACW,KAAP,CAAa,YAAb,EAA2BL,sBAAOC,MAAP,CAAc,QAAd,CAA3B,EAAoDC,oCAApD,EAAuEI,4BAAvE,E,CAEA;;AACAZ,MAAM,CAACa,MAAP,CAAc,YAAd,EAA4BC,4BAA5B;eAKed,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport upload from '../uploadConfig';\n\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\"\n\nimport {post_get_all, post_create, post_get_one, post_update, post_delete, post_like,post_unlike} from '../controllers/postControllers'\n\n\n// Get all posts\nrouter.get(\"/posts\", post_get_all);\n\n// create post\nrouter.post(\"/posts\", upload.single('poster'), authenticateToken, post_create);\n\n// getting individual post\nrouter.get(\"/posts/:id\", post_get_one)\n\n// updating post\nrouter.patch(\"/posts/:id\", upload.single('poster'), authenticateToken, post_update)\n\n// delete post\nrouter.delete(\"/posts/:id\", post_delete)\n\n\n\n\nexport default router\n"]}},"mtime":1650457977215},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/uploadConfig.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//storage engine\nconst storage = _multer.default.diskStorage({\n  destination: './uploads/blog/images',\n  filename: (req, file, cb) => {\n    return cb(null, `${file.fieldname}_${Date.now()}${_path.default.extname(file.originalname)}`);\n  }\n}); //upload image\n\n\nconst upload = (0, _multer.default)({\n  storage: storage\n}); // app.post('/upload', upload.single('poster'), (req, res)=>{\n// \tres.json({\n//         success:1,\n//         posterUrl:`http://localhost:3000/poster/${req.file.filename}`\n//     })\n// })    \n\nvar _default = upload;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZENvbmZpZy5qcyJdLCJuYW1lcyI6WyJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsImZpbGVuYW1lIiwicmVxIiwiZmlsZSIsImNiIiwiZmllbGRuYW1lIiwiRGF0ZSIsIm5vdyIsInBhdGgiLCJleHRuYW1lIiwib3JpZ2luYWxuYW1lIiwidXBsb2FkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQTtBQUNBLE1BQU1BLE9BQU8sR0FBR0MsZ0JBQU9DLFdBQVAsQ0FBbUI7QUFDL0JDLEVBQUFBLFdBQVcsRUFBQyx1QkFEbUI7QUFFL0JDLEVBQUFBLFFBQVEsRUFBQyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixLQUFpQjtBQUN0QixXQUFPQSxFQUFFLENBQUMsSUFBRCxFQUFRLEdBQUVELElBQUksQ0FBQ0UsU0FBVSxJQUFHQyxJQUFJLENBQUNDLEdBQUwsRUFBVyxHQUFFQyxjQUFLQyxPQUFMLENBQWFOLElBQUksQ0FBQ08sWUFBbEIsQ0FBZ0MsRUFBekUsQ0FBVDtBQUNIO0FBSjhCLENBQW5CLENBQWhCLEMsQ0FPQTs7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHLHFCQUFPO0FBQ3JCZCxFQUFBQSxPQUFPLEVBQUNBO0FBRGEsQ0FBUCxDQUFmLEMsQ0FLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O2VBRWVjLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG4vL3N0b3JhZ2UgZW5naW5lXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcbiAgICBkZXN0aW5hdGlvbjonLi91cGxvYWRzL2Jsb2cvaW1hZ2VzJyxcbiAgICBmaWxlbmFtZToocmVxLCBmaWxlLCBjYik9PntcbiAgICAgICAgcmV0dXJuIGNiKG51bGwsIGAke2ZpbGUuZmllbGRuYW1lfV8ke0RhdGUubm93KCl9JHtwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbG5hbWUpfWApXG4gICAgfVxufSlcblxuLy91cGxvYWQgaW1hZ2VcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7XG5cdHN0b3JhZ2U6c3RvcmFnZVxufSlcblxuXG4vLyBhcHAucG9zdCgnL3VwbG9hZCcsIHVwbG9hZC5zaW5nbGUoJ3Bvc3RlcicpLCAocmVxLCByZXMpPT57XG4vLyBcdHJlcy5qc29uKHtcbi8vICAgICAgICAgc3VjY2VzczoxLFxuLy8gICAgICAgICBwb3N0ZXJVcmw6YGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wb3N0ZXIvJHtyZXEuZmlsZS5maWxlbmFtZX1gXG4vLyAgICAgfSlcbi8vIH0pICAgIFxuXG5leHBvcnQgZGVmYXVsdCB1cGxvYWQiXX0=","map":{"version":3,"sources":["uploadConfig.js"],"names":["storage","multer","diskStorage","destination","filename","req","file","cb","fieldname","Date","now","path","extname","originalname","upload"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA;AACA,MAAMA,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,EAAC,uBADmB;AAE/BC,EAAAA,QAAQ,EAAC,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAiB;AACtB,WAAOA,EAAE,CAAC,IAAD,EAAQ,GAAED,IAAI,CAACE,SAAU,IAAGC,IAAI,CAACC,GAAL,EAAW,GAAEC,cAAKC,OAAL,CAAaN,IAAI,CAACO,YAAlB,CAAgC,EAAzE,CAAT;AACH;AAJ8B,CAAnB,CAAhB,C,CAOA;;;AACA,MAAMC,MAAM,GAAG,qBAAO;AACrBd,EAAAA,OAAO,EAACA;AADa,CAAP,CAAf,C,CAKA;AACA;AACA;AACA;AACA;AACA;;eAEec,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/","sourcesContent":["import multer from 'multer';\nimport path from 'path';\n\n//storage engine\nconst storage = multer.diskStorage({\n    destination:'./uploads/blog/images',\n    filename:(req, file, cb)=>{\n        return cb(null, `${file.fieldname}_${Date.now()}${path.extname(file.originalname)}`)\n    }\n})\n\n//upload image\nconst upload = multer({\n\tstorage:storage\n})\n\n\n// app.post('/upload', upload.single('poster'), (req, res)=>{\n// \tres.json({\n//         success:1,\n//         posterUrl:`http://localhost:3000/poster/${req.file.filename}`\n//     })\n// })    \n\nexport default upload"]}},"mtime":1649416931260},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/AuthMiddleWare/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/AuthMiddleWare/AuthenticateToken.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.authenticateToken = authenticateToken;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction authenticateToken(req, res, next) {\n  const authHeader = req.headers['authorization'];\n  const token = authHeader && authHeader.split(' ')[1];\n  if (token == null) return res.status(401).json({\n    message: 'Token is required'\n  });\n\n  _jsonwebtoken.default.verify(token, process.env.ACCESS_TOKEN_SECRET, (error, user) => {\n    if (error) return res.status(403).json({\n      message: \"Invalid token\"\n    });\n    req.user = user;\n    next();\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1dGhlbnRpY2F0ZVRva2VuLmpzIl0sIm5hbWVzIjpbImF1dGhlbnRpY2F0ZVRva2VuIiwicmVxIiwicmVzIiwibmV4dCIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwidG9rZW4iLCJzcGxpdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiand0IiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIkFDQ0VTU19UT0tFTl9TRUNSRVQiLCJlcnJvciIsInVzZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUdPLFNBQVNBLGlCQUFULENBQTJCQyxHQUEzQixFQUFnQ0MsR0FBaEMsRUFBcUNDLElBQXJDLEVBQTBDO0FBQ2hELFFBQU1DLFVBQVUsR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVksZUFBWixDQUFuQjtBQUNBLFFBQU1DLEtBQUssR0FBR0YsVUFBVSxJQUFJQSxVQUFVLENBQUNHLEtBQVgsQ0FBaUIsR0FBakIsRUFBc0IsQ0FBdEIsQ0FBNUI7QUFDQSxNQUFHRCxLQUFLLElBQUksSUFBWixFQUFrQixPQUFPSixHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxJQUFBQSxPQUFPLEVBQUM7QUFBVCxHQUFyQixDQUFQOztBQUVsQkMsd0JBQUlDLE1BQUosQ0FBV04sS0FBWCxFQUFrQk8sT0FBTyxDQUFDQyxHQUFSLENBQVlDLG1CQUE5QixFQUFtRCxDQUFDQyxLQUFELEVBQVFDLElBQVIsS0FBZTtBQUNqRSxRQUFHRCxLQUFILEVBQVUsT0FBT2QsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0MsTUFBQUEsT0FBTyxFQUFDO0FBQVQsS0FBckIsQ0FBUDtBQUVWVCxJQUFBQSxHQUFHLENBQUNnQixJQUFKLEdBQVNBLElBQVQ7QUFFQWQsSUFBQUEsSUFBSTtBQUNKLEdBTkQ7QUFPQSIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvQXV0aE1pZGRsZVdhcmUvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZVRva2VuKHJlcSwgcmVzLCBuZXh0KXtcblx0Y29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzWydhdXRob3JpemF0aW9uJ11cblx0Y29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyICYmIGF1dGhIZWFkZXIuc3BsaXQoJyAnKVsxXVxuXHRpZih0b2tlbiA9PSBudWxsKSByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6J1Rva2VuIGlzIHJlcXVpcmVkJ30pXG5cblx0and0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCwgKGVycm9yLCB1c2VyKT0+e1xuXHRcdGlmKGVycm9yKSByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJJbnZhbGlkIHRva2VuXCJ9KVxuXG5cdFx0cmVxLnVzZXI9dXNlcjtcblxuXHRcdG5leHQoKTtcblx0fSlcbn1cbiJdfQ==","map":{"version":3,"sources":["AuthenticateToken.js"],"names":["authenticateToken","req","res","next","authHeader","headers","token","split","status","json","message","jwt","verify","process","env","ACCESS_TOKEN_SECRET","error","user"],"mappings":";;;;;;;AAAA;;;;AAGO,SAASA,iBAAT,CAA2BC,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA0C;AAChD,QAAMC,UAAU,GAAGH,GAAG,CAACI,OAAJ,CAAY,eAAZ,CAAnB;AACA,QAAMC,KAAK,GAAGF,UAAU,IAAIA,UAAU,CAACG,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAA5B;AACA,MAAGD,KAAK,IAAI,IAAZ,EAAkB,OAAOJ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,IAAAA,OAAO,EAAC;AAAT,GAArB,CAAP;;AAElBC,wBAAIC,MAAJ,CAAWN,KAAX,EAAkBO,OAAO,CAACC,GAAR,CAAYC,mBAA9B,EAAmD,CAACC,KAAD,EAAQC,IAAR,KAAe;AACjE,QAAGD,KAAH,EAAU,OAAOd,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AAEVT,IAAAA,GAAG,CAACgB,IAAJ,GAASA,IAAT;AAEAd,IAAAA,IAAI;AACJ,GAND;AAOA","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/AuthMiddleWare/","sourcesContent":["import jwt from 'jsonwebtoken'\n\n\nexport function authenticateToken(req, res, next){\n\tconst authHeader = req.headers['authorization']\n\tconst token = authHeader && authHeader.split(' ')[1]\n\tif(token == null) return res.status(401).json({message:'Token is required'})\n\n\tjwt.verify(token, process.env.ACCESS_TOKEN_SECRET, (error, user)=>{\n\t\tif(error) return res.status(403).json({message:\"Invalid token\"})\n\n\t\treq.user=user;\n\n\t\tnext();\n\t})\n}\n"]}},"mtime":1650457977143},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/postControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.post_update = exports.post_get_one = exports.post_get_all = exports.post_delete = exports.post_create = void 0;\n\nvar _Post = require(\"../models/Post\");\n\n// import models\n// get all posts\nconst post_get_all = async (req, res) => {\n  const posts = await _Post.Post.find().sort({\n    createdAt: -1\n  });\n  return res.json({\n    data: posts,\n    status: 200,\n    message: \"Fetched successfully\"\n  });\n}; // create new post\n\n\nexports.post_get_all = post_get_all;\n\nconst post_create = async (req, res) => {\n  try {\n    if (req.body.title === '' || req.body.content === '') {\n      return res.status(400).json({\n        message: \"Title and content are required\"\n      });\n    } else {\n      const post = new _Post.Post({\n        title: req.body.title,\n        content: req.body.content\n      });\n      await post.save();\n      return res.status(201).json({\n        status: 201,\n        message: \"Post Saved successfully\"\n      });\n    }\n  } catch (error) {\n    return res.status(403).json({\n      message: \"Invalid token\"\n    });\n  }\n}; // get individual post\n\n\nexports.post_create = post_create;\n\nconst post_get_one = async (req, res) => {\n  try {\n    const post = await _Post.Post.findOne({\n      _id: req.params.id\n    });\n\n    if (post === null) {\n      return res.status(404).json({\n        message: \"Post of that id is not available\"\n      });\n    }\n\n    return res.status(200).json({\n      data: post,\n      message: \"successfully fetched\"\n    });\n  } catch {\n    return res.status(404).json({\n      error: \"Post does not exist!\"\n    });\n  }\n}; // update a post\n\n\nexports.post_get_one = post_get_one;\n\nconst post_update = async (req, res) => {\n  try {\n    const post = await _Post.Post.findOne({\n      _id: req.params.id\n    });\n\n    if (req.body.title.length > 0 && req.body.content.length > 0) {\n      post.title = req.body.title, post.content = req.body.content;\n      await post.save();\n      return res.status(200).json({\n        message: \"Post successfully updated!\"\n      });\n    } else {\n      return res.status(400).json({\n        message: \"Title and content need value!\"\n      });\n    }\n  } catch {\n    return res.status(404).json({\n      error: \"Post doesn't exist!\"\n    });\n  }\n}; // delete a post\n\n\nexports.post_update = post_update;\n\nconst post_delete = async (req, res) => {\n  try {\n    const post = await _Post.Post.findById(req.params.id);\n\n    if (post != null) {\n      await post.remove();\n      return res.status(200).json({\n        message: \"Post deleted successfully!\"\n      });\n    } else {\n      return res.status(404).json({\n        error: \"Post doesn't exist!\"\n      });\n    }\n  } catch {\n    return res.status(500).json({\n      error: \"Server error\"\n    });\n  }\n};\n\nexports.post_delete = post_delete;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJwb3N0X2dldF9hbGwiLCJyZXEiLCJyZXMiLCJwb3N0cyIsIlBvc3QiLCJmaW5kIiwic29ydCIsImNyZWF0ZWRBdCIsImpzb24iLCJkYXRhIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3RfY3JlYXRlIiwiYm9keSIsInRpdGxlIiwiY29udGVudCIsInBvc3QiLCJzYXZlIiwiZXJyb3IiLCJwb3N0X2dldF9vbmUiLCJmaW5kT25lIiwiX2lkIiwicGFyYW1zIiwiaWQiLCJwb3N0X3VwZGF0ZSIsImxlbmd0aCIsInBvc3RfZGVsZXRlIiwiZmluZEJ5SWQiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFEQTtBQUtBO0FBQ0EsTUFBTUEsWUFBWSxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN4QyxRQUFNQyxLQUFLLEdBQUcsTUFBTUMsV0FBS0MsSUFBTCxHQUFZQyxJQUFaLENBQWlCO0FBQUNDLElBQUFBLFNBQVMsRUFBRSxDQUFDO0FBQWIsR0FBakIsQ0FBcEI7QUFDQSxTQUFPTCxHQUFHLENBQUNNLElBQUosQ0FBUztBQUFDQyxJQUFBQSxJQUFJLEVBQUNOLEtBQU47QUFBYU8sSUFBQUEsTUFBTSxFQUFDLEdBQXBCO0FBQXlCQyxJQUFBQSxPQUFPLEVBQUM7QUFBakMsR0FBVCxDQUFQO0FBQ0EsQ0FIRCxDLENBS0E7Ozs7O0FBQ0EsTUFBTUMsV0FBVyxHQUFHLE9BQU9YLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN2QyxNQUFJO0FBQ0gsUUFBR0QsR0FBRyxDQUFDWSxJQUFKLENBQVNDLEtBQVQsS0FBbUIsRUFBbkIsSUFBeUJiLEdBQUcsQ0FBQ1ksSUFBSixDQUFTRSxPQUFULEtBQXFCLEVBQWpELEVBQW9EO0FBQ25ELGFBQU9iLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JGLElBQWhCLENBQXFCO0FBQUNHLFFBQUFBLE9BQU8sRUFBQztBQUFULE9B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SyxFQUFFO0FBQVIsS0FBckIsQ0FBUDtBQUNBO0FBQ0QsQ0FuQkQsQyxDQXFCQTs7Ozs7QUFDQSxNQUFNUSxXQUFXLEdBQUcsT0FBT3pCLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN2QyxNQUFJO0FBQ0gsVUFBTWMsSUFBSSxHQUFHLE1BQU1aLFdBQUt1QixRQUFMLENBQWMxQixHQUFHLENBQUNxQixNQUFKLENBQVdDLEVBQXpCLENBQW5COztBQUNBLFFBQUdQLElBQUksSUFBSSxJQUFYLEVBQWdCO0FBRWYsWUFBTUEsSUFBSSxDQUFDWSxNQUFMLEVBQU47QUFDQSxhQUFPMUIsR0FBRyxDQUFDUSxNQUFKLENBQVcsR0FBWCxFQUFnQkYsSUFBaEIsQ0FBcUI7QUFBQ0csUUFBQUEsT0FBTyxFQUFFO0FBQVYsT0FBckIsQ0FBUDtBQUNBLEtBSkQsTUFLSTtBQUNILGFBQU9ULEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JGLElBQWhCLENBQXFCO0FBQUNVLFFBQUFBLEtBQUssRUFBRTtBQUFSLE9BQXJCLENBQVA7QUFDQTtBQUdELEdBWkQsQ0FZRSxNQUFNO0FBQ1AsV0FBT2hCLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JGLElBQWhCLENBQXFCO0FBQUNVLE1BQUFBLEtBQUssRUFBRTtBQUFSLEtBQXJCLENBQVA7QUFDQTtBQUNELENBaEJEIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgbW9kZWxzXG5pbXBvcnQge1Bvc3R9IGZyb20gJy4uL21vZGVscy9Qb3N0J1xuXG5cblxuLy8gZ2V0IGFsbCBwb3N0c1xuY29uc3QgcG9zdF9nZXRfYWxsID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdGNvbnN0IHBvc3RzID0gYXdhaXQgUG9zdC5maW5kKCkuc29ydCh7Y3JlYXRlZEF0OiAtMX0pXG5cdHJldHVybiByZXMuanNvbih7ZGF0YTpwb3N0cywgc3RhdHVzOjIwMCwgbWVzc2FnZTpcIkZldGNoZWQgc3VjY2Vzc2Z1bGx5XCJ9KVxufVxuXG4vLyBjcmVhdGUgbmV3IHBvc3RcbmNvbnN0IHBvc3RfY3JlYXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdHRyeSB7XG5cdFx0aWYocmVxLmJvZHkudGl0bGUgPT09ICcnIHx8IHJlcS5ib2R5LmNvbnRlbnQgPT09ICcnKXtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTpcIlRpdGxlIGFuZCBjb250ZW50IGFyZSByZXF1aXJlZFwifSlcblx0XHR9XG5cdFx0ZWxzZXtcblx0XHRcdGNvbnN0IHBvc3QgPSBuZXcgUG9zdCh7XG5cdFx0XHRcdHRpdGxlOiByZXEuYm9keS50aXRsZSxcblx0XHRcdFx0Y29udGVudDogcmVxLmJvZHkuY29udGVudFxuXHRcdFx0XHRcblx0XHRcblx0XHRcdH0pXG5cdFx0XHRhd2FpdCBwb3N0LnNhdmUoKVxuXHRcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7c3RhdHVzOjIwMSwgbWVzc2FnZTpcIlBvc3QgU2F2ZWQgc3VjY2Vzc2Z1bGx5XCJ9KVxuXHRcdH1cblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJJbnZhbGlkIHRva2VuXCJ9KVxuXHR9XG5cdFxuXHRcbn1cblxuLy8gZ2V0IGluZGl2aWR1YWwgcG9zdFxuY29uc3QgcG9zdF9nZXRfb25lID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KVxuXG5cdFx0aWYocG9zdCA9PT0gbnVsbCl7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6XCJQb3N0IG9mIHRoYXQgaWQgaXMgbm90IGF2YWlsYWJsZVwifSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtkYXRhOnBvc3QsIG1lc3NhZ2U6XCJzdWNjZXNzZnVsbHkgZmV0Y2hlZFwifSk7XG5cblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtlcnJvcjogXCJQb3N0IGRvZXMgbm90IGV4aXN0IVwifSlcblx0fVxufVxuXG4vLyB1cGRhdGUgYSBwb3N0XG5jb25zdCBwb3N0X3VwZGF0ZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRPbmUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSlcblxuXHRcdGlmIChyZXEuYm9keS50aXRsZS5sZW5ndGggPiAwICYmIHJlcS5ib2R5LmNvbnRlbnQubGVuZ3RoID4gMCkge1xuXHRcdFx0cG9zdC50aXRsZSA9IHJlcS5ib2R5LnRpdGxlLFxuXHRcdFx0cG9zdC5jb250ZW50ID0gcmVxLmJvZHkuY29udGVudFxuXG5cblx0XHRcdGF3YWl0IHBvc3Quc2F2ZSgpXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6XCJQb3N0IHN1Y2Nlc3NmdWxseSB1cGRhdGVkIVwifSk7XG5cdFx0fVxuXHRcdGVsc2V7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6XCJUaXRsZSBhbmQgY29udGVudCBuZWVkIHZhbHVlIVwifSk7XG5cdFx0fVxuXG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7ZXJyb3I6IFwiUG9zdCBkb2Vzbid0IGV4aXN0IVwifSlcblx0fVxufVxuXG4vLyBkZWxldGUgYSBwb3N0XG5jb25zdCBwb3N0X2RlbGV0ZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpXG5cdFx0aWYocG9zdCAhPSBudWxsKXtcblxuXHRcdFx0YXdhaXQgcG9zdC5yZW1vdmUoKTtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTogXCJQb3N0IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5IVwifSlcblx0XHR9XG5cdFx0ZWxzZXtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7ZXJyb3I6IFwiUG9zdCBkb2Vzbid0IGV4aXN0IVwifSlcblx0XHR9XG5cblx0XHRcblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtlcnJvcjogXCJTZXJ2ZXIgZXJyb3JcIn0pXG5cdH1cbn1cblxuXG5cbmV4cG9ydCB7cG9zdF9nZXRfYWxsLCBwb3N0X2NyZWF0ZSwgcG9zdF9nZXRfb25lLCBwb3N0X3VwZGF0ZSwgcG9zdF9kZWxldGV9XG4iXX0=","map":{"version":3,"sources":["postControllers.js"],"names":["post_get_all","req","res","posts","Post","find","sort","createdAt","json","data","status","message","post_create","body","title","content","post","save","error","post_get_one","findOne","_id","params","id","post_update","length","post_delete","findById","remove"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["// import models\nimport {Post} from '../models/Post'\n\n\n\n// get all posts\nconst post_get_all = async (req, res) => {\n\tconst posts = await Post.find().sort({createdAt: -1})\n\treturn res.json({data:posts, status:200, message:\"Fetched successfully\"})\n}\n\n// create new post\nconst post_create = async (req, res) => {\n\ttry {\n\t\tif(req.body.title === '' || req.body.content === ''){\n\t\t\treturn res.status(400).json({message:\"Title and content are required\"})\n\t\t}\n\t\telse{\n\t\t\tconst post = new Post({\n\t\t\t\ttitle: req.body.title,\n\t\t\t\tcontent: req.body.content\n\t\t\t\t\n\t\t\n\t\t\t})\n\t\t\tawait post.save()\n\t\n\t\t\treturn res.status(201).json({status:201, message:\"Post Saved successfully\"})\n\t\t}\n\t} catch (error) {\n\t\treturn res.status(403).json({message:\"Invalid token\"})\n\t}\n\t\n\t\n}\n\n// get individual post\nconst post_get_one = async (req, res) => {\n\ttry {\n\t\tconst post = await Post.findOne({ _id: req.params.id })\n\n\t\tif(post === null){\n\t\t\treturn res.status(404).json({message:\"Post of that id is not available\"});\n\t\t}\n\n\t\treturn res.status(200).json({data:post, message:\"successfully fetched\"});\n\n\t} catch {\n\t\treturn res.status(404).json({error: \"Post does not exist!\"})\n\t}\n}\n\n// update a post\nconst post_update = async (req, res) => {\n\ttry {\n\t\tconst post = await Post.findOne({ _id: req.params.id })\n\n\t\tif (req.body.title.length > 0 && req.body.content.length > 0) {\n\t\t\tpost.title = req.body.title,\n\t\t\tpost.content = req.body.content\n\n\n\t\t\tawait post.save()\n\t\t\treturn res.status(200).json({message:\"Post successfully updated!\"});\n\t\t}\n\t\telse{\n\t\t\treturn res.status(400).json({message:\"Title and content need value!\"});\n\t\t}\n\n\t} catch {\n\t\treturn res.status(404).json({error: \"Post doesn't exist!\"})\n\t}\n}\n\n// delete a post\nconst post_delete = async (req, res) => {\n\ttry {\n\t\tconst post = await Post.findById(req.params.id)\n\t\tif(post != null){\n\n\t\t\tawait post.remove();\n\t\t\treturn res.status(200).json({message: \"Post deleted successfully!\"})\n\t\t}\n\t\telse{\n\t\t\treturn res.status(404).json({error: \"Post doesn't exist!\"})\n\t\t}\n\n\t\t\n\t} catch {\n\t\treturn res.status(500).json({error: \"Server error\"})\n\t}\n}\n\n\n\nexport {post_get_all, post_create, post_get_one, post_update, post_delete}\n"]}},"mtime":1650457977179},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/Post.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Post = exports.Comment = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar _User = _interopRequireDefault(require(\"./User\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst commentSchema = new _mongoose.mongoose.Schema({\n  postId: {\n    type: _mongoose.mongoose.Schema.Types.ObjectId,\n    ref: 'Post'\n  },\n  description: String\n}); // const likeSchema = new mongoose.Schema({\n// \tuserId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref: 'User'\n// \t},\n// \tpostId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref:'Post'\n// \t}\n// })\n\nconst schema = new _mongoose.mongoose.Schema({\n  title: {\n    type: String,\n    required: true\n  },\n  content: {\n    type: String,\n    required: true\n  },\n  image: String,\n  comments: [commentSchema],\n  likes: [],\n  postedBy: {\n    type: _mongoose.mongoose.Schema.Types.ObjectId,\n    ref: 'User'\n  }\n}, {\n  timestamps: true\n});\n\nconst Comment = _mongoose.mongoose.model(\"Comment\", commentSchema);\n\nexports.Comment = Comment;\n\nconst Post = _mongoose.mongoose.model(\"Post\", schema);\n\nexports.Post = Post;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBvc3QuanMiXSwibmFtZXMiOlsiY29tbWVudFNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwicG9zdElkIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJkZXNjcmlwdGlvbiIsIlN0cmluZyIsInNjaGVtYSIsInRpdGxlIiwicmVxdWlyZWQiLCJjb250ZW50IiwiaW1hZ2UiLCJjb21tZW50cyIsImxpa2VzIiwicG9zdGVkQnkiLCJ0aW1lc3RhbXBzIiwiQ29tbWVudCIsIm1vZGVsIiwiUG9zdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsYUFBYSxHQUFHLElBQUlDLG1CQUFTQyxNQUFiLENBQW9CO0FBQ3pDQyxFQUFBQSxNQUFNLEVBQUM7QUFDTkMsSUFBQUEsSUFBSSxFQUFDSCxtQkFBU0MsTUFBVCxDQUFnQkcsS0FBaEIsQ0FBc0JDLFFBRHJCO0FBRU5DLElBQUFBLEdBQUcsRUFBQztBQUZFLEdBRGtDO0FBS3RDQyxFQUFBQSxXQUFXLEVBQUNDO0FBTDBCLENBQXBCLENBQXRCLEMsQ0FRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFLQSxNQUFNQyxNQUFNLEdBQUcsSUFBSVQsbUJBQVNDLE1BQWIsQ0FBb0I7QUFDbENTLEVBQUFBLEtBQUssRUFBRTtBQUNOUCxJQUFBQSxJQUFJLEVBQUNLLE1BREM7QUFFTkcsSUFBQUEsUUFBUSxFQUFDO0FBRkgsR0FEMkI7QUFLbENDLEVBQUFBLE9BQU8sRUFBRTtBQUNSVCxJQUFBQSxJQUFJLEVBQUNLLE1BREc7QUFFUkcsSUFBQUEsUUFBUSxFQUFDO0FBRkQsR0FMeUI7QUFTbENFLEVBQUFBLEtBQUssRUFBQ0wsTUFUNEI7QUFXbENNLEVBQUFBLFFBQVEsRUFBQyxDQUFDZixhQUFELENBWHlCO0FBYWxDZ0IsRUFBQUEsS0FBSyxFQUFDLEVBYjRCO0FBZWxDQyxFQUFBQSxRQUFRLEVBQUM7QUFDUmIsSUFBQUEsSUFBSSxFQUFDSCxtQkFBU0MsTUFBVCxDQUFnQkcsS0FBaEIsQ0FBc0JDLFFBRG5CO0FBRVJDLElBQUFBLEdBQUcsRUFBQztBQUZJO0FBZnlCLENBQXBCLEVBb0JiO0FBQUNXLEVBQUFBLFVBQVUsRUFBQztBQUFaLENBcEJhLENBQWY7O0FBdUJPLE1BQU1DLE9BQU8sR0FBR2xCLG1CQUFTbUIsS0FBVCxDQUFlLFNBQWYsRUFBMEJwQixhQUExQixDQUFoQjs7OztBQUNBLE1BQU1xQixJQUFJLEdBQUdwQixtQkFBU21CLEtBQVQsQ0FBZSxNQUFmLEVBQXVCVixNQUF2QixDQUFiIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHttb25nb29zZX0gZnJvbSBcIm1vbmdvb3NlXCJcbmltcG9ydCAgVXNlciAgZnJvbSBcIi4vVXNlclwiXG5cbmNvbnN0IGNvbW1lbnRTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcblx0cG9zdElkOntcblx0XHR0eXBlOm1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcblx0XHRyZWY6J1Bvc3QnXG5cdH0sXG4gICAgZGVzY3JpcHRpb246U3RyaW5nXG59KVxuXG4vLyBjb25zdCBsaWtlU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4vLyBcdHVzZXJJZDp7XG4vLyBcdFx0dHlwZTptb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4vLyBcdFx0cmVmOiAnVXNlcidcbi8vIFx0fSxcbi8vIFx0cG9zdElkOntcbi8vIFx0XHR0eXBlOm1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbi8vIFx0XHRyZWY6J1Bvc3QnXG4vLyBcdH1cbiAgICBcbi8vIH0pXG5cblxuXG5cbmNvbnN0IHNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuXHR0aXRsZToge1xuXHRcdHR5cGU6U3RyaW5nLFxuXHRcdHJlcXVpcmVkOnRydWVcblx0fSxcblx0Y29udGVudDoge1xuXHRcdHR5cGU6U3RyaW5nLFxuXHRcdHJlcXVpcmVkOnRydWVcblx0fSxcblx0aW1hZ2U6U3RyaW5nLFxuXG5cdGNvbW1lbnRzOltjb21tZW50U2NoZW1hXSxcblxuXHRsaWtlczpbXSxcblxuXHRwb3N0ZWRCeTp7XG5cdFx0dHlwZTptb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG5cdFx0cmVmOidVc2VyJ1xuXHR9XG5cbn0se3RpbWVzdGFtcHM6dHJ1ZX0pXG5cblxuZXhwb3J0IGNvbnN0IENvbW1lbnQgPSBtb25nb29zZS5tb2RlbChcIkNvbW1lbnRcIiwgY29tbWVudFNjaGVtYSlcbmV4cG9ydCBjb25zdCBQb3N0ID0gbW9uZ29vc2UubW9kZWwoXCJQb3N0XCIsIHNjaGVtYSlcblxuIl19","map":{"version":3,"sources":["Post.js"],"names":["commentSchema","mongoose","Schema","postId","type","Types","ObjectId","ref","description","String","schema","title","required","content","image","comments","likes","postedBy","timestamps","Comment","model","Post"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,mBAASC,MAAb,CAAoB;AACzCC,EAAAA,MAAM,EAAC;AACNC,IAAAA,IAAI,EAACH,mBAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QADrB;AAENC,IAAAA,GAAG,EAAC;AAFE,GADkC;AAKtCC,EAAAA,WAAW,EAACC;AAL0B,CAApB,CAAtB,C,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAKA,MAAMC,MAAM,GAAG,IAAIT,mBAASC,MAAb,CAAoB;AAClCS,EAAAA,KAAK,EAAE;AACNP,IAAAA,IAAI,EAACK,MADC;AAENG,IAAAA,QAAQ,EAAC;AAFH,GAD2B;AAKlCC,EAAAA,OAAO,EAAE;AACRT,IAAAA,IAAI,EAACK,MADG;AAERG,IAAAA,QAAQ,EAAC;AAFD,GALyB;AASlCE,EAAAA,KAAK,EAACL,MAT4B;AAWlCM,EAAAA,QAAQ,EAAC,CAACf,aAAD,CAXyB;AAalCgB,EAAAA,KAAK,EAAC,EAb4B;AAelCC,EAAAA,QAAQ,EAAC;AACRb,IAAAA,IAAI,EAACH,mBAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QADnB;AAERC,IAAAA,GAAG,EAAC;AAFI;AAfyB,CAApB,EAoBb;AAACW,EAAAA,UAAU,EAAC;AAAZ,CApBa,CAAf;;AAuBO,MAAMC,OAAO,GAAGlB,mBAASmB,KAAT,CAAe,SAAf,EAA0BpB,aAA1B,CAAhB;;;;AACA,MAAMqB,IAAI,GAAGpB,mBAASmB,KAAT,CAAe,MAAf,EAAuBV,MAAvB,CAAb","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/","sourcesContent":["import {mongoose} from \"mongoose\"\nimport  User  from \"./User\"\n\nconst commentSchema = new mongoose.Schema({\n\tpostId:{\n\t\ttype:mongoose.Schema.Types.ObjectId,\n\t\tref:'Post'\n\t},\n    description:String\n})\n\n// const likeSchema = new mongoose.Schema({\n// \tuserId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref: 'User'\n// \t},\n// \tpostId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref:'Post'\n// \t}\n    \n// })\n\n\n\n\nconst schema = new mongoose.Schema({\n\ttitle: {\n\t\ttype:String,\n\t\trequired:true\n\t},\n\tcontent: {\n\t\ttype:String,\n\t\trequired:true\n\t},\n\timage:String,\n\n\tcomments:[commentSchema],\n\n\tlikes:[],\n\n\tpostedBy:{\n\t\ttype:mongoose.Schema.Types.ObjectId,\n\t\tref:'User'\n\t}\n\n},{timestamps:true})\n\n\nexport const Comment = mongoose.model(\"Comment\", commentSchema)\nexport const Post = mongoose.model(\"Post\", schema)\n\n"]}},"mtime":1650535644376},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/UserRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userControllers = require(\"../controllers/userControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n//users//\nrouter.get(\"/users\", _userControllers.users_get_all);\nrouter.post(\"/users\", _userControllers.user_create); //login user\n\nrouter.post(\"/users/login\", _userControllers.user_get_token);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInVzZXJzX2dldF9hbGwiLCJwb3N0IiwidXNlcl9jcmVhdGUiLCJ1c2VyX2dldF90b2tlbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUlBOzs7O0FBRkEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmOztBQVNBO0FBQ0FGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFFBQVgsRUFBcUJDLDhCQUFyQjtBQUVBSixNQUFNLENBQUNLLElBQVAsQ0FBWSxRQUFaLEVBQXNCQyw0QkFBdEIsRSxDQUVBOztBQUNBTixNQUFNLENBQUNLLElBQVAsQ0FBWSxjQUFaLEVBQTRCRSwrQkFBNUI7ZUFFZVAsTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5pbXBvcnQgeyB1c2Vyc19nZXRfYWxsLCB1c2VyX2NyZWF0ZSwgdXNlcl9nZXRfdG9rZW4gfSBmcm9tICcuLi9jb250cm9sbGVycy91c2VyQ29udHJvbGxlcnMnXG5cblxuXG5cblxuXG4vL3VzZXJzLy9cbnJvdXRlci5nZXQoXCIvdXNlcnNcIiwgdXNlcnNfZ2V0X2FsbClcblxucm91dGVyLnBvc3QoXCIvdXNlcnNcIiwgdXNlcl9jcmVhdGUpXG5cbi8vbG9naW4gdXNlclxucm91dGVyLnBvc3QoXCIvdXNlcnMvbG9naW5cIiwgdXNlcl9nZXRfdG9rZW4pXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlclxuIl19","map":{"version":3,"sources":["UserRoutes.js"],"names":["router","express","Router","get","users_get_all","post","user_create","user_get_token"],"mappings":";;;;;;;AAAA;;AAIA;;;;AAFA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AASA;AACAF,MAAM,CAACG,GAAP,CAAW,QAAX,EAAqBC,8BAArB;AAEAJ,MAAM,CAACK,IAAP,CAAY,QAAZ,EAAsBC,4BAAtB,E,CAEA;;AACAN,MAAM,CAACK,IAAP,CAAY,cAAZ,EAA4BE,+BAA5B;eAEeP,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport { users_get_all, user_create, user_get_token } from '../controllers/userControllers'\n\n\n\n\n\n\n//users//\nrouter.get(\"/users\", users_get_all)\n\nrouter.post(\"/users\", user_create)\n\n//login user\nrouter.post(\"/users/login\", user_get_token)\n\nexport default router\n"]}},"mtime":1650457977215},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/userControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.users_get_all = exports.user_get_token = exports.user_create = void 0;\n\nvar _User = require(\"../models/User\");\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import models\n//listing all users\nconst users_get_all = (req, res) => {\n  const users = _User.User.find().then(result => {\n    return res.status(200).json({\n      data: result\n    });\n  });\n}; // creating a new user\n\n\nexports.users_get_all = users_get_all;\n\nconst user_create = async (req, res) => {\n  try {\n    if (req.body.username === '' || req.body.email === '' || req.body.password === '') {\n      return res.status(403).json({\n        message: \"All fields are required\"\n      });\n    }\n\n    const salt = await _bcrypt.default.genSalt();\n    const hashedPassword = await _bcrypt.default.hash(req.body.password, salt);\n    const isNewUser = await _User.User.isThisEmailInUSe(req.body.email);\n    if (!isNewUser) return res.status(403).json({\n      message: \"user already exists\"\n    });\n    const user = await new _User.User({\n      username: req.body.username,\n      email: req.body.email,\n      password: hashedPassword\n    });\n    await user.save();\n    return res.status(201).json({\n      message: \"user created!\"\n    });\n  } catch (error) {\n    return res.status(500).json({\n      error: error.message\n    });\n  }\n}; //login user\n\n\nexports.user_create = user_create;\n\nconst user_get_token = async (req, res) => {\n  try {\n    const user = await _User.User.findOne({\n      username: req.body.username\n    });\n\n    if (user) {\n      const match = await user.passwordComparison(req.body.password, user.password);\n\n      if (match) {\n        //further code to maintain jwt authentication\n        const user = {\n          username: req.body.username\n        };\n\n        const accesToken = _jsonwebtoken.default.sign(user, process.env.ACCESS_TOKEN_SECRET, {\n          expiresIn: '30m'\n        });\n\n        return res.status(200).json({\n          Token: accesToken\n        });\n      } else {\n        res.status(403).json({\n          message: \"Invalid username or password.\"\n        });\n      }\n    } else {\n      res.status(400).json({\n        message: \"Not User.\"\n      });\n    }\n  } catch (error) {\n    res.status(500).json({\n      message: \"Internal Server error occured\"\n    });\n  }\n};\n\nexports.user_get_token = user_get_token;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJ1c2Vyc19nZXRfYWxsIiwicmVxIiwicmVzIiwidXNlcnMiLCJVc2VyIiwiZmluZCIsInRoZW4iLCJyZXN1bHQiLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsInVzZXJfY3JlYXRlIiwiYm9keSIsInVzZXJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsIm1lc3NhZ2UiLCJzYWx0IiwiYmNyeXB0IiwiZ2VuU2FsdCIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsImlzTmV3VXNlciIsImlzVGhpc0VtYWlsSW5VU2UiLCJ1c2VyIiwic2F2ZSIsImVycm9yIiwidXNlcl9nZXRfdG9rZW4iLCJmaW5kT25lIiwibWF0Y2giLCJwYXNzd29yZENvbXBhcmlzb24iLCJhY2Nlc1Rva2VuIiwiand0Iiwic2lnbiIsInByb2Nlc3MiLCJlbnYiLCJBQ0NFU1NfVE9LRU5fU0VDUkVUIiwiZXhwaXJlc0luIiwiVG9rZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUhBO0FBS0E7QUFDQSxNQUFNQSxhQUFhLEdBQUUsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQVk7QUFFaEMsUUFBTUMsS0FBSyxHQUFHQyxXQUFLQyxJQUFMLEdBQVlDLElBQVosQ0FBa0JDLE1BQUQsSUFBVTtBQUN4QyxXQUFPTCxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxJQUFJLEVBQUNIO0FBQU4sS0FBckIsQ0FBUDtBQUNBLEdBRmEsQ0FBZDtBQUdBLENBTEQsQyxDQU9BOzs7OztBQUNBLE1BQU1JLFdBQVcsR0FBRyxPQUFPVixHQUFQLEVBQVlDLEdBQVosS0FBa0I7QUFDckMsTUFBSTtBQUNILFFBQUdELEdBQUcsQ0FBQ1csSUFBSixDQUFTQyxRQUFULEtBQXNCLEVBQXRCLElBQTRCWixHQUFHLENBQUNXLElBQUosQ0FBU0UsS0FBVCxLQUFtQixFQUEvQyxJQUFx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QUFDO0FBQVQsT0FBckI7QUFDRDtBQUVDLEdBdkJILENBdUJJLE9BQU9VLEtBQVAsRUFBYztBQUVqQnhCLElBQUFBLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNPLE1BQUFBLE9BQU8sRUFBQztBQUFULEtBQXJCO0FBQ0U7QUFFSCxDQTdCRCIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IG1vZGVsc1xuaW1wb3J0IHtVc2VyfSBmcm9tICcuLi9tb2RlbHMvVXNlcidcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0J1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXG5cbi8vbGlzdGluZyBhbGwgdXNlcnNcbmNvbnN0IHVzZXJzX2dldF9hbGw9IChyZXEsIHJlcyk9Pntcblx0XG5cdGNvbnN0IHVzZXJzID0gVXNlci5maW5kKCkudGhlbigocmVzdWx0KT0+e1xuXHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7ZGF0YTpyZXN1bHR9KVxuXHR9KVxufVxuXG4vLyBjcmVhdGluZyBhIG5ldyB1c2VyXG5jb25zdCB1c2VyX2NyZWF0ZSA9IGFzeW5jIChyZXEsIHJlcyk9Pntcblx0dHJ5IHtcblx0XHRpZihyZXEuYm9keS51c2VybmFtZSA9PT0gJycgfHwgcmVxLmJvZHkuZW1haWwgPT09ICcnIHx8IHJlcS5ib2R5LnBhc3N3b3JkID09PSAnJyl7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJBbGwgZmllbGRzIGFyZSByZXF1aXJlZFwifSlcblx0XHR9XG5cblx0XHRjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoKVxuXHRcdGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsIHNhbHQpXG5cblx0XHRjb25zdCBpc05ld1VzZXIgPSBhd2FpdCBVc2VyLmlzVGhpc0VtYWlsSW5VU2UocmVxLmJvZHkuZW1haWwpO1xuXHRcdGlmKCFpc05ld1VzZXIpIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTpcInVzZXIgYWxyZWFkeSBleGlzdHNcIn0pO1xuXG5cdFx0Y29uc3QgdXNlciA9IGF3YWl0IG5ldyBVc2VyKHtcblx0XHRcdHVzZXJuYW1lOnJlcS5ib2R5LnVzZXJuYW1lLFxuXHRcdFx0ZW1haWw6cmVxLmJvZHkuZW1haWwsXG5cdFx0XHRwYXNzd29yZDpoYXNoZWRQYXNzd29yZFxuXHRcdH0pXG5cdFxuXHRcdGF3YWl0IHVzZXIuc2F2ZSgpXG5cdFxuXHRcdHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7bWVzc2FnZTpcInVzZXIgY3JlYXRlZCFcIn0pXG5cdFx0XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtlcnJvcjplcnJvci5tZXNzYWdlfSlcblx0fVxuXG5cdFxufVxuXG4vL2xvZ2luIHVzZXJcbmNvbnN0IHVzZXJfZ2V0X3Rva2VuPSBhc3luYyAocmVxLCByZXMpPT57XG5cdHRyeSB7XG5cdFx0Y29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiByZXEuYm9keS51c2VybmFtZSB9KTtcblxuXHRcdGlmICh1c2VyKSB7XG5cdFx0ICBjb25zdCBtYXRjaCA9IGF3YWl0IHVzZXIucGFzc3dvcmRDb21wYXJpc29uKHJlcS5ib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcblx0XHQgIGlmIChtYXRjaCkge1xuXHRcdFx0Ly9mdXJ0aGVyIGNvZGUgdG8gbWFpbnRhaW4gand0IGF1dGhlbnRpY2F0aW9uXG5cdFx0XHRcblx0XHRcdGNvbnN0IHVzZXIgPSB7XG5cdFx0XHRcdHVzZXJuYW1lIDogcmVxLmJvZHkudXNlcm5hbWVcblx0XHRcdFx0XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBhY2Nlc1Rva2VuID0gand0LnNpZ24odXNlciwgcHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCwge2V4cGlyZXNJbjogJzMwbSd9KTtcblx0XHRcdFxuXHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtUb2tlbjphY2Nlc1Rva2VufSk7XG5cdFx0ICB9IGVsc2Uge1xuXHRcdFx0cmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJJbnZhbGlkIHVzZXJuYW1lIG9yIHBhc3N3b3JkLlwifSk7XG5cdFx0ICB9XG5cblx0XHR9IGVsc2Uge1xuXHRcdCAgcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6XCJOb3QgVXNlci5cIn0pO1xuXHRcdH1cbiAgICAgICAgXG5cdCAgfSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcblx0XHRyZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTpcIkludGVybmFsIFNlcnZlciBlcnJvciBvY2N1cmVkXCJ9KTtcblx0ICB9XG5cbn1cblxuZXhwb3J0IHt1c2Vyc19nZXRfYWxsLCB1c2VyX2NyZWF0ZSwgdXNlcl9nZXRfdG9rZW59XG5cbiJdfQ==","map":{"version":3,"sources":["userControllers.js"],"names":["users_get_all","req","res","users","User","find","then","result","status","json","data","user_create","body","username","email","password","message","salt","bcrypt","genSalt","hashedPassword","hash","isNewUser","isThisEmailInUSe","user","save","error","user_get_token","findOne","match","passwordComparison","accesToken","jwt","sign","process","env","ACCESS_TOKEN_SECRET","expiresIn","Token"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["// import models\nimport {User} from '../models/User'\nimport bcrypt from 'bcrypt'\nimport jwt from 'jsonwebtoken'\n\n//listing all users\nconst users_get_all= (req, res)=>{\n\t\n\tconst users = User.find().then((result)=>{\n\t\treturn res.status(200).json({data:result})\n\t})\n}\n\n// creating a new user\nconst user_create = async (req, res)=>{\n\ttry {\n\t\tif(req.body.username === '' || req.body.email === '' || req.body.password === ''){\n\t\t\treturn res.status(403).json({message:\"All fields are required\"})\n\t\t}\n\n\t\tconst salt = await bcrypt.genSalt()\n\t\tconst hashedPassword = await bcrypt.hash(req.body.password, salt)\n\n\t\tconst isNewUser = await User.isThisEmailInUSe(req.body.email);\n\t\tif(!isNewUser) return res.status(403).json({message:\"user already exists\"});\n\n\t\tconst user = await new User({\n\t\t\tusername:req.body.username,\n\t\t\temail:req.body.email,\n\t\t\tpassword:hashedPassword\n\t\t})\n\t\n\t\tawait user.save()\n\t\n\t\treturn res.status(201).json({message:\"user created!\"})\n\t\t\n\t} catch (error) {\n\t\treturn res.status(500).json({error:error.message})\n\t}\n\n\t\n}\n\n//login user\nconst user_get_token= async (req, res)=>{\n\ttry {\n\t\tconst user = await User.findOne({ username: req.body.username });\n\n\t\tif (user) {\n\t\t  const match = await user.passwordComparison(req.body.password, user.password);\n\t\t  if (match) {\n\t\t\t//further code to maintain jwt authentication\n\t\t\t\n\t\t\tconst user = {\n\t\t\t\tusername : req.body.username\n\t\t\t\t\n\t\t\t}\n\t\t\tconst accesToken = jwt.sign(user, process.env.ACCESS_TOKEN_SECRET, {expiresIn: '30m'});\n\t\t\t\n\t\t\treturn res.status(200).json({Token:accesToken});\n\t\t  } else {\n\t\t\tres.status(403).json({message:\"Invalid username or password.\"});\n\t\t  }\n\n\t\t} else {\n\t\t  res.status(400).json({message:\"Not User.\"});\n\t\t}\n        \n\t  } catch (error) {\n\t\t\n\t\tres.status(500).json({message:\"Internal Server error occured\"});\n\t  }\n\n}\n\nexport {users_get_all, user_create, user_get_token}\n\n"]}},"mtime":1650457977179},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.User = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  username: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String\n  },\n  password: {\n    type: String,\n    required: true\n  }\n});\n\nuserSchema.statics.isThisEmailInUSe = async function (email) {\n  try {\n    const user = await this.findOne({\n      email\n    });\n\n    if (user) {\n      return false;\n    } else {\n      return true;\n    }\n  } catch (error) {\n    console.log('error', error.message);\n    return false;\n  }\n};\n\nuserSchema.methods.passwordComparison = function (inputPassword) {\n  let user = this;\n  return _bcrypt.default.compare(inputPassword, user.password);\n};\n\nuserSchema.statics.getUser = function (username) {\n  return this.find({\n    username: username\n  });\n};\n\nconst User = _mongoose.default.model(\"User\", userSchema);\n\nexports.User = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwidXNlcm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJlbWFpbCIsInBhc3N3b3JkIiwic3RhdGljcyIsImlzVGhpc0VtYWlsSW5VU2UiLCJ1c2VyIiwiZmluZE9uZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJtZXRob2RzIiwicGFzc3dvcmRDb21wYXJpc29uIiwiaW5wdXRQYXNzd29yZCIsImJjcnlwdCIsImNvbXBhcmUiLCJnZXRVc2VyIiwiZmluZCIsIlVzZXIiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQ3RDQyxFQUFBQSxRQUFRLEVBQUM7QUFDUkMsSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLElBQUFBLFFBQVEsRUFBRTtBQUZGLEdBRDZCO0FBS3RDQyxFQUFBQSxLQUFLLEVBQUM7QUFDTEgsSUFBQUEsSUFBSSxFQUFFQztBQURELEdBTGdDO0FBUXRDRyxFQUFBQSxRQUFRLEVBQUM7QUFDUkosSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLElBQUFBLFFBQVEsRUFBRTtBQUZGO0FBUjZCLENBQXBCLENBQW5COztBQWVBTixVQUFVLENBQUNTLE9BQVgsQ0FBbUJDLGdCQUFuQixHQUFzQyxnQkFBZUgsS0FBZixFQUFxQjtBQUMxRCxNQUFJO0FBQ0gsVUFBTUksSUFBSSxHQUFHLE1BQU0sS0FBS0MsT0FBTCxDQUFhO0FBQUNMLE1BQUFBO0FBQUQsS0FBYixDQUFuQjs7QUFDQSxRQUFHSSxJQUFILEVBQVM7QUFDUixhQUFPLEtBQVA7QUFDQSxLQUZELE1BRUs7QUFDSixhQUFPLElBQVA7QUFDQTtBQUdELEdBVEQsQ0FTRSxPQUFPRSxLQUFQLEVBQWM7QUFDZkMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWixFQUFxQkYsS0FBSyxDQUFDRyxPQUEzQjtBQUNBLFdBQU8sS0FBUDtBQUVBO0FBR0QsQ0FqQkQ7O0FBbUJBaEIsVUFBVSxDQUFDaUIsT0FBWCxDQUFtQkMsa0JBQW5CLEdBQXdDLFVBQVNDLGFBQVQsRUFBdUI7QUFDL0QsTUFBSVIsSUFBSSxHQUFHLElBQVg7QUFDRSxTQUFPUyxnQkFBT0MsT0FBUCxDQUFlRixhQUFmLEVBQThCUixJQUFJLENBQUNILFFBQW5DLENBQVA7QUFDRCxDQUhEOztBQUtBUixVQUFVLENBQUNTLE9BQVgsQ0FBbUJhLE9BQW5CLEdBQTZCLFVBQVVuQixRQUFWLEVBQW9CO0FBQ2hELFNBQU8sS0FBS29CLElBQUwsQ0FBVTtBQUFFcEIsSUFBQUEsUUFBUSxFQUFFQTtBQUFaLEdBQVYsQ0FBUDtBQUNBLENBRkQ7O0FBSU8sTUFBTXFCLElBQUksR0FBRXZCLGtCQUFTd0IsS0FBVCxDQUFlLE1BQWYsRUFBdUJ6QixVQUF2QixDQUFaIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCdcblxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuXHR1c2VybmFtZTp7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiB0cnVlXG5cdH0sXG5cdGVtYWlsOntcblx0XHR0eXBlOiBTdHJpbmdcblx0fSxcblx0cGFzc3dvcmQ6e1xuXHRcdHR5cGU6IFN0cmluZyxcblx0XHRyZXF1aXJlZDogdHJ1ZVxuXHR9XG5cbn0pXG5cbnVzZXJTY2hlbWEuc3RhdGljcy5pc1RoaXNFbWFpbEluVVNlID0gYXN5bmMgZnVuY3Rpb24oZW1haWwpe1xuXHR0cnkge1xuXHRcdGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRPbmUoe2VtYWlsfSlcblx0XHRpZih1c2VyKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fWVsc2V7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0XG5cdFx0XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IubWVzc2FnZSk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFxuXHR9XG5cblx0XG59XG5cbnVzZXJTY2hlbWEubWV0aG9kcy5wYXNzd29yZENvbXBhcmlzb24gPSBmdW5jdGlvbihpbnB1dFBhc3N3b3JkKXtcbmxldCB1c2VyID0gdGhpcztcbiAgcmV0dXJuIGJjcnlwdC5jb21wYXJlKGlucHV0UGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xufTtcblxudXNlclNjaGVtYS5zdGF0aWNzLmdldFVzZXIgPSBmdW5jdGlvbiAodXNlcm5hbWUpIHtcblx0cmV0dXJuIHRoaXMuZmluZCh7IHVzZXJuYW1lOiB1c2VybmFtZSB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IFVzZXIgPW1vbmdvb3NlLm1vZGVsKFwiVXNlclwiLCB1c2VyU2NoZW1hKSJdfQ==","map":{"version":3,"sources":["User.js"],"names":["userSchema","mongoose","Schema","username","type","String","required","email","password","statics","isThisEmailInUSe","user","findOne","error","console","log","message","methods","passwordComparison","inputPassword","bcrypt","compare","getUser","find","User","model"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACtCC,EAAAA,QAAQ,EAAC;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GAD6B;AAKtCC,EAAAA,KAAK,EAAC;AACLH,IAAAA,IAAI,EAAEC;AADD,GALgC;AAQtCG,EAAAA,QAAQ,EAAC;AACRJ,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF;AAR6B,CAApB,CAAnB;;AAeAN,UAAU,CAACS,OAAX,CAAmBC,gBAAnB,GAAsC,gBAAeH,KAAf,EAAqB;AAC1D,MAAI;AACH,UAAMI,IAAI,GAAG,MAAM,KAAKC,OAAL,CAAa;AAACL,MAAAA;AAAD,KAAb,CAAnB;;AACA,QAAGI,IAAH,EAAS;AACR,aAAO,KAAP;AACA,KAFD,MAEK;AACJ,aAAO,IAAP;AACA;AAGD,GATD,CASE,OAAOE,KAAP,EAAc;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAAK,CAACG,OAA3B;AACA,WAAO,KAAP;AAEA;AAGD,CAjBD;;AAmBAhB,UAAU,CAACiB,OAAX,CAAmBC,kBAAnB,GAAwC,UAASC,aAAT,EAAuB;AAC/D,MAAIR,IAAI,GAAG,IAAX;AACE,SAAOS,gBAAOC,OAAP,CAAeF,aAAf,EAA8BR,IAAI,CAACH,QAAnC,CAAP;AACD,CAHD;;AAKAR,UAAU,CAACS,OAAX,CAAmBa,OAAnB,GAA6B,UAAUnB,QAAV,EAAoB;AAChD,SAAO,KAAKoB,IAAL,CAAU;AAAEpB,IAAAA,QAAQ,EAAEA;AAAZ,GAAV,CAAP;AACA,CAFD;;AAIO,MAAMqB,IAAI,GAAEvB,kBAASwB,KAAT,CAAe,MAAf,EAAuBzB,UAAvB,CAAZ","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/","sourcesContent":["import mongoose from \"mongoose\"\nimport bcrypt from 'bcrypt'\n\nconst userSchema = new mongoose.Schema({\n\tusername:{\n\t\ttype: String,\n\t\trequired: true\n\t},\n\temail:{\n\t\ttype: String\n\t},\n\tpassword:{\n\t\ttype: String,\n\t\trequired: true\n\t}\n\n})\n\nuserSchema.statics.isThisEmailInUSe = async function(email){\n\ttry {\n\t\tconst user = await this.findOne({email})\n\t\tif(user) {\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t\n\t} catch (error) {\n\t\tconsole.log('error', error.message);\n\t\treturn false;\n\t\t\n\t}\n\n\t\n}\n\nuserSchema.methods.passwordComparison = function(inputPassword){\nlet user = this;\n  return bcrypt.compare(inputPassword, user.password);\n};\n\nuserSchema.statics.getUser = function (username) {\n\treturn this.find({ username: username });\n}\n\nexport const User =mongoose.model(\"User\", userSchema)"]}},"mtime":1650457977183},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/MessageRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _messageControllers = require(\"../controllers/messageControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n//Contact or Messages\nrouter.get(\"/messages\", _messageControllers.messages_get_all);\nrouter.post(\"/messages\", _messageControllers.message_create);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1lc3NhZ2VSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsIm1lc3NhZ2VzX2dldF9hbGwiLCJwb3N0IiwibWVzc2FnZV9jcmVhdGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFHQTs7OztBQUZBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFLQTtBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxXQUFYLEVBQXdCQyxvQ0FBeEI7QUFFQUosTUFBTSxDQUFDSyxJQUFQLENBQVksV0FBWixFQUF5QkMsa0NBQXpCO2VBRWVOLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmltcG9ydCB7bWVzc2FnZXNfZ2V0X2FsbCwgbWVzc2FnZV9jcmVhdGV9IGZyb20gXCIuLi9jb250cm9sbGVycy9tZXNzYWdlQ29udHJvbGxlcnNcIlxuXG5cbi8vQ29udGFjdCBvciBNZXNzYWdlc1xucm91dGVyLmdldChcIi9tZXNzYWdlc1wiLCBtZXNzYWdlc19nZXRfYWxsKVxuXG5yb3V0ZXIucG9zdChcIi9tZXNzYWdlc1wiLCBtZXNzYWdlX2NyZWF0ZSlcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyIl19","map":{"version":3,"sources":["MessageRoutes.js"],"names":["router","express","Router","get","messages_get_all","post","message_create"],"mappings":";;;;;;;AAAA;;AAGA;;;;AAFA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAKA;AACAF,MAAM,CAACG,GAAP,CAAW,WAAX,EAAwBC,oCAAxB;AAEAJ,MAAM,CAACK,IAAP,CAAY,WAAZ,EAAyBC,kCAAzB;eAEeN,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\nconst router = express.Router();\n\nimport {messages_get_all, message_create} from \"../controllers/messageControllers\"\n\n\n//Contact or Messages\nrouter.get(\"/messages\", messages_get_all)\n\nrouter.post(\"/messages\", message_create)\n\nexport default router"]}},"mtime":1650457977187},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/messageControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.messages_get_all = exports.message_create = void 0;\n\nvar _Contact = require(\"../models/Contact\");\n\n//contact or mesages\nconst messages_get_all = async (req, res) => {\n  try {\n    const messages = await _Contact.Contact.find();\n    if (messages == null) return res.status(404);\n    return res.status(200).json({\n      data: messages,\n      message: \"contacts fetched!\"\n    });\n  } catch (error) {\n    return res.status(404);\n  }\n};\n\nexports.messages_get_all = messages_get_all;\n\nconst message_create = async (req, res) => {\n  if (req.body.sender === '' || req.body.message === '') {\n    return res.status(403).json({\n      message: \"sender and message are required\"\n    });\n  } else {\n    const message = new _Contact.Contact({\n      sender: req.body.sender,\n      name: req.body.name,\n      message: req.body.message\n    });\n    await message.save();\n    return res.status(201).json({\n      message: \"Message Sent successfully\"\n    });\n  }\n};\n\nexports.message_create = message_create;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2VDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJtZXNzYWdlc19nZXRfYWxsIiwicmVxIiwicmVzIiwibWVzc2FnZXMiLCJDb250YWN0IiwiZmluZCIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwibWVzc2FnZSIsImVycm9yIiwibWVzc2FnZV9jcmVhdGUiLCJib2R5Iiwic2VuZGVyIiwibmFtZSIsInNhdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBLE1BQU1BLGdCQUFnQixHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFrQjtBQUN2QyxNQUFHO0FBQ0MsVUFBTUMsUUFBUSxHQUFHLE1BQU1DLGlCQUFRQyxJQUFSLEVBQXZCO0FBQ0EsUUFBSUYsUUFBUSxJQUFJLElBQWhCLEVBQXNCLE9BQVFELEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsQ0FBUjtBQUV0QixXQUFPSixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxJQUFJLEVBQUNMLFFBQU47QUFBZ0JNLE1BQUFBLE9BQU8sRUFBQztBQUF4QixLQUFyQixDQUFQO0FBQ0MsR0FMTCxDQUtNLE9BQU1DLEtBQU4sRUFBWTtBQUNkLFdBQU9SLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsQ0FBUDtBQUNIO0FBRUosQ0FWRDs7OztBQVdBLE1BQU1LLGNBQWMsR0FBRyxPQUFNVixHQUFOLEVBQVdDLEdBQVgsS0FBaUI7QUFDcEMsTUFBR0QsR0FBRyxDQUFDVyxJQUFKLENBQVNDLE1BQVQsS0FBb0IsRUFBcEIsSUFBMEJaLEdBQUcsQ0FBQ1csSUFBSixDQUFTSCxPQUFULEtBQXFCLEVBQWxELEVBQXFEO0FBQ2pELFdBQU9QLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNFLE1BQUFBLE9BQU8sRUFBQztBQUFULEtBQXJCLENBQVA7QUFDSCxHQUZELE1BR0k7QUFDQSxVQUFNQSxPQUFPLEdBQUcsSUFBSUwsZ0JBQUosQ0FBWTtBQUN4QlMsTUFBQUEsTUFBTSxFQUFFWixHQUFHLENBQUNXLElBQUosQ0FBU0MsTUFETztBQUV4QkMsTUFBQUEsSUFBSSxFQUFDYixHQUFHLENBQUNXLElBQUosQ0FBU0UsSUFGVTtBQUd4QkwsTUFBQUEsT0FBTyxFQUFFUixHQUFHLENBQUNXLElBQUosQ0FBU0g7QUFITSxLQUFaLENBQWhCO0FBTUEsVUFBTUEsT0FBTyxDQUFDTSxJQUFSLEVBQU47QUFFQSxXQUFPYixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDRSxNQUFBQSxPQUFPLEVBQUM7QUFBVCxLQUFyQixDQUFQO0FBQ0g7QUFDSixDQWZEIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbnRhY3R9IGZyb20gJy4uL21vZGVscy9Db250YWN0J1xuXG4vL2NvbnRhY3Qgb3IgbWVzYWdlc1xuY29uc3QgbWVzc2FnZXNfZ2V0X2FsbCA9IGFzeW5jIChyZXEsIHJlcyk9PntcbiAgICB0cnl7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgQ29udGFjdC5maW5kKCk7XG4gICAgICAgIGlmIChtZXNzYWdlcyA9PSBudWxsKSByZXR1cm4gIHJlcy5zdGF0dXMoNDA0KVxuICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe2RhdGE6bWVzc2FnZXMsIG1lc3NhZ2U6XCJjb250YWN0cyBmZXRjaGVkIVwifSlcbiAgICAgICAgfSBjYXRjaChlcnJvcil7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNClcbiAgICB9XG4gICAgXG59XG5jb25zdCBtZXNzYWdlX2NyZWF0ZSA9IGFzeW5jKHJlcSwgcmVzKT0+e1xuICAgIGlmKHJlcS5ib2R5LnNlbmRlciA9PT0gJycgfHwgcmVxLmJvZHkubWVzc2FnZSA9PT0gJycpe1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJzZW5kZXIgYW5kIG1lc3NhZ2UgYXJlIHJlcXVpcmVkXCJ9KVxuICAgIH1cbiAgICBlbHNle1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gbmV3IENvbnRhY3Qoe1xuICAgICAgICAgICAgc2VuZGVyOiByZXEuYm9keS5zZW5kZXIsXG4gICAgICAgICAgICBuYW1lOnJlcS5ib2R5Lm5hbWUsXG4gICAgICAgICAgICBtZXNzYWdlOiByZXEuYm9keS5tZXNzYWdlLFxuICAgIFxuICAgICAgICB9KVxuICAgICAgICBhd2FpdCBtZXNzYWdlLnNhdmUoKVxuXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7bWVzc2FnZTpcIk1lc3NhZ2UgU2VudCBzdWNjZXNzZnVsbHlcIn0pXG4gICAgfVxufVxuXG5leHBvcnQge21lc3NhZ2VzX2dldF9hbGwsIG1lc3NhZ2VfY3JlYXRlfSAgICAiXX0=","map":{"version":3,"sources":["messageControllers.js"],"names":["messages_get_all","req","res","messages","Contact","find","status","json","data","message","error","message_create","body","sender","name","save"],"mappings":";;;;;;;AAAA;;AAEA;AACA,MAAMA,gBAAgB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAkB;AACvC,MAAG;AACC,UAAMC,QAAQ,GAAG,MAAMC,iBAAQC,IAAR,EAAvB;AACA,QAAIF,QAAQ,IAAI,IAAhB,EAAsB,OAAQD,GAAG,CAACI,MAAJ,CAAW,GAAX,CAAR;AAEtB,WAAOJ,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,IAAI,EAACL,QAAN;AAAgBM,MAAAA,OAAO,EAAC;AAAxB,KAArB,CAAP;AACC,GALL,CAKM,OAAMC,KAAN,EAAY;AACd,WAAOR,GAAG,CAACI,MAAJ,CAAW,GAAX,CAAP;AACH;AAEJ,CAVD;;;;AAWA,MAAMK,cAAc,GAAG,OAAMV,GAAN,EAAWC,GAAX,KAAiB;AACpC,MAAGD,GAAG,CAACW,IAAJ,CAASC,MAAT,KAAoB,EAApB,IAA0BZ,GAAG,CAACW,IAAJ,CAASH,OAAT,KAAqB,EAAlD,EAAqD;AACjD,WAAOP,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACE,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AACH,GAFD,MAGI;AACA,UAAMA,OAAO,GAAG,IAAIL,gBAAJ,CAAY;AACxBS,MAAAA,MAAM,EAAEZ,GAAG,CAACW,IAAJ,CAASC,MADO;AAExBC,MAAAA,IAAI,EAACb,GAAG,CAACW,IAAJ,CAASE,IAFU;AAGxBL,MAAAA,OAAO,EAAER,GAAG,CAACW,IAAJ,CAASH;AAHM,KAAZ,CAAhB;AAMA,UAAMA,OAAO,CAACM,IAAR,EAAN;AAEA,WAAOb,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACE,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AACH;AACJ,CAfD","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import {Contact} from '../models/Contact'\n\n//contact or mesages\nconst messages_get_all = async (req, res)=>{\n    try{\n        const messages = await Contact.find();\n        if (messages == null) return  res.status(404)\n       \n        return res.status(200).json({data:messages, message:\"contacts fetched!\"})\n        } catch(error){\n        return res.status(404)\n    }\n    \n}\nconst message_create = async(req, res)=>{\n    if(req.body.sender === '' || req.body.message === ''){\n        return res.status(403).json({message:\"sender and message are required\"})\n    }\n    else{\n        const message = new Contact({\n            sender: req.body.sender,\n            name:req.body.name,\n            message: req.body.message,\n    \n        })\n        await message.save()\n\n        return res.status(201).json({message:\"Message Sent successfully\"})\n    }\n}\n\nexport {messages_get_all, message_create}    "]}},"mtime":1650529729420},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/Contact.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Contact = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst contactSchema = new _mongoose.mongoose.Schema({\n  sender: {\n    type: String\n  },\n  name: {\n    type: String\n  },\n  message: {\n    type: String\n  }\n}, {\n  timestamps: true\n});\n\nconst Contact = _mongoose.mongoose.model(\"Message\", contactSchema);\n\nexports.Contact = Contact;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbnRhY3QuanMiXSwibmFtZXMiOlsiY29udGFjdFNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwic2VuZGVyIiwidHlwZSIsIlN0cmluZyIsIm5hbWUiLCJtZXNzYWdlIiwidGltZXN0YW1wcyIsIkNvbnRhY3QiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyxtQkFBU0MsTUFBYixDQUFvQjtBQUN6Q0MsRUFBQUEsTUFBTSxFQUFDO0FBQ05DLElBQUFBLElBQUksRUFBQ0M7QUFEQyxHQURrQztBQUl0Q0MsRUFBQUEsSUFBSSxFQUFDO0FBQ0RGLElBQUFBLElBQUksRUFBQ0M7QUFESixHQUppQztBQU96Q0UsRUFBQUEsT0FBTyxFQUFDO0FBQ1BILElBQUFBLElBQUksRUFBQ0M7QUFERTtBQVBpQyxDQUFwQixFQVVwQjtBQUFDRyxFQUFBQSxVQUFVLEVBQUM7QUFBWixDQVZvQixDQUF0Qjs7QUFhTyxNQUFNQyxPQUFPLEdBQUdSLG1CQUFTUyxLQUFULENBQWUsU0FBZixFQUEwQlYsYUFBMUIsQ0FBaEIiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge21vbmdvb3NlfSBmcm9tIFwibW9uZ29vc2VcIlxuXG5jb25zdCBjb250YWN0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG5cdHNlbmRlcjp7XG5cdFx0dHlwZTpTdHJpbmdcblx0fSxcbiAgICBuYW1lOntcbiAgICAgICAgdHlwZTpTdHJpbmdcbiAgICB9LFxuXHRtZXNzYWdlOntcblx0XHR0eXBlOlN0cmluZ1xuXHR9XG59LHt0aW1lc3RhbXBzOnRydWV9KVxuXG5cbmV4cG9ydCBjb25zdCBDb250YWN0ID0gbW9uZ29vc2UubW9kZWwoXCJNZXNzYWdlXCIsIGNvbnRhY3RTY2hlbWEpIl19","map":{"version":3,"sources":["Contact.js"],"names":["contactSchema","mongoose","Schema","sender","type","String","name","message","timestamps","Contact","model"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,aAAa,GAAG,IAAIC,mBAASC,MAAb,CAAoB;AACzCC,EAAAA,MAAM,EAAC;AACNC,IAAAA,IAAI,EAACC;AADC,GADkC;AAItCC,EAAAA,IAAI,EAAC;AACDF,IAAAA,IAAI,EAACC;AADJ,GAJiC;AAOzCE,EAAAA,OAAO,EAAC;AACPH,IAAAA,IAAI,EAACC;AADE;AAPiC,CAApB,EAUpB;AAACG,EAAAA,UAAU,EAAC;AAAZ,CAVoB,CAAtB;;AAaO,MAAMC,OAAO,GAAGR,mBAASS,KAAT,CAAe,SAAf,EAA0BV,aAA1B,CAAhB","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/","sourcesContent":["import {mongoose} from \"mongoose\"\n\nconst contactSchema = new mongoose.Schema({\n\tsender:{\n\t\ttype:String\n\t},\n    name:{\n        type:String\n    },\n\tmessage:{\n\t\ttype:String\n\t}\n},{timestamps:true})\n\n\nexport const Contact = mongoose.model(\"Message\", contactSchema)"]}},"mtime":1650457977179},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/CommentRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _AuthenticateToken = require(\"../AuthMiddleWare/AuthenticateToken\");\n\nvar _commentControllers = require(\"../controllers/commentControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router(); //add comment\n\n\nrouter.post(\"/posts/:id/comment\", _AuthenticateToken.authenticateToken, _commentControllers.comment_one); // get all comment of a post\n\nrouter.get(\"/posts/:id/comment\", _commentControllers.comment_get_all); // get one comment\n\nrouter.get(\"/comments/:id\", _commentControllers.comment_get_one); // delete comment \n\nrouter.delete(\"/comments/:id\", _AuthenticateToken.authenticateToken, _commentControllers.comment_delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbW1lbnRSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJhdXRoZW50aWNhdGVUb2tlbiIsImNvbW1lbnRfb25lIiwiZ2V0IiwiY29tbWVudF9nZXRfYWxsIiwiY29tbWVudF9nZXRfb25lIiwiZGVsZXRlIiwiY29tbWVudF9kZWxldGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZixDLENBRUE7OztBQUNBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxvQkFBWixFQUFrQ0Msb0NBQWxDLEVBQXFEQywrQkFBckQsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNNLEdBQVAsQ0FBVyxvQkFBWCxFQUFpQ0MsbUNBQWpDLEUsQ0FFQTs7QUFDQVAsTUFBTSxDQUFDTSxHQUFQLENBQVcsZUFBWCxFQUE0QkUsbUNBQTVCLEUsQ0FFQTs7QUFDQVIsTUFBTSxDQUFDUyxNQUFQLENBQWMsZUFBZCxFQUErQkwsb0NBQS9CLEVBQWtETSxrQ0FBbEQ7ZUFJZVYsTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHthdXRoZW50aWNhdGVUb2tlbn0gZnJvbSBcIi4uL0F1dGhNaWRkbGVXYXJlL0F1dGhlbnRpY2F0ZVRva2VuXCI7XG5pbXBvcnQge2NvbW1lbnRfb25lLCBjb21tZW50X2dldF9hbGwsIGNvbW1lbnRfZ2V0X29uZSxjb21tZW50X2RlbGV0ZX0gZnJvbSAnLi4vY29udHJvbGxlcnMvY29tbWVudENvbnRyb2xsZXJzJztcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTsgXG5cbi8vYWRkIGNvbW1lbnRcbnJvdXRlci5wb3N0KFwiL3Bvc3RzLzppZC9jb21tZW50XCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBjb21tZW50X29uZSlcblxuLy8gZ2V0IGFsbCBjb21tZW50IG9mIGEgcG9zdFxucm91dGVyLmdldChcIi9wb3N0cy86aWQvY29tbWVudFwiLCBjb21tZW50X2dldF9hbGwpXG5cbi8vIGdldCBvbmUgY29tbWVudFxucm91dGVyLmdldChcIi9jb21tZW50cy86aWRcIiwgY29tbWVudF9nZXRfb25lKVxuXG4vLyBkZWxldGUgY29tbWVudCBcbnJvdXRlci5kZWxldGUoXCIvY29tbWVudHMvOmlkXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBjb21tZW50X2RlbGV0ZSlcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlciJdfQ==","map":{"version":3,"sources":["CommentRoutes.js"],"names":["router","express","Router","post","authenticateToken","comment_one","get","comment_get_all","comment_get_one","delete","comment_delete"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf,C,CAEA;;;AACAF,MAAM,CAACG,IAAP,CAAY,oBAAZ,EAAkCC,oCAAlC,EAAqDC,+BAArD,E,CAEA;;AACAL,MAAM,CAACM,GAAP,CAAW,oBAAX,EAAiCC,mCAAjC,E,CAEA;;AACAP,MAAM,CAACM,GAAP,CAAW,eAAX,EAA4BE,mCAA5B,E,CAEA;;AACAR,MAAM,CAACS,MAAP,CAAc,eAAd,EAA+BL,oCAA/B,EAAkDM,kCAAlD;eAIeV,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\";\nimport {comment_one, comment_get_all, comment_get_one,comment_delete} from '../controllers/commentControllers';\n\nconst router = express.Router(); \n\n//add comment\nrouter.post(\"/posts/:id/comment\", authenticateToken, comment_one)\n\n// get all comment of a post\nrouter.get(\"/posts/:id/comment\", comment_get_all)\n\n// get one comment\nrouter.get(\"/comments/:id\", comment_get_one)\n\n// delete comment \nrouter.delete(\"/comments/:id\", authenticateToken, comment_delete)\n\n\n\nexport default router"]}},"mtime":1650457977187},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/commentControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.comment_one = exports.comment_get_one = exports.comment_get_all = exports.comment_delete = void 0;\n\nvar _Post = require(\"../models/Post\");\n\n//comment on a post\nconst comment_one = async (req, res) => {\n  const id = req.params.id;\n  const post = await _Post.Post.findById(id);\n\n  if (post !== null) {\n    //create comment\n    const newComment = await _Post.Comment.create({\n      postId: id,\n      description: req.body.comment\n    });\n    post.comments.push(newComment);\n    await post.save();\n    return res.status(201).json({\n      comment: newComment\n    });\n  } else {\n    return res.status(404).json({\n      message: \"Post not available\"\n    });\n  }\n}; // get all comments of a post\n\n\nexports.comment_one = comment_one;\n\nconst comment_get_all = async (req, res) => {\n  try {\n    const postId = req.params.id;\n    const post = await _Post.Post.findById(postId);\n    if (post == null) return res.status(404).json({\n      message: \"post not found\"\n    });\n    const comments = await _Post.Comment.find({\n      postId: postId\n    });\n\n    if (comments.length > 0) {\n      return res.status(200).json({\n        comments\n      });\n    } else {\n      return res.status(404).json({\n        comment: \"no comments related to this post\"\n      });\n    }\n  } catch (error) {\n    return res.status(404).json({\n      message: error.message\n    });\n  }\n}; // get one comment\n\n\nexports.comment_get_all = comment_get_all;\n\nconst comment_get_one = async (req, res) => {\n  try {\n    const commentId = req.params.id;\n    const comment = await _Post.Comment.findById(commentId);\n\n    if (comment != null) {\n      return res.status(200).json({\n        comment\n      });\n    }\n\n    return res.status(404).json({\n      comment: \"Comment Doesn't Exists\"\n    });\n  } catch (error) {\n    return res.status(404).json({\n      comment: \"Comment Doesn't Exists\"\n    });\n  }\n}; // delete a comment\n\n\nexports.comment_get_one = comment_get_one;\n\nconst comment_delete = async (req, res) => {\n  try {\n    const commentId = req.params.id;\n    const comment = await _Post.Comment.findById(commentId);\n\n    if (comment != null) {\n      // delete a comment\n      await _Post.Comment.deleteOne(comment);\n      return res.status(200).json({\n        message: \"Comment deleted\"\n      });\n    }\n\n    return res.status(404).json({\n      message: \"Comment doesn't exist\"\n    });\n  } catch (error) {\n    return res.status(500).json({\n      comment: \"Internal server error\"\n    });\n  }\n};\n\nexports.comment_delete = comment_delete;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJjb21tZW50X29uZSIsInJlcSIsInJlcyIsImlkIiwicGFyYW1zIiwicG9zdCIsIlBvc3QiLCJmaW5kQnlJZCIsIm5ld0NvbW1lbnQiLCJDb21tZW50IiwiY3JlYXRlIiwicG9zdElkIiwiZGVzY3JpcHRpb24iLCJib2R5IiwiY29tbWVudCIsImNvbW1lbnRzIiwicHVzaCIsInNhdmUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImNvbW1lbnRfZ2V0X2FsbCIsImZpbmQiLCJsZW5ndGgiLCJlcnJvciIsImNvbW1lbnRfZ2V0X29uZSIsImNvbW1lbnRJZCIsImNvbW1lbnRfZGVsZXRlIiwiZGVsZXRlT25lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBR0E7QUFDQSxNQUFNQSxXQUFXLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQWtCO0FBQ3JDLFFBQU1DLEVBQUUsR0FBR0YsR0FBRyxDQUFDRyxNQUFKLENBQVdELEVBQXRCO0FBQ0EsUUFBTUUsSUFBSSxHQUFHLE1BQU1DLFdBQUtDLFFBQUwsQ0FBY0osRUFBZCxDQUFuQjs7QUFFQSxNQUFJRSxJQUFJLEtBQUssSUFBYixFQUFrQjtBQUNqQjtBQUNBLFVBQU1HLFVBQVUsR0FBRyxNQUFNQyxjQUFRQyxNQUFSLENBQWU7QUFDdkNDLE1BQUFBLE1BQU0sRUFBQ1IsRUFEZ0M7QUFFdkNTLE1BQUFBLFdBQVcsRUFBRVgsR0FBRyxDQUFDWSxJQUFKLENBQVNDO0FBRmlCLEtBQWYsQ0FBekI7QUFLQVQsSUFBQUEsSUFBSSxDQUFDVSxRQUFMLENBQWNDLElBQWQsQ0FBbUJSLFVBQW5CO0FBQ0EsVUFBTUgsSUFBSSxDQUFDWSxJQUFMLEVBQU47QUFDQSxXQUFPZixHQUFHLENBQUNnQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0wsTUFBQUEsT0FBTyxFQUFDTjtBQUFULEtBQXJCLENBQVA7QUFFQSxHQVhELE1B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QUFQO0FBRUE7O0FBRUQsV0FBT2xCLEdBQUcsQ0FBQ2dCLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxPQUFPLEVBQUM7QUFBVCxLQUFyQixDQUFQO0FBR0EsR0FmRCxDQWVFLE9BQU9JLEtBQVAsRUFBYztBQUNmLFdBQU90QixHQUFHLENBQUNnQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0wsTUFBQUEsT0FBTyxFQUFDO0FBQVQsS0FBckIsQ0FBUDtBQUNBO0FBR0QsQ0F0QkQiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UG9zdCxDb21tZW50fSBmcm9tICcuLi9tb2RlbHMvUG9zdCdcblxuXG4vL2NvbW1lbnQgb24gYSBwb3N0XG5jb25zdCBjb21tZW50X29uZSA9IGFzeW5jIChyZXEsIHJlcyk9Pntcblx0Y29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xuXHRjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kQnlJZChpZCk7XG5cblx0aWYgKHBvc3QgIT09IG51bGwpe1xuXHRcdC8vY3JlYXRlIGNvbW1lbnRcblx0XHRjb25zdCBuZXdDb21tZW50ID0gYXdhaXQgQ29tbWVudC5jcmVhdGUoe1xuXHRcdFx0cG9zdElkOmlkLFxuXHRcdFx0ZGVzY3JpcHRpb246IHJlcS5ib2R5LmNvbW1lbnRcblx0XHR9KTtcblxuXHRcdHBvc3QuY29tbWVudHMucHVzaChuZXdDb21tZW50KTtcblx0XHRhd2FpdCBwb3N0LnNhdmUoKVxuXHRcdHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7Y29tbWVudDpuZXdDb21tZW50fSlcblx0XHRcblx0fWVsc2V7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOlwiUG9zdCBub3QgYXZhaWxhYmxlXCJ9KVxuXHR9XG59XG5cbi8vIGdldCBhbGwgY29tbWVudHMgb2YgYSBwb3N0XG5jb25zdCBjb21tZW50X2dldF9hbGwgPSBhc3luYyAocmVxLCByZXMpPT57XG5cdHRyeSB7XG5cdFx0Y29uc3QgcG9zdElkPSByZXEucGFyYW1zLmlkO1xuXHRcdGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRCeUlkKHBvc3RJZCk7XG5cdFx0aWYocG9zdCA9PSBudWxsKSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6XCJwb3N0IG5vdCBmb3VuZFwifSk7XG5cdFx0XG5cdFx0Y29uc3QgY29tbWVudHMgPSBhd2FpdCBDb21tZW50LmZpbmQoe3Bvc3RJZDpwb3N0SWR9KTtcblxuXHRcdGlmKGNvbW1lbnRzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe2NvbW1lbnRzfSk7XG5cdFx0fWVsc2V7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe2NvbW1lbnQ6XCJubyBjb21tZW50cyByZWxhdGVkIHRvIHRoaXMgcG9zdFwifSk7XG5cdFx0fVxuXHRcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6ZXJyb3IubWVzc2FnZX0pXG5cdH1cblx0XG59XG5cbi8vIGdldCBvbmUgY29tbWVudFxuY29uc3QgY29tbWVudF9nZXRfb25lID0gYXN5bmMgKHJlcSwgcmVzKT0+e1xuXHRcblx0dHJ5IHtcblx0XHRjb25zdCBjb21tZW50SWQgPSByZXEucGFyYW1zLmlkO1xuXHRcdGNvbnN0IGNvbW1lbnQgPSBhd2FpdCBDb21tZW50LmZpbmRCeUlkKGNvbW1lbnRJZClcblx0XHRpZihjb21tZW50ICE9IG51bGwgKXtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7Y29tbWVudH0pXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtjb21tZW50OlwiQ29tbWVudCBEb2Vzbid0IEV4aXN0c1wifSlcblxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7Y29tbWVudDpcIkNvbW1lbnQgRG9lc24ndCBFeGlzdHNcIn0pXG5cdH1cblx0XG5cbn1cblxuLy8gZGVsZXRlIGEgY29tbWVudFxuY29uc3QgY29tbWVudF9kZWxldGUgPSBhc3luYyAocmVxLCByZXMpPT57XG5cdFxuXHR0cnkge1xuXHRcdGNvbnN0IGNvbW1lbnRJZCA9IHJlcS5wYXJhbXMuaWQ7XG5cdFx0Y29uc3QgY29tbWVudCA9IGF3YWl0IENvbW1lbnQuZmluZEJ5SWQoY29tbWVudElkKVxuXHRcdGlmKGNvbW1lbnQgIT0gbnVsbCApe1xuXG5cdFx0XHQvLyBkZWxldGUgYSBjb21tZW50XG5cdFx0XHRhd2FpdCBDb21tZW50LmRlbGV0ZU9uZShjb21tZW50KVxuXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6XCJDb21tZW50IGRlbGV0ZWRcIn0pXG5cdFx0XHRcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOlwiQ29tbWVudCBkb2Vzbid0IGV4aXN0XCJ9KVxuXHRcdFxuXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtjb21tZW50OlwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCJ9KVxuXHR9XG5cdFxuXG59XG5cbmV4cG9ydCB7Y29tbWVudF9vbmUsY29tbWVudF9nZXRfYWxsLGNvbW1lbnRfZ2V0X29uZSxjb21tZW50X2RlbGV0ZX0iXX0=","map":{"version":3,"sources":["commentControllers.js"],"names":["comment_one","req","res","id","params","post","Post","findById","newComment","Comment","create","postId","description","body","comment","comments","push","save","status","json","message","comment_get_all","find","length","error","comment_get_one","commentId","comment_delete","deleteOne"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import {Post,Comment} from '../models/Post'\n\n\n//comment on a post\nconst comment_one = async (req, res)=>{\n\tconst id = req.params.id;\n\tconst post = await Post.findById(id);\n\n\tif (post !== null){\n\t\t//create comment\n\t\tconst newComment = await Comment.create({\n\t\t\tpostId:id,\n\t\t\tdescription: req.body.comment\n\t\t});\n\n\t\tpost.comments.push(newComment);\n\t\tawait post.save()\n\t\treturn res.status(201).json({comment:newComment})\n\t\t\n\t}else{\n\t\treturn res.status(404).json({message:\"Post not available\"})\n\t}\n}\n\n// get all comments of a post\nconst comment_get_all = async (req, res)=>{\n\ttry {\n\t\tconst postId= req.params.id;\n\t\tconst post = await Post.findById(postId);\n\t\tif(post == null) return res.status(404).json({message:\"post not found\"});\n\t\t\n\t\tconst comments = await Comment.find({postId:postId});\n\n\t\tif(comments.length > 0){\n            \n\t\t\treturn res.status(200).json({comments});\n\t\t}else{\n\t\t\treturn res.status(404).json({comment:\"no comments related to this post\"});\n\t\t}\n\t\n\t} catch (error) {\n\t\treturn res.status(404).json({message:error.message})\n\t}\n\t\n}\n\n// get one comment\nconst comment_get_one = async (req, res)=>{\n\t\n\ttry {\n\t\tconst commentId = req.params.id;\n\t\tconst comment = await Comment.findById(commentId)\n\t\tif(comment != null ){\n\t\t\treturn res.status(200).json({comment})\n\t\t}\n\n\t\treturn res.status(404).json({comment:\"Comment Doesn't Exists\"})\n\n\t} catch (error) {\n\t\treturn res.status(404).json({comment:\"Comment Doesn't Exists\"})\n\t}\n\t\n\n}\n\n// delete a comment\nconst comment_delete = async (req, res)=>{\n\t\n\ttry {\n\t\tconst commentId = req.params.id;\n\t\tconst comment = await Comment.findById(commentId)\n\t\tif(comment != null ){\n\n\t\t\t// delete a comment\n\t\t\tawait Comment.deleteOne(comment)\n\n\t\t\treturn res.status(200).json({message:\"Comment deleted\"})\n\t\t\t\n\t\t}\n\t\t\n\t\treturn res.status(404).json({message:\"Comment doesn't exist\"})\n\t\t\n\n\t} catch (error) {\n\t\treturn res.status(500).json({comment:\"Internal server error\"})\n\t}\n\t\n\n}\n\nexport {comment_one,comment_get_all,comment_get_one,comment_delete}"]}},"mtime":1650457977163},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/LikeRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _likeControllers = require(\"../controllers/likeControllers\");\n\nvar _AuthenticateToken = require(\"../AuthMiddleWare/AuthenticateToken\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n//like a post\nrouter.put(\"/posts/like\", _AuthenticateToken.authenticateToken, _likeControllers.post_like); //unlike a post\n\nrouter.put(\"/posts/:id/unlike\", _AuthenticateToken.authenticateToken, _likeControllers.post_unlike);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxpa2VSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInB1dCIsImF1dGhlbnRpY2F0ZVRva2VuIiwicG9zdF9saWtlIiwicG9zdF91bmxpa2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFJQTs7QUFFQTs7OztBQUpBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFPQTtBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxhQUFYLEVBQTBCQyxvQ0FBMUIsRUFBNkNDLDBCQUE3QyxFLENBRUE7O0FBQ0FMLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLG1CQUFYLEVBQWdDQyxvQ0FBaEMsRUFBbURFLDRCQUFuRDtlQUdlTixNIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmltcG9ydCB7cG9zdF9saWtlLHBvc3RfdW5saWtlfSBmcm9tICcuLi9jb250cm9sbGVycy9saWtlQ29udHJvbGxlcnMnXG5cbmltcG9ydCB7YXV0aGVudGljYXRlVG9rZW59IGZyb20gXCIuLi9BdXRoTWlkZGxlV2FyZS9BdXRoZW50aWNhdGVUb2tlblwiXG5cblxuLy9saWtlIGEgcG9zdFxucm91dGVyLnB1dChcIi9wb3N0cy9saWtlXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBwb3N0X2xpa2UpXG5cbi8vdW5saWtlIGEgcG9zdFxucm91dGVyLnB1dChcIi9wb3N0cy86aWQvdW5saWtlXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBwb3N0X3VubGlrZSlcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXX0=","map":{"version":3,"sources":["LikeRoutes.js"],"names":["router","express","Router","put","authenticateToken","post_like","post_unlike"],"mappings":";;;;;;;AAAA;;AAIA;;AAEA;;;;AAJA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAOA;AACAF,MAAM,CAACG,GAAP,CAAW,aAAX,EAA0BC,oCAA1B,EAA6CC,0BAA7C,E,CAEA;;AACAL,MAAM,CAACG,GAAP,CAAW,mBAAX,EAAgCC,oCAAhC,EAAmDE,4BAAnD;eAGeN,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport {post_like,post_unlike} from '../controllers/likeControllers'\n\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\"\n\n\n//like a post\nrouter.put(\"/posts/like\", authenticateToken, post_like)\n\n//unlike a post\nrouter.put(\"/posts/:id/unlike\", authenticateToken, post_unlike)\n\n\nexport default router"]}},"mtime":1650535400315},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/likeControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.post_unlike = exports.post_like = void 0;\n\nvar _Post = require(\"../models/Post\");\n\n// like a post\nconst post_like = async (req, res) => {\n  const id = req.body.postId;\n\n  _Post.Post.findByIdAndUpdate(id, {\n    $push: {\n      likes: {\n        postId: id,\n        user: req.user.username\n      }\n    }\n  }, {\n    new: true\n  }).exec((err, result) => {\n    if (err) {\n      return res.status(422).json({\n        err: err\n      });\n    } else {\n      return res.status(200).json({\n        message: \"post liked!\"\n      });\n    }\n  });\n}; //unlike a post\n\n\nexports.post_like = post_like;\n\nconst post_unlike = (req, res) => {\n  const id = req.params.id;\n\n  _Post.Post.findByIdAndUpdate(id, {\n    $pull: {\n      likes: {\n        postId: id,\n        userId: req.user.id\n      }\n    }\n  }, {\n    new: true\n  }).exec((err, result) => {\n    if (err) {\n      return res.status(422).json({\n        err: err\n      });\n    } else {\n      return res.status(200).json({\n        message: \"unliked post!\"\n      });\n    }\n  });\n};\n\nexports.post_unlike = post_unlike;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpa2VDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJwb3N0X2xpa2UiLCJyZXEiLCJyZXMiLCJpZCIsImJvZHkiLCJwb3N0SWQiLCJQb3N0IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCIkcHVzaCIsImxpa2VzIiwidXNlciIsInVzZXJuYW1lIiwibmV3IiwiZXhlYyIsImVyciIsInJlc3VsdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwicG9zdF91bmxpa2UiLCJwYXJhbXMiLCIkcHVsbCIsInVzZXJJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUdBO0FBQ0EsTUFBTUEsU0FBUyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFrQjtBQUNuQyxRQUFNQyxFQUFFLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSixDQUFTQyxNQUFwQjs7QUFHQUMsYUFBS0MsaUJBQUwsQ0FBdUJKLEVBQXZCLEVBQTBCO0FBQ3pCSyxJQUFBQSxLQUFLLEVBQUM7QUFBQ0MsTUFBQUEsS0FBSyxFQUFDO0FBQUNKLFFBQUFBLE1BQU0sRUFBQ0YsRUFBUjtBQUFZTyxRQUFBQSxJQUFJLEVBQUNULEdBQUcsQ0FBQ1MsSUFBSixDQUFTQztBQUExQjtBQUFQO0FBRG1CLEdBQTFCLEVBQ29EO0FBQ2xEQyxJQUFBQSxHQUFHLEVBQUM7QUFEOEMsR0FEcEQsRUFHSUMsSUFISixDQUdTLENBQUNDLEdBQUQsRUFBTUMsTUFBTixLQUFlO0FBQ3RCLFFBQUdELEdBQUgsRUFBTztBQUNOLGFBQU9aLEdBQUcsQ0FBQ2MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNILFFBQUFBLEdBQUcsRUFBQ0E7QUFBTCxPQUFyQixDQUFQO0FBQ0EsS0FGRCxNQUdJO0FBRUgsYUFBT1osR0FBRyxDQUFDYyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0MsUUFBQUEsT0FBTyxFQUFDO0FBQVQsT0FBckIsQ0FBUDtBQUNBO0FBQ0QsR0FYRjtBQVlBLENBaEJELEMsQ0FrQkE7Ozs7O0FBQ0EsTUFBTUMsV0FBVyxHQUFHLENBQUNsQixHQUFELEVBQU1DLEdBQU4sS0FBWTtBQUMvQixRQUFNQyxFQUFFLEdBQUdGLEdBQUcsQ0FBQ21CLE1BQUosQ0FBV2pCLEVBQXRCOztBQUNBRyxhQUFLQyxpQkFBTCxDQUF1QkosRUFBdkIsRUFBMEI7QUFDekJrQixJQUFBQSxLQUFLLEVBQUM7QUFBQ1osTUFBQUEsS0FBSyxFQUFDO0FBQUNKLFFBQUFBLE1BQU0sRUFBQ0YsRUFBUjtBQUFZbUIsUUFBQUEsTUFBTSxFQUFDckIsR0FBRyxDQUFDUyxJQUFKLENBQVNQO0FBQTVCO0FBQVA7QUFEbUIsR0FBMUIsRUFDZ0Q7QUFDOUNTLElBQUFBLEdBQUcsRUFBQztBQUQwQyxHQURoRCxFQUdJQyxJQUhKLENBR1MsQ0FBQ0MsR0FBRCxFQUFNQyxNQUFOLEtBQWU7QUFDdEIsUUFBR0QsR0FBSCxFQUFPO0FBQ04sYUFBT1osR0FBRyxDQUFDYyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0gsUUFBQUEsR0FBRyxFQUFDQTtBQUFMLE9BQXJCLENBQVA7QUFDQSxLQUZELE1BR0k7QUFDSCxhQUFPWixHQUFHLENBQUNjLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxRQUFBQSxPQUFPLEVBQUM7QUFBVCxPQUFyQixDQUFQO0FBQ0E7QUFDRCxHQVZGO0FBV0EsQ0FiRCIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUG9zdCB9IGZyb20gXCIuLi9tb2RlbHMvUG9zdFwiXG5cblxuLy8gbGlrZSBhIHBvc3RcbmNvbnN0IHBvc3RfbGlrZSA9IGFzeW5jIChyZXEsIHJlcyk9Pntcblx0Y29uc3QgaWQgPSByZXEuYm9keS5wb3N0SWRcblx0XG5cblx0UG9zdC5maW5kQnlJZEFuZFVwZGF0ZShpZCx7XG5cdFx0JHB1c2g6e2xpa2VzOntwb3N0SWQ6aWQsIHVzZXI6cmVxLnVzZXIudXNlcm5hbWV9fX0se1xuXHRcdFx0bmV3OnRydWVcblx0XHR9KS5leGVjKChlcnIsIHJlc3VsdCk9Pntcblx0XHRcdGlmKGVycil7XG5cdFx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQyMikuanNvbih7ZXJyOmVycn0pXG5cdFx0XHR9XG5cdFx0XHRlbHNle1xuXHRcdFx0XHRcblx0XHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOlwicG9zdCBsaWtlZCFcIn0pXG5cdFx0XHR9XG5cdFx0fSlcbn1cblxuLy91bmxpa2UgYSBwb3N0XG5jb25zdCBwb3N0X3VubGlrZSA9IChyZXEsIHJlcyk9Pntcblx0Y29uc3QgaWQgPSByZXEucGFyYW1zLmlkXG5cdFBvc3QuZmluZEJ5SWRBbmRVcGRhdGUoaWQse1xuXHRcdCRwdWxsOntsaWtlczp7cG9zdElkOmlkLCB1c2VySWQ6cmVxLnVzZXIuaWR9fX0se1xuXHRcdFx0bmV3OnRydWVcblx0XHR9KS5leGVjKChlcnIsIHJlc3VsdCk9Pntcblx0XHRcdGlmKGVycil7XG5cdFx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQyMikuanNvbih7ZXJyOmVycn0pXG5cdFx0XHR9XG5cdFx0XHRlbHNle1xuXHRcdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6XCJ1bmxpa2VkIHBvc3QhXCJ9KVxuXHRcdFx0fVxuXHRcdH0pXG59XG5cblxuZXhwb3J0IHtwb3N0X2xpa2UsIHBvc3RfdW5saWtlLH1cbiJdfQ==","map":{"version":3,"sources":["likeControllers.js"],"names":["post_like","req","res","id","body","postId","Post","findByIdAndUpdate","$push","likes","user","username","new","exec","err","result","status","json","message","post_unlike","params","$pull","userId"],"mappings":";;;;;;;AAAA;;AAGA;AACA,MAAMA,SAAS,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAkB;AACnC,QAAMC,EAAE,GAAGF,GAAG,CAACG,IAAJ,CAASC,MAApB;;AAGAC,aAAKC,iBAAL,CAAuBJ,EAAvB,EAA0B;AACzBK,IAAAA,KAAK,EAAC;AAACC,MAAAA,KAAK,EAAC;AAACJ,QAAAA,MAAM,EAACF,EAAR;AAAYO,QAAAA,IAAI,EAACT,GAAG,CAACS,IAAJ,CAASC;AAA1B;AAAP;AADmB,GAA1B,EACoD;AAClDC,IAAAA,GAAG,EAAC;AAD8C,GADpD,EAGIC,IAHJ,CAGS,CAACC,GAAD,EAAMC,MAAN,KAAe;AACtB,QAAGD,GAAH,EAAO;AACN,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACH,QAAAA,GAAG,EAACA;AAAL,OAArB,CAAP;AACA,KAFD,MAGI;AAEH,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AACA;AACD,GAXF;AAYA,CAhBD,C,CAkBA;;;;;AACA,MAAMC,WAAW,GAAG,CAAClB,GAAD,EAAMC,GAAN,KAAY;AAC/B,QAAMC,EAAE,GAAGF,GAAG,CAACmB,MAAJ,CAAWjB,EAAtB;;AACAG,aAAKC,iBAAL,CAAuBJ,EAAvB,EAA0B;AACzBkB,IAAAA,KAAK,EAAC;AAACZ,MAAAA,KAAK,EAAC;AAACJ,QAAAA,MAAM,EAACF,EAAR;AAAYmB,QAAAA,MAAM,EAACrB,GAAG,CAACS,IAAJ,CAASP;AAA5B;AAAP;AADmB,GAA1B,EACgD;AAC9CS,IAAAA,GAAG,EAAC;AAD0C,GADhD,EAGIC,IAHJ,CAGS,CAACC,GAAD,EAAMC,MAAN,KAAe;AACtB,QAAGD,GAAH,EAAO;AACN,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACH,QAAAA,GAAG,EAACA;AAAL,OAArB,CAAP;AACA,KAFD,MAGI;AACH,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AACA;AACD,GAVF;AAWA,CAbD","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import { Post } from \"../models/Post\"\n\n\n// like a post\nconst post_like = async (req, res)=>{\n\tconst id = req.body.postId\n\t\n\n\tPost.findByIdAndUpdate(id,{\n\t\t$push:{likes:{postId:id, user:req.user.username}}},{\n\t\t\tnew:true\n\t\t}).exec((err, result)=>{\n\t\t\tif(err){\n\t\t\t\treturn res.status(422).json({err:err})\n\t\t\t}\n\t\t\telse{\n\t\t\t\t\n\t\t\t\treturn res.status(200).json({message:\"post liked!\"})\n\t\t\t}\n\t\t})\n}\n\n//unlike a post\nconst post_unlike = (req, res)=>{\n\tconst id = req.params.id\n\tPost.findByIdAndUpdate(id,{\n\t\t$pull:{likes:{postId:id, userId:req.user.id}}},{\n\t\t\tnew:true\n\t\t}).exec((err, result)=>{\n\t\t\tif(err){\n\t\t\t\treturn res.status(422).json({err:err})\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn res.status(200).json({message:\"unliked post!\"})\n\t\t\t}\n\t\t})\n}\n\n\nexport {post_like, post_unlike,}\n"]}},"mtime":1650540764304},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _swaggerUiExpress = _interopRequireDefault(require(\"swagger-ui-express\"));\n\nvar _swagger = _interopRequireDefault(require(\"../swagger.json\"));\n\nvar _mongoose = require(\"mongoose\");\n\nvar _PostRoutes = _interopRequireDefault(require(\"./routes/PostRoutes\"));\n\nvar _UserRoutes = _interopRequireDefault(require(\"./routes/UserRoutes\"));\n\nvar _MessageRoutes = _interopRequireDefault(require(\"./routes/MessageRoutes\"));\n\nvar _CommentRoutes = _interopRequireDefault(require(\"./routes/CommentRoutes\"));\n\nvar _LikeRoutes = _interopRequireDefault(require(\"./routes/LikeRoutes\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config();\n\n//creating express app\nconst app = (0, _express.default)();\nconst port = process.env.PORT || 3000; // allow to pass json into body\n\napp.use(_express.default.json()); //routing routes\n\napp.use(\"/api\", _PostRoutes.default);\napp.use(\"/api\", _UserRoutes.default);\napp.use(\"/api\", _MessageRoutes.default);\napp.use(\"/api\", _CommentRoutes.default);\napp.use(\"/api\", _LikeRoutes.default); //swagger documentation\n\napp.use((0, _morgan.default)(\"dev\"));\napp.use(\"/api/\", _PostRoutes.default, _UserRoutes.default, _MessageRoutes.default, _CommentRoutes.default, _LikeRoutes.default); // set swagger doc as default route\n\napp.use(\"\", _swaggerUiExpress.default.serve, _swaggerUiExpress.default.setup(_swagger.default, {\n  explorer: true\n}));\napp.use(\"*\", (req, res, next) => {\n  res.status(404).json({\n    error: \"NOT FOUND\"\n  });\n  next();\n}); //serve static images\n\napp.use(\"/poster\", _express.default.static(\"uploads/blog/images\"));\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use((0, _cors.default)()); // Connect to MongoDB database\n\nconst dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n_mongoose.mongoose.connect(dbURI, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(result => {\n  console.log('Db Connected!');\n}).catch(error => {\n  console.log(error);\n}); //listening to the request on server\n\n\nvar _default = app.listen(port, () => {\n  console.log('Server started listening on ' + port);\n});\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJhcHAiLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJ1c2UiLCJleHByZXNzIiwianNvbiIsInJvdXRlcyIsInVzZXJyb3V0ZXMiLCJjb250YWN0cm91dGVzIiwiY29tbWVudHJvdXRlcyIsImxpa2Vyb3V0ZXMiLCJzd2FnZ2VyVUkiLCJzZXJ2ZSIsInNldHVwIiwic3dhZ2dlckRvYyIsImV4cGxvcmVyIiwicmVxIiwicmVzIiwibmV4dCIsInN0YXR1cyIsImVycm9yIiwic3RhdGljIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiZGJVUkkiLCJEQl9VU0VSIiwiREJfUEFTU1dPUkQiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwibGlzdGVuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBR0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFWQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEI7O0FBWUE7QUFDQSxNQUFNQyxHQUFHLEdBQUUsdUJBQVg7QUFFQSxNQUFNQyxJQUFJLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFaLElBQW9CLElBQWpDLEMsQ0FFQTs7QUFDQUosR0FBRyxDQUFDSyxHQUFKLENBQVFDLGlCQUFRQyxJQUFSLEVBQVIsRSxDQUlBOztBQUNBUCxHQUFHLENBQUNLLEdBQUosQ0FBUSxNQUFSLEVBQWdCRyxtQkFBaEI7QUFDQVIsR0FBRyxDQUFDSyxHQUFKLENBQVEsTUFBUixFQUFnQkksbUJBQWhCO0FBQ0FULEdBQUcsQ0FBQ0ssR0FBSixDQUFRLE1BQVIsRUFBZ0JLLHNCQUFoQjtBQUNBVixHQUFHLENBQUNLLEdBQUosQ0FBUSxNQUFSLEVBQWdCTSxzQkFBaEI7QUFDQVgsR0FBRyxDQUFDSyxHQUFKLENBQVEsTUFBUixFQUFnQk8sbUJBQWhCLEUsQ0FHQTs7QUFDQVosR0FBRyxDQUFDSyxHQUFKLENBQVEscUJBQU8sS0FBUCxDQUFSO0FBQ0FMLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLE9BQVIsRUFBaUJHLG1CQUFqQixFQUF5QkMsbUJBQXpCLEVBQXFDQyxzQkFBckMsRUFBb0RDLHNCQUFwRCxFQUFtRUMsbUJBQW5FLEUsQ0FFQTs7QUFDQVosR0FBRyxDQUFDSyxHQUFKLENBQ0MsRUFERCxFQUVDUSwwQkFBVUMsS0FGWCxFQUdDRCwwQkFBVUUsS0FBVixDQUFnQkMsZ0JBQWhCLEVBQTRCO0FBQUVDLEVBQUFBLFFBQVEsRUFBRTtBQUFaLENBQTVCLENBSEQ7QUFNQWpCLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDYSxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNoQ0QsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsR0FBWCxFQUFnQmQsSUFBaEIsQ0FBcUI7QUFDcEJlLElBQUFBLEtBQUssRUFBRTtBQURhLEdBQXJCO0FBR0FGLEVBQUFBLElBQUk7QUFDSixDQUxELEUsQ0FRQTs7QUFDQXBCLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLFNBQVIsRUFBbUJDLGlCQUFRaUIsTUFBUixDQUFlLHFCQUFmLENBQW5CO0FBRUF2QixHQUFHLENBQUNLLEdBQUosQ0FBUUMsaUJBQVFrQixVQUFSLENBQW1CO0FBQUNDLEVBQUFBLFFBQVEsRUFBQztBQUFWLENBQW5CLENBQVI7QUFFQXpCLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLG9CQUFSLEUsQ0FHQTs7QUFDQSxNQUFNcUIsS0FBSyxHQUFHLGlCQUFnQnhCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZd0IsT0FBUSxJQUFHekIsT0FBTyxDQUFDQyxHQUFSLENBQVl5QixXQUFZLGdGQUE3RTs7QUFDQUMsbUJBQVNDLE9BQVQsQ0FBaUJKLEtBQWpCLEVBQXVCO0FBQUNLLEVBQUFBLGVBQWUsRUFBQyxJQUFqQjtBQUF1QkMsRUFBQUEsa0JBQWtCLEVBQUM7QUFBMUMsQ0FBdkIsRUFBd0VDLElBQXhFLENBQThFQyxNQUFELElBQVU7QUFFL0VDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVo7QUFFSCxDQUpMLEVBSU9DLEtBSlAsQ0FJY2YsS0FBRCxJQUFTO0FBQ2RhLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZZCxLQUFaO0FBQ0gsQ0FOTCxFLENBUUE7OztlQUNldEIsR0FBRyxDQUFDc0MsTUFBSixDQUFXckMsSUFBWCxFQUFpQixNQUFJO0FBQ2hDa0MsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksaUNBQWlDbkMsSUFBN0M7QUFFSCxDQUhjLEMiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnXG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJ1xuaW1wb3J0IG1vcmdhbiBmcm9tIFwibW9yZ2FuXCI7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuaW1wb3J0IHN3YWdnZXJVSSBmcm9tICdzd2FnZ2VyLXVpLWV4cHJlc3MnXG5pbXBvcnQgc3dhZ2dlckRvYyBmcm9tIFwiLi4vc3dhZ2dlci5qc29uXCI7XG5pbXBvcnQge21vbmdvb3NlfSBmcm9tICdtb25nb29zZSdcblxuLy8gZ2V0dGluZyByb3V0ZXNcbmltcG9ydCByb3V0ZXMgZnJvbSBcIi4vcm91dGVzL1Bvc3RSb3V0ZXNcIlxuaW1wb3J0IHVzZXJyb3V0ZXMgZnJvbSBcIi4vcm91dGVzL1VzZXJSb3V0ZXNcIlxuaW1wb3J0IGNvbnRhY3Ryb3V0ZXMgZnJvbSBcIi4vcm91dGVzL01lc3NhZ2VSb3V0ZXNcIlxuaW1wb3J0IGNvbW1lbnRyb3V0ZXMgZnJvbSBcIi4vcm91dGVzL0NvbW1lbnRSb3V0ZXNcIlxuaW1wb3J0IGxpa2Vyb3V0ZXMgZnJvbSBcIi4vcm91dGVzL0xpa2VSb3V0ZXNcIlxuXG4vL2NyZWF0aW5nIGV4cHJlc3MgYXBwXG5jb25zdCBhcHAgPWV4cHJlc3MoKTtcblxuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMFxuXG4vLyBhbGxvdyB0byBwYXNzIGpzb24gaW50byBib2R5XG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcblxuXG5cbi8vcm91dGluZyByb3V0ZXNcbmFwcC51c2UoXCIvYXBpXCIsIHJvdXRlcyk7XG5hcHAudXNlKFwiL2FwaVwiLCB1c2Vycm91dGVzKTtcbmFwcC51c2UoXCIvYXBpXCIsIGNvbnRhY3Ryb3V0ZXMpO1xuYXBwLnVzZShcIi9hcGlcIiwgY29tbWVudHJvdXRlcyk7XG5hcHAudXNlKFwiL2FwaVwiLCBsaWtlcm91dGVzKTtcblxuXG4vL3N3YWdnZXIgZG9jdW1lbnRhdGlvblxuYXBwLnVzZShtb3JnYW4oXCJkZXZcIikpO1xuYXBwLnVzZShcIi9hcGkvXCIsIHJvdXRlcywgdXNlcnJvdXRlcywgY29udGFjdHJvdXRlcywgY29tbWVudHJvdXRlcywgbGlrZXJvdXRlcyk7XG5cbi8vIHNldCBzd2FnZ2VyIGRvYyBhcyBkZWZhdWx0IHJvdXRlXG5hcHAudXNlKFxuXHRcIlwiLFxuXHRzd2FnZ2VyVUkuc2VydmUsXG5cdHN3YWdnZXJVSS5zZXR1cChzd2FnZ2VyRG9jLCB7IGV4cGxvcmVyOiB0cnVlIH0pXG4pO1xuXG5hcHAudXNlKFwiKlwiLCAocmVxLCByZXMsIG5leHQpID0+IHtcblx0cmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuXHRcdGVycm9yOiBcIk5PVCBGT1VORFwiLFxuXHR9KTtcblx0bmV4dCgpXG59KTtcblxuXG4vL3NlcnZlIHN0YXRpYyBpbWFnZXNcbmFwcC51c2UoXCIvcG9zdGVyXCIsIGV4cHJlc3Muc3RhdGljKFwidXBsb2Fkcy9ibG9nL2ltYWdlc1wiKSlcblxuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoe2V4dGVuZGVkOnRydWV9KSlcblxuYXBwLnVzZShjb3JzKCkpXG5cblxuLy8gQ29ubmVjdCB0byBNb25nb0RCIGRhdGFiYXNlXG5jb25zdCBkYlVSSSA9YG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSfToke3Byb2Nlc3MuZW52LkRCX1BBU1NXT1JEfUBub2RlLWFwcGxpY2F0aW9ucy5mZTRhdS5tb25nb2RiLm5ldC9ub2RlLXR1dG9yaWFsP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWBcbm1vbmdvb3NlLmNvbm5lY3QoZGJVUkkse3VzZU5ld1VybFBhcnNlcjp0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6dHJ1ZX0pLnRoZW4oKHJlc3VsdCk9PntcblxuICAgICAgICBjb25zb2xlLmxvZygnRGIgQ29ubmVjdGVkIScpXG5cdFx0XG4gICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICB9KVxuICAgIFxuLy9saXN0ZW5pbmcgdG8gdGhlIHJlcXVlc3Qgb24gc2VydmVyXG5leHBvcnQgZGVmYXVsdCBhcHAubGlzdGVuKHBvcnQsICgpPT57XG4gICAgY29uc29sZS5sb2coJ1NlcnZlciBzdGFydGVkIGxpc3RlbmluZyBvbiAnICsgcG9ydClcbiAgXG59KTsgICAgIl19","map":{"version":3,"sources":["index.js"],"names":["require","config","app","port","process","env","PORT","use","express","json","routes","userroutes","contactroutes","commentroutes","likeroutes","swaggerUI","serve","setup","swaggerDoc","explorer","req","res","next","status","error","static","urlencoded","extended","dbURI","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","result","console","log","catch","listen"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAGA;;AACA;;AACA;;AACA;;AACA;;;;AAVAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAYA;AACA,MAAMC,GAAG,GAAE,uBAAX;AAEA,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC,C,CAEA;;AACAJ,GAAG,CAACK,GAAJ,CAAQC,iBAAQC,IAAR,EAAR,E,CAIA;;AACAP,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBG,mBAAhB;AACAR,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBI,mBAAhB;AACAT,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBK,sBAAhB;AACAV,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBM,sBAAhB;AACAX,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBO,mBAAhB,E,CAGA;;AACAZ,GAAG,CAACK,GAAJ,CAAQ,qBAAO,KAAP,CAAR;AACAL,GAAG,CAACK,GAAJ,CAAQ,OAAR,EAAiBG,mBAAjB,EAAyBC,mBAAzB,EAAqCC,sBAArC,EAAoDC,sBAApD,EAAmEC,mBAAnE,E,CAEA;;AACAZ,GAAG,CAACK,GAAJ,CACC,EADD,EAECQ,0BAAUC,KAFX,EAGCD,0BAAUE,KAAV,CAAgBC,gBAAhB,EAA4B;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAA5B,CAHD;AAMAjB,GAAG,CAACK,GAAJ,CAAQ,GAAR,EAAa,CAACa,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAChCD,EAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBd,IAAhB,CAAqB;AACpBe,IAAAA,KAAK,EAAE;AADa,GAArB;AAGAF,EAAAA,IAAI;AACJ,CALD,E,CAQA;;AACApB,GAAG,CAACK,GAAJ,CAAQ,SAAR,EAAmBC,iBAAQiB,MAAR,CAAe,qBAAf,CAAnB;AAEAvB,GAAG,CAACK,GAAJ,CAAQC,iBAAQkB,UAAR,CAAmB;AAACC,EAAAA,QAAQ,EAAC;AAAV,CAAnB,CAAR;AAEAzB,GAAG,CAACK,GAAJ,CAAQ,oBAAR,E,CAGA;;AACA,MAAMqB,KAAK,GAAG,iBAAgBxB,OAAO,CAACC,GAAR,CAAYwB,OAAQ,IAAGzB,OAAO,CAACC,GAAR,CAAYyB,WAAY,gFAA7E;;AACAC,mBAASC,OAAT,CAAiBJ,KAAjB,EAAuB;AAACK,EAAAA,eAAe,EAAC,IAAjB;AAAuBC,EAAAA,kBAAkB,EAAC;AAA1C,CAAvB,EAAwEC,IAAxE,CAA8EC,MAAD,IAAU;AAE/EC,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AAEH,CAJL,EAIOC,KAJP,CAIcf,KAAD,IAAS;AACda,EAAAA,OAAO,CAACC,GAAR,CAAYd,KAAZ;AACH,CANL,E,CAQA;;;eACetB,GAAG,CAACsC,MAAJ,CAAWrC,IAAX,EAAiB,MAAI;AAChCkC,EAAAA,OAAO,CAACC,GAAR,CAAY,iCAAiCnC,IAA7C;AAEH,CAHc,C","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/","sourcesContent":["import express from 'express'\nimport cors from 'cors'\nimport morgan from \"morgan\";\nrequire(\"dotenv\").config();\nimport swaggerUI from 'swagger-ui-express'\nimport swaggerDoc from \"../swagger.json\";\nimport {mongoose} from 'mongoose'\n\n// getting routes\nimport routes from \"./routes/PostRoutes\"\nimport userroutes from \"./routes/UserRoutes\"\nimport contactroutes from \"./routes/MessageRoutes\"\nimport commentroutes from \"./routes/CommentRoutes\"\nimport likeroutes from \"./routes/LikeRoutes\"\n\n//creating express app\nconst app =express();\n\nconst port = process.env.PORT || 3000\n\n// allow to pass json into body\napp.use(express.json());\n\n\n\n//routing routes\napp.use(\"/api\", routes);\napp.use(\"/api\", userroutes);\napp.use(\"/api\", contactroutes);\napp.use(\"/api\", commentroutes);\napp.use(\"/api\", likeroutes);\n\n\n//swagger documentation\napp.use(morgan(\"dev\"));\napp.use(\"/api/\", routes, userroutes, contactroutes, commentroutes, likeroutes);\n\n// set swagger doc as default route\napp.use(\n\t\"\",\n\tswaggerUI.serve,\n\tswaggerUI.setup(swaggerDoc, { explorer: true })\n);\n\napp.use(\"*\", (req, res, next) => {\n\tres.status(404).json({\n\t\terror: \"NOT FOUND\",\n\t});\n\tnext()\n});\n\n\n//serve static images\napp.use(\"/poster\", express.static(\"uploads/blog/images\"))\n\napp.use(express.urlencoded({extended:true}))\n\napp.use(cors())\n\n\n// Connect to MongoDB database\nconst dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\nmongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((result)=>{\n\n        console.log('Db Connected!')\n\t\t\n    }).catch((error)=>{\n        console.log(error)\n    })\n    \n//listening to the request on server\nexport default app.listen(port, ()=>{\n    console.log('Server started listening on ' + port)\n  \n});    "]}},"mtime":1650530845435},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/PostRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _uploadConfig = _interopRequireDefault(require(\"../uploadConfig\"));\n\nvar _AuthenticateToken = require(\"../AuthMiddleWare/AuthenticateToken\");\n\nvar _postControllers = require(\"../controllers/postControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n// Get all posts\nrouter.get(\"/posts\", _postControllers.post_get_all); // create post\n\nrouter.post(\"/posts\", _uploadConfig.default.single('poster'), _AuthenticateToken.authenticateToken, _postControllers.post_create); // getting individual post\n\nrouter.get(\"/posts/:id\", _postControllers.post_get_one); // updating post\n\nrouter.patch(\"/posts/:id\", _uploadConfig.default.single('poster'), _AuthenticateToken.authenticateToken, _postControllers.post_update); // delete post\n\nrouter.delete(\"/posts/:id\", _postControllers.post_delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBvc3RSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInBvc3RfZ2V0X2FsbCIsInBvc3QiLCJ1cGxvYWQiLCJzaW5nbGUiLCJhdXRoZW50aWNhdGVUb2tlbiIsInBvc3RfY3JlYXRlIiwicG9zdF9nZXRfb25lIiwicGF0Y2giLCJwb3N0X3VwZGF0ZSIsImRlbGV0ZSIsInBvc3RfZGVsZXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBSUE7O0FBRUE7O0FBRUE7Ozs7QUFOQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBU0E7QUFDQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsUUFBWCxFQUFxQkMsNkJBQXJCLEUsQ0FFQTs7QUFDQUosTUFBTSxDQUFDSyxJQUFQLENBQVksUUFBWixFQUFzQkMsc0JBQU9DLE1BQVAsQ0FBYyxRQUFkLENBQXRCLEVBQStDQyxvQ0FBL0MsRUFBa0VDLDRCQUFsRSxFLENBRUE7O0FBQ0FULE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFlBQVgsRUFBeUJPLDZCQUF6QixFLENBRUE7O0FBQ0FWLE1BQU0sQ0FBQ1csS0FBUCxDQUFhLFlBQWIsRUFBMkJMLHNCQUFPQyxNQUFQLENBQWMsUUFBZCxDQUEzQixFQUFvREMsb0NBQXBELEVBQXVFSSw0QkFBdkUsRSxDQUVBOztBQUNBWixNQUFNLENBQUNhLE1BQVAsQ0FBYyxZQUFkLEVBQTRCQyw0QkFBNUI7ZUFLZWQsTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5pbXBvcnQgdXBsb2FkIGZyb20gJy4uL3VwbG9hZENvbmZpZyc7XG5cbmltcG9ydCB7YXV0aGVudGljYXRlVG9rZW59IGZyb20gXCIuLi9BdXRoTWlkZGxlV2FyZS9BdXRoZW50aWNhdGVUb2tlblwiXG5cbmltcG9ydCB7cG9zdF9nZXRfYWxsLCBwb3N0X2NyZWF0ZSwgcG9zdF9nZXRfb25lLCBwb3N0X3VwZGF0ZSwgcG9zdF9kZWxldGUsIHBvc3RfbGlrZSxwb3N0X3VubGlrZX0gZnJvbSAnLi4vY29udHJvbGxlcnMvcG9zdENvbnRyb2xsZXJzJ1xuXG5cbi8vIEdldCBhbGwgcG9zdHNcbnJvdXRlci5nZXQoXCIvcG9zdHNcIiwgcG9zdF9nZXRfYWxsKTtcblxuLy8gY3JlYXRlIHBvc3RcbnJvdXRlci5wb3N0KFwiL3Bvc3RzXCIsIHVwbG9hZC5zaW5nbGUoJ3Bvc3RlcicpLCBhdXRoZW50aWNhdGVUb2tlbiwgcG9zdF9jcmVhdGUpO1xuXG4vLyBnZXR0aW5nIGluZGl2aWR1YWwgcG9zdFxucm91dGVyLmdldChcIi9wb3N0cy86aWRcIiwgcG9zdF9nZXRfb25lKVxuXG4vLyB1cGRhdGluZyBwb3N0XG5yb3V0ZXIucGF0Y2goXCIvcG9zdHMvOmlkXCIsIHVwbG9hZC5zaW5nbGUoJ3Bvc3RlcicpLCBhdXRoZW50aWNhdGVUb2tlbiwgcG9zdF91cGRhdGUpXG5cbi8vIGRlbGV0ZSBwb3N0XG5yb3V0ZXIuZGVsZXRlKFwiL3Bvc3RzLzppZFwiLCBwb3N0X2RlbGV0ZSlcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iXX0=","map":{"version":3,"sources":["PostRoutes.js"],"names":["router","express","Router","get","post_get_all","post","upload","single","authenticateToken","post_create","post_get_one","patch","post_update","delete","post_delete"],"mappings":";;;;;;;AAAA;;AAIA;;AAEA;;AAEA;;;;AANA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AASA;AACAF,MAAM,CAACG,GAAP,CAAW,QAAX,EAAqBC,6BAArB,E,CAEA;;AACAJ,MAAM,CAACK,IAAP,CAAY,QAAZ,EAAsBC,sBAAOC,MAAP,CAAc,QAAd,CAAtB,EAA+CC,oCAA/C,EAAkEC,4BAAlE,E,CAEA;;AACAT,MAAM,CAACG,GAAP,CAAW,YAAX,EAAyBO,6BAAzB,E,CAEA;;AACAV,MAAM,CAACW,KAAP,CAAa,YAAb,EAA2BL,sBAAOC,MAAP,CAAc,QAAd,CAA3B,EAAoDC,oCAApD,EAAuEI,4BAAvE,E,CAEA;;AACAZ,MAAM,CAACa,MAAP,CAAc,YAAd,EAA4BC,4BAA5B;eAKed,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport upload from '../uploadConfig';\n\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\"\n\nimport {post_get_all, post_create, post_get_one, post_update, post_delete, post_like,post_unlike} from '../controllers/postControllers'\n\n\n// Get all posts\nrouter.get(\"/posts\", post_get_all);\n\n// create post\nrouter.post(\"/posts\", upload.single('poster'), authenticateToken, post_create);\n\n// getting individual post\nrouter.get(\"/posts/:id\", post_get_one)\n\n// updating post\nrouter.patch(\"/posts/:id\", upload.single('poster'), authenticateToken, post_update)\n\n// delete post\nrouter.delete(\"/posts/:id\", post_delete)\n\n\n\n\nexport default router\n"]}},"mtime":1650457977215},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/uploadConfig.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//storage engine\nconst storage = _multer.default.diskStorage({\n  destination: './uploads/blog/images',\n  filename: (req, file, cb) => {\n    return cb(null, `${file.fieldname}_${Date.now()}${_path.default.extname(file.originalname)}`);\n  }\n}); //upload image\n\n\nconst upload = (0, _multer.default)({\n  storage: storage\n}); // app.post('/upload', upload.single('poster'), (req, res)=>{\n// \tres.json({\n//         success:1,\n//         posterUrl:`http://localhost:3000/poster/${req.file.filename}`\n//     })\n// })    \n\nvar _default = upload;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZENvbmZpZy5qcyJdLCJuYW1lcyI6WyJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsImZpbGVuYW1lIiwicmVxIiwiZmlsZSIsImNiIiwiZmllbGRuYW1lIiwiRGF0ZSIsIm5vdyIsInBhdGgiLCJleHRuYW1lIiwib3JpZ2luYWxuYW1lIiwidXBsb2FkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQTtBQUNBLE1BQU1BLE9BQU8sR0FBR0MsZ0JBQU9DLFdBQVAsQ0FBbUI7QUFDL0JDLEVBQUFBLFdBQVcsRUFBQyx1QkFEbUI7QUFFL0JDLEVBQUFBLFFBQVEsRUFBQyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixLQUFpQjtBQUN0QixXQUFPQSxFQUFFLENBQUMsSUFBRCxFQUFRLEdBQUVELElBQUksQ0FBQ0UsU0FBVSxJQUFHQyxJQUFJLENBQUNDLEdBQUwsRUFBVyxHQUFFQyxjQUFLQyxPQUFMLENBQWFOLElBQUksQ0FBQ08sWUFBbEIsQ0FBZ0MsRUFBekUsQ0FBVDtBQUNIO0FBSjhCLENBQW5CLENBQWhCLEMsQ0FPQTs7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHLHFCQUFPO0FBQ3JCZCxFQUFBQSxPQUFPLEVBQUNBO0FBRGEsQ0FBUCxDQUFmLEMsQ0FLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O2VBRWVjLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG4vL3N0b3JhZ2UgZW5naW5lXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcbiAgICBkZXN0aW5hdGlvbjonLi91cGxvYWRzL2Jsb2cvaW1hZ2VzJyxcbiAgICBmaWxlbmFtZToocmVxLCBmaWxlLCBjYik9PntcbiAgICAgICAgcmV0dXJuIGNiKG51bGwsIGAke2ZpbGUuZmllbGRuYW1lfV8ke0RhdGUubm93KCl9JHtwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbG5hbWUpfWApXG4gICAgfVxufSlcblxuLy91cGxvYWQgaW1hZ2VcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7XG5cdHN0b3JhZ2U6c3RvcmFnZVxufSlcblxuXG4vLyBhcHAucG9zdCgnL3VwbG9hZCcsIHVwbG9hZC5zaW5nbGUoJ3Bvc3RlcicpLCAocmVxLCByZXMpPT57XG4vLyBcdHJlcy5qc29uKHtcbi8vICAgICAgICAgc3VjY2VzczoxLFxuLy8gICAgICAgICBwb3N0ZXJVcmw6YGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wb3N0ZXIvJHtyZXEuZmlsZS5maWxlbmFtZX1gXG4vLyAgICAgfSlcbi8vIH0pICAgIFxuXG5leHBvcnQgZGVmYXVsdCB1cGxvYWQiXX0=","map":{"version":3,"sources":["uploadConfig.js"],"names":["storage","multer","diskStorage","destination","filename","req","file","cb","fieldname","Date","now","path","extname","originalname","upload"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA;AACA,MAAMA,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,EAAC,uBADmB;AAE/BC,EAAAA,QAAQ,EAAC,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAiB;AACtB,WAAOA,EAAE,CAAC,IAAD,EAAQ,GAAED,IAAI,CAACE,SAAU,IAAGC,IAAI,CAACC,GAAL,EAAW,GAAEC,cAAKC,OAAL,CAAaN,IAAI,CAACO,YAAlB,CAAgC,EAAzE,CAAT;AACH;AAJ8B,CAAnB,CAAhB,C,CAOA;;;AACA,MAAMC,MAAM,GAAG,qBAAO;AACrBd,EAAAA,OAAO,EAACA;AADa,CAAP,CAAf,C,CAKA;AACA;AACA;AACA;AACA;AACA;;eAEec,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/","sourcesContent":["import multer from 'multer';\nimport path from 'path';\n\n//storage engine\nconst storage = multer.diskStorage({\n    destination:'./uploads/blog/images',\n    filename:(req, file, cb)=>{\n        return cb(null, `${file.fieldname}_${Date.now()}${path.extname(file.originalname)}`)\n    }\n})\n\n//upload image\nconst upload = multer({\n\tstorage:storage\n})\n\n\n// app.post('/upload', upload.single('poster'), (req, res)=>{\n// \tres.json({\n//         success:1,\n//         posterUrl:`http://localhost:3000/poster/${req.file.filename}`\n//     })\n// })    \n\nexport default upload"]}},"mtime":1649416931260},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/AuthMiddleWare/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/AuthMiddleWare/AuthenticateToken.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.authenticateToken = authenticateToken;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction authenticateToken(req, res, next) {\n  const authHeader = req.headers['authorization'];\n  const token = authHeader && authHeader.split(' ')[1];\n  if (token == null) return res.status(401).json({\n    message: 'Token is required'\n  });\n\n  _jsonwebtoken.default.verify(token, process.env.ACCESS_TOKEN_SECRET, (error, user) => {\n    if (error) return res.status(403).json({\n      message: \"Invalid token\"\n    });\n    req.user = user;\n    next();\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1dGhlbnRpY2F0ZVRva2VuLmpzIl0sIm5hbWVzIjpbImF1dGhlbnRpY2F0ZVRva2VuIiwicmVxIiwicmVzIiwibmV4dCIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwidG9rZW4iLCJzcGxpdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiand0IiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIkFDQ0VTU19UT0tFTl9TRUNSRVQiLCJlcnJvciIsInVzZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUdPLFNBQVNBLGlCQUFULENBQTJCQyxHQUEzQixFQUFnQ0MsR0FBaEMsRUFBcUNDLElBQXJDLEVBQTBDO0FBQ2hELFFBQU1DLFVBQVUsR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVksZUFBWixDQUFuQjtBQUNBLFFBQU1DLEtBQUssR0FBR0YsVUFBVSxJQUFJQSxVQUFVLENBQUNHLEtBQVgsQ0FBaUIsR0FBakIsRUFBc0IsQ0FBdEIsQ0FBNUI7QUFDQSxNQUFHRCxLQUFLLElBQUksSUFBWixFQUFrQixPQUFPSixHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxJQUFBQSxPQUFPLEVBQUM7QUFBVCxHQUFyQixDQUFQOztBQUVsQkMsd0JBQUlDLE1BQUosQ0FBV04sS0FBWCxFQUFrQk8sT0FBTyxDQUFDQyxHQUFSLENBQVlDLG1CQUE5QixFQUFtRCxDQUFDQyxLQUFELEVBQVFDLElBQVIsS0FBZTtBQUNqRSxRQUFHRCxLQUFILEVBQVUsT0FBT2QsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0MsTUFBQUEsT0FBTyxFQUFDO0FBQVQsS0FBckIsQ0FBUDtBQUVWVCxJQUFBQSxHQUFHLENBQUNnQixJQUFKLEdBQVNBLElBQVQ7QUFFQWQsSUFBQUEsSUFBSTtBQUNKLEdBTkQ7QUFPQSIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvQXV0aE1pZGRsZVdhcmUvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZVRva2VuKHJlcSwgcmVzLCBuZXh0KXtcblx0Y29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzWydhdXRob3JpemF0aW9uJ11cblx0Y29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyICYmIGF1dGhIZWFkZXIuc3BsaXQoJyAnKVsxXVxuXHRpZih0b2tlbiA9PSBudWxsKSByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6J1Rva2VuIGlzIHJlcXVpcmVkJ30pXG5cblx0and0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCwgKGVycm9yLCB1c2VyKT0+e1xuXHRcdGlmKGVycm9yKSByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJJbnZhbGlkIHRva2VuXCJ9KVxuXG5cdFx0cmVxLnVzZXI9dXNlcjtcblxuXHRcdG5leHQoKTtcblx0fSlcbn1cbiJdfQ==","map":{"version":3,"sources":["AuthenticateToken.js"],"names":["authenticateToken","req","res","next","authHeader","headers","token","split","status","json","message","jwt","verify","process","env","ACCESS_TOKEN_SECRET","error","user"],"mappings":";;;;;;;AAAA;;;;AAGO,SAASA,iBAAT,CAA2BC,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA0C;AAChD,QAAMC,UAAU,GAAGH,GAAG,CAACI,OAAJ,CAAY,eAAZ,CAAnB;AACA,QAAMC,KAAK,GAAGF,UAAU,IAAIA,UAAU,CAACG,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAA5B;AACA,MAAGD,KAAK,IAAI,IAAZ,EAAkB,OAAOJ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,IAAAA,OAAO,EAAC;AAAT,GAArB,CAAP;;AAElBC,wBAAIC,MAAJ,CAAWN,KAAX,EAAkBO,OAAO,CAACC,GAAR,CAAYC,mBAA9B,EAAmD,CAACC,KAAD,EAAQC,IAAR,KAAe;AACjE,QAAGD,KAAH,EAAU,OAAOd,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AAEVT,IAAAA,GAAG,CAACgB,IAAJ,GAASA,IAAT;AAEAd,IAAAA,IAAI;AACJ,GAND;AAOA","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/AuthMiddleWare/","sourcesContent":["import jwt from 'jsonwebtoken'\n\n\nexport function authenticateToken(req, res, next){\n\tconst authHeader = req.headers['authorization']\n\tconst token = authHeader && authHeader.split(' ')[1]\n\tif(token == null) return res.status(401).json({message:'Token is required'})\n\n\tjwt.verify(token, process.env.ACCESS_TOKEN_SECRET, (error, user)=>{\n\t\tif(error) return res.status(403).json({message:\"Invalid token\"})\n\n\t\treq.user=user;\n\n\t\tnext();\n\t})\n}\n"]}},"mtime":1650457977143},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/postControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.post_update = exports.post_get_one = exports.post_get_all = exports.post_delete = exports.post_create = void 0;\n\nvar _Post = require(\"../models/Post\");\n\n// import models\n// get all posts\nconst post_get_all = async (req, res) => {\n  const posts = await _Post.Post.find().sort({\n    createdAt: -1\n  });\n  return res.json({\n    data: posts,\n    status: 200,\n    message: \"Fetched successfully\"\n  });\n}; // create new post\n\n\nexports.post_get_all = post_get_all;\n\nconst post_create = async (req, res) => {\n  try {\n    if (req.body.title === '' || req.body.content === '') {\n      return res.status(400).json({\n        message: \"Title and content are required\"\n      });\n    } else {\n      const post = new _Post.Post({\n        title: req.body.title,\n        content: req.body.content\n      });\n      await post.save();\n      return res.status(201).json({\n        status: 201,\n        message: \"Post Saved successfully\"\n      });\n    }\n  } catch (error) {\n    return res.status(403).json({\n      message: \"Invalid token\"\n    });\n  }\n}; // get individual post\n\n\nexports.post_create = post_create;\n\nconst post_get_one = async (req, res) => {\n  try {\n    const post = await _Post.Post.findOne({\n      _id: req.params.id\n    });\n\n    if (post === null) {\n      return res.status(404).json({\n        message: \"Post of that id is not available\"\n      });\n    }\n\n    return res.status(200).json({\n      data: post,\n      message: \"successfully fetched\"\n    });\n  } catch {\n    return res.status(404).json({\n      error: \"Post does not exist!\"\n    });\n  }\n}; // update a post\n\n\nexports.post_get_one = post_get_one;\n\nconst post_update = async (req, res) => {\n  try {\n    const post = await _Post.Post.findOne({\n      _id: req.params.id\n    });\n\n    if (req.body.title.length > 0 && req.body.content.length > 0) {\n      post.title = req.body.title, post.content = req.body.content;\n      await post.save();\n      return res.status(200).json({\n        message: \"Post successfully updated!\"\n      });\n    } else {\n      return res.status(400).json({\n        message: \"Title and content need value!\"\n      });\n    }\n  } catch {\n    return res.status(404).json({\n      error: \"Post doesn't exist!\"\n    });\n  }\n}; // delete a post\n\n\nexports.post_update = post_update;\n\nconst post_delete = async (req, res) => {\n  try {\n    const post = await _Post.Post.findById(req.params.id);\n\n    if (post != null) {\n      await post.remove();\n      return res.status(200).json({\n        message: \"Post deleted successfully!\"\n      });\n    } else {\n      return res.status(404).json({\n        error: \"Post doesn't exist!\"\n      });\n    }\n  } catch {\n    return res.status(500).json({\n      error: \"Server error\"\n    });\n  }\n};\n\nexports.post_delete = post_delete;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJwb3N0X2dldF9hbGwiLCJyZXEiLCJyZXMiLCJwb3N0cyIsIlBvc3QiLCJmaW5kIiwic29ydCIsImNyZWF0ZWRBdCIsImpzb24iLCJkYXRhIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3RfY3JlYXRlIiwiYm9keSIsInRpdGxlIiwiY29udGVudCIsInBvc3QiLCJzYXZlIiwiZXJyb3IiLCJwb3N0X2dldF9vbmUiLCJmaW5kT25lIiwiX2lkIiwicGFyYW1zIiwiaWQiLCJwb3N0X3VwZGF0ZSIsImxlbmd0aCIsInBvc3RfZGVsZXRlIiwiZmluZEJ5SWQiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFEQTtBQUtBO0FBQ0EsTUFBTUEsWUFBWSxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN4QyxRQUFNQyxLQUFLLEdBQUcsTUFBTUMsV0FBS0MsSUFBTCxHQUFZQyxJQUFaLENBQWlCO0FBQUNDLElBQUFBLFNBQVMsRUFBRSxDQUFDO0FBQWIsR0FBakIsQ0FBcEI7QUFDQSxTQUFPTCxHQUFHLENBQUNNLElBQUosQ0FBUztBQUFDQyxJQUFBQSxJQUFJLEVBQUNOLEtBQU47QUFBYU8sSUFBQUEsTUFBTSxFQUFDLEdBQXBCO0FBQXlCQyxJQUFBQSxPQUFPLEVBQUM7QUFBakMsR0FBVCxDQUFQO0FBQ0EsQ0FIRCxDLENBS0E7Ozs7O0FBQ0EsTUFBTUMsV0FBVyxHQUFHLE9BQU9YLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN2QyxNQUFJO0FBQ0gsUUFBR0QsR0FBRyxDQUFDWSxJQUFKLENBQVNDLEtBQVQsS0FBbUIsRUFBbkIsSUFBeUJiLEdBQUcsQ0FBQ1ksSUFBSixDQUFTRSxPQUFULEtBQXFCLEVBQWpELEVBQW9EO0FBQ25ELGFBQU9iLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JGLElBQWhCLENBQXFCO0FBQUNHLFFBQUFBLE9BQU8sRUFBQztBQUFULE9B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SyxFQUFFO0FBQVIsS0FBckIsQ0FBUDtBQUNBO0FBQ0QsQ0FuQkQsQyxDQXFCQTs7Ozs7QUFDQSxNQUFNUSxXQUFXLEdBQUcsT0FBT3pCLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN2QyxNQUFJO0FBQ0gsVUFBTWMsSUFBSSxHQUFHLE1BQU1aLFdBQUt1QixRQUFMLENBQWMxQixHQUFHLENBQUNxQixNQUFKLENBQVdDLEVBQXpCLENBQW5COztBQUNBLFFBQUdQLElBQUksSUFBSSxJQUFYLEVBQWdCO0FBRWYsWUFBTUEsSUFBSSxDQUFDWSxNQUFMLEVBQU47QUFDQSxhQUFPMUIsR0FBRyxDQUFDUSxNQUFKLENBQVcsR0FBWCxFQUFnQkYsSUFBaEIsQ0FBcUI7QUFBQ0csUUFBQUEsT0FBTyxFQUFFO0FBQVYsT0FBckIsQ0FBUDtBQUNBLEtBSkQsTUFLSTtBQUNILGFBQU9ULEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JGLElBQWhCLENBQXFCO0FBQUNVLFFBQUFBLEtBQUssRUFBRTtBQUFSLE9BQXJCLENBQVA7QUFDQTtBQUdELEdBWkQsQ0FZRSxNQUFNO0FBQ1AsV0FBT2hCLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JGLElBQWhCLENBQXFCO0FBQUNVLE1BQUFBLEtBQUssRUFBRTtBQUFSLEtBQXJCLENBQVA7QUFDQTtBQUNELENBaEJEIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgbW9kZWxzXG5pbXBvcnQge1Bvc3R9IGZyb20gJy4uL21vZGVscy9Qb3N0J1xuXG5cblxuLy8gZ2V0IGFsbCBwb3N0c1xuY29uc3QgcG9zdF9nZXRfYWxsID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdGNvbnN0IHBvc3RzID0gYXdhaXQgUG9zdC5maW5kKCkuc29ydCh7Y3JlYXRlZEF0OiAtMX0pXG5cdHJldHVybiByZXMuanNvbih7ZGF0YTpwb3N0cywgc3RhdHVzOjIwMCwgbWVzc2FnZTpcIkZldGNoZWQgc3VjY2Vzc2Z1bGx5XCJ9KVxufVxuXG4vLyBjcmVhdGUgbmV3IHBvc3RcbmNvbnN0IHBvc3RfY3JlYXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdHRyeSB7XG5cdFx0aWYocmVxLmJvZHkudGl0bGUgPT09ICcnIHx8IHJlcS5ib2R5LmNvbnRlbnQgPT09ICcnKXtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTpcIlRpdGxlIGFuZCBjb250ZW50IGFyZSByZXF1aXJlZFwifSlcblx0XHR9XG5cdFx0ZWxzZXtcblx0XHRcdGNvbnN0IHBvc3QgPSBuZXcgUG9zdCh7XG5cdFx0XHRcdHRpdGxlOiByZXEuYm9keS50aXRsZSxcblx0XHRcdFx0Y29udGVudDogcmVxLmJvZHkuY29udGVudFxuXHRcdFx0XHRcblx0XHRcblx0XHRcdH0pXG5cdFx0XHRhd2FpdCBwb3N0LnNhdmUoKVxuXHRcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7c3RhdHVzOjIwMSwgbWVzc2FnZTpcIlBvc3QgU2F2ZWQgc3VjY2Vzc2Z1bGx5XCJ9KVxuXHRcdH1cblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJJbnZhbGlkIHRva2VuXCJ9KVxuXHR9XG5cdFxuXHRcbn1cblxuLy8gZ2V0IGluZGl2aWR1YWwgcG9zdFxuY29uc3QgcG9zdF9nZXRfb25lID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KVxuXG5cdFx0aWYocG9zdCA9PT0gbnVsbCl7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6XCJQb3N0IG9mIHRoYXQgaWQgaXMgbm90IGF2YWlsYWJsZVwifSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtkYXRhOnBvc3QsIG1lc3NhZ2U6XCJzdWNjZXNzZnVsbHkgZmV0Y2hlZFwifSk7XG5cblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtlcnJvcjogXCJQb3N0IGRvZXMgbm90IGV4aXN0IVwifSlcblx0fVxufVxuXG4vLyB1cGRhdGUgYSBwb3N0XG5jb25zdCBwb3N0X3VwZGF0ZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRPbmUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSlcblxuXHRcdGlmIChyZXEuYm9keS50aXRsZS5sZW5ndGggPiAwICYmIHJlcS5ib2R5LmNvbnRlbnQubGVuZ3RoID4gMCkge1xuXHRcdFx0cG9zdC50aXRsZSA9IHJlcS5ib2R5LnRpdGxlLFxuXHRcdFx0cG9zdC5jb250ZW50ID0gcmVxLmJvZHkuY29udGVudFxuXG5cblx0XHRcdGF3YWl0IHBvc3Quc2F2ZSgpXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6XCJQb3N0IHN1Y2Nlc3NmdWxseSB1cGRhdGVkIVwifSk7XG5cdFx0fVxuXHRcdGVsc2V7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6XCJUaXRsZSBhbmQgY29udGVudCBuZWVkIHZhbHVlIVwifSk7XG5cdFx0fVxuXG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7ZXJyb3I6IFwiUG9zdCBkb2Vzbid0IGV4aXN0IVwifSlcblx0fVxufVxuXG4vLyBkZWxldGUgYSBwb3N0XG5jb25zdCBwb3N0X2RlbGV0ZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpXG5cdFx0aWYocG9zdCAhPSBudWxsKXtcblxuXHRcdFx0YXdhaXQgcG9zdC5yZW1vdmUoKTtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTogXCJQb3N0IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5IVwifSlcblx0XHR9XG5cdFx0ZWxzZXtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7ZXJyb3I6IFwiUG9zdCBkb2Vzbid0IGV4aXN0IVwifSlcblx0XHR9XG5cblx0XHRcblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtlcnJvcjogXCJTZXJ2ZXIgZXJyb3JcIn0pXG5cdH1cbn1cblxuXG5cbmV4cG9ydCB7cG9zdF9nZXRfYWxsLCBwb3N0X2NyZWF0ZSwgcG9zdF9nZXRfb25lLCBwb3N0X3VwZGF0ZSwgcG9zdF9kZWxldGV9XG4iXX0=","map":{"version":3,"sources":["postControllers.js"],"names":["post_get_all","req","res","posts","Post","find","sort","createdAt","json","data","status","message","post_create","body","title","content","post","save","error","post_get_one","findOne","_id","params","id","post_update","length","post_delete","findById","remove"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["// import models\nimport {Post} from '../models/Post'\n\n\n\n// get all posts\nconst post_get_all = async (req, res) => {\n\tconst posts = await Post.find().sort({createdAt: -1})\n\treturn res.json({data:posts, status:200, message:\"Fetched successfully\"})\n}\n\n// create new post\nconst post_create = async (req, res) => {\n\ttry {\n\t\tif(req.body.title === '' || req.body.content === ''){\n\t\t\treturn res.status(400).json({message:\"Title and content are required\"})\n\t\t}\n\t\telse{\n\t\t\tconst post = new Post({\n\t\t\t\ttitle: req.body.title,\n\t\t\t\tcontent: req.body.content\n\t\t\t\t\n\t\t\n\t\t\t})\n\t\t\tawait post.save()\n\t\n\t\t\treturn res.status(201).json({status:201, message:\"Post Saved successfully\"})\n\t\t}\n\t} catch (error) {\n\t\treturn res.status(403).json({message:\"Invalid token\"})\n\t}\n\t\n\t\n}\n\n// get individual post\nconst post_get_one = async (req, res) => {\n\ttry {\n\t\tconst post = await Post.findOne({ _id: req.params.id })\n\n\t\tif(post === null){\n\t\t\treturn res.status(404).json({message:\"Post of that id is not available\"});\n\t\t}\n\n\t\treturn res.status(200).json({data:post, message:\"successfully fetched\"});\n\n\t} catch {\n\t\treturn res.status(404).json({error: \"Post does not exist!\"})\n\t}\n}\n\n// update a post\nconst post_update = async (req, res) => {\n\ttry {\n\t\tconst post = await Post.findOne({ _id: req.params.id })\n\n\t\tif (req.body.title.length > 0 && req.body.content.length > 0) {\n\t\t\tpost.title = req.body.title,\n\t\t\tpost.content = req.body.content\n\n\n\t\t\tawait post.save()\n\t\t\treturn res.status(200).json({message:\"Post successfully updated!\"});\n\t\t}\n\t\telse{\n\t\t\treturn res.status(400).json({message:\"Title and content need value!\"});\n\t\t}\n\n\t} catch {\n\t\treturn res.status(404).json({error: \"Post doesn't exist!\"})\n\t}\n}\n\n// delete a post\nconst post_delete = async (req, res) => {\n\ttry {\n\t\tconst post = await Post.findById(req.params.id)\n\t\tif(post != null){\n\n\t\t\tawait post.remove();\n\t\t\treturn res.status(200).json({message: \"Post deleted successfully!\"})\n\t\t}\n\t\telse{\n\t\t\treturn res.status(404).json({error: \"Post doesn't exist!\"})\n\t\t}\n\n\t\t\n\t} catch {\n\t\treturn res.status(500).json({error: \"Server error\"})\n\t}\n}\n\n\n\nexport {post_get_all, post_create, post_get_one, post_update, post_delete}\n"]}},"mtime":1650457977179},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/Post.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Post = exports.Comment = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar _User = _interopRequireDefault(require(\"./User\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst commentSchema = new _mongoose.mongoose.Schema({\n  postId: {\n    type: _mongoose.mongoose.Schema.Types.ObjectId,\n    ref: 'Post'\n  },\n  description: String\n}); // const likeSchema = new mongoose.Schema({\n// \tuserId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref: 'User'\n// \t},\n// \tpostId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref:'Post'\n// \t}\n// })\n\nconst schema = new _mongoose.mongoose.Schema({\n  title: {\n    type: String,\n    required: true\n  },\n  content: {\n    type: String,\n    required: true\n  },\n  image: String,\n  comments: [commentSchema],\n  likes: [],\n  postedBy: {\n    type: _mongoose.mongoose.Schema.Types.ObjectId,\n    ref: 'User'\n  }\n}, {\n  timestamps: true\n});\n\nconst Comment = _mongoose.mongoose.model(\"Comment\", commentSchema);\n\nexports.Comment = Comment;\n\nconst Post = _mongoose.mongoose.model(\"Post\", schema);\n\nexports.Post = Post;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBvc3QuanMiXSwibmFtZXMiOlsiY29tbWVudFNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwicG9zdElkIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJkZXNjcmlwdGlvbiIsIlN0cmluZyIsInNjaGVtYSIsInRpdGxlIiwicmVxdWlyZWQiLCJjb250ZW50IiwiaW1hZ2UiLCJjb21tZW50cyIsImxpa2VzIiwicG9zdGVkQnkiLCJ0aW1lc3RhbXBzIiwiQ29tbWVudCIsIm1vZGVsIiwiUG9zdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsYUFBYSxHQUFHLElBQUlDLG1CQUFTQyxNQUFiLENBQW9CO0FBQ3pDQyxFQUFBQSxNQUFNLEVBQUM7QUFDTkMsSUFBQUEsSUFBSSxFQUFDSCxtQkFBU0MsTUFBVCxDQUFnQkcsS0FBaEIsQ0FBc0JDLFFBRHJCO0FBRU5DLElBQUFBLEdBQUcsRUFBQztBQUZFLEdBRGtDO0FBS3RDQyxFQUFBQSxXQUFXLEVBQUNDO0FBTDBCLENBQXBCLENBQXRCLEMsQ0FRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFLQSxNQUFNQyxNQUFNLEdBQUcsSUFBSVQsbUJBQVNDLE1BQWIsQ0FBb0I7QUFDbENTLEVBQUFBLEtBQUssRUFBRTtBQUNOUCxJQUFBQSxJQUFJLEVBQUNLLE1BREM7QUFFTkcsSUFBQUEsUUFBUSxFQUFDO0FBRkgsR0FEMkI7QUFLbENDLEVBQUFBLE9BQU8sRUFBRTtBQUNSVCxJQUFBQSxJQUFJLEVBQUNLLE1BREc7QUFFUkcsSUFBQUEsUUFBUSxFQUFDO0FBRkQsR0FMeUI7QUFTbENFLEVBQUFBLEtBQUssRUFBQ0wsTUFUNEI7QUFXbENNLEVBQUFBLFFBQVEsRUFBQyxDQUFDZixhQUFELENBWHlCO0FBYWxDZ0IsRUFBQUEsS0FBSyxFQUFDLEVBYjRCO0FBZWxDQyxFQUFBQSxRQUFRLEVBQUM7QUFDUmIsSUFBQUEsSUFBSSxFQUFDSCxtQkFBU0MsTUFBVCxDQUFnQkcsS0FBaEIsQ0FBc0JDLFFBRG5CO0FBRVJDLElBQUFBLEdBQUcsRUFBQztBQUZJO0FBZnlCLENBQXBCLEVBb0JiO0FBQUNXLEVBQUFBLFVBQVUsRUFBQztBQUFaLENBcEJhLENBQWY7O0FBdUJPLE1BQU1DLE9BQU8sR0FBR2xCLG1CQUFTbUIsS0FBVCxDQUFlLFNBQWYsRUFBMEJwQixhQUExQixDQUFoQjs7OztBQUNBLE1BQU1xQixJQUFJLEdBQUdwQixtQkFBU21CLEtBQVQsQ0FBZSxNQUFmLEVBQXVCVixNQUF2QixDQUFiIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHttb25nb29zZX0gZnJvbSBcIm1vbmdvb3NlXCJcbmltcG9ydCAgVXNlciAgZnJvbSBcIi4vVXNlclwiXG5cbmNvbnN0IGNvbW1lbnRTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcblx0cG9zdElkOntcblx0XHR0eXBlOm1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcblx0XHRyZWY6J1Bvc3QnXG5cdH0sXG4gICAgZGVzY3JpcHRpb246U3RyaW5nXG59KVxuXG4vLyBjb25zdCBsaWtlU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4vLyBcdHVzZXJJZDp7XG4vLyBcdFx0dHlwZTptb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4vLyBcdFx0cmVmOiAnVXNlcidcbi8vIFx0fSxcbi8vIFx0cG9zdElkOntcbi8vIFx0XHR0eXBlOm1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbi8vIFx0XHRyZWY6J1Bvc3QnXG4vLyBcdH1cbiAgICBcbi8vIH0pXG5cblxuXG5cbmNvbnN0IHNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuXHR0aXRsZToge1xuXHRcdHR5cGU6U3RyaW5nLFxuXHRcdHJlcXVpcmVkOnRydWVcblx0fSxcblx0Y29udGVudDoge1xuXHRcdHR5cGU6U3RyaW5nLFxuXHRcdHJlcXVpcmVkOnRydWVcblx0fSxcblx0aW1hZ2U6U3RyaW5nLFxuXG5cdGNvbW1lbnRzOltjb21tZW50U2NoZW1hXSxcblxuXHRsaWtlczpbXSxcblxuXHRwb3N0ZWRCeTp7XG5cdFx0dHlwZTptb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG5cdFx0cmVmOidVc2VyJ1xuXHR9XG5cbn0se3RpbWVzdGFtcHM6dHJ1ZX0pXG5cblxuZXhwb3J0IGNvbnN0IENvbW1lbnQgPSBtb25nb29zZS5tb2RlbChcIkNvbW1lbnRcIiwgY29tbWVudFNjaGVtYSlcbmV4cG9ydCBjb25zdCBQb3N0ID0gbW9uZ29vc2UubW9kZWwoXCJQb3N0XCIsIHNjaGVtYSlcblxuIl19","map":{"version":3,"sources":["Post.js"],"names":["commentSchema","mongoose","Schema","postId","type","Types","ObjectId","ref","description","String","schema","title","required","content","image","comments","likes","postedBy","timestamps","Comment","model","Post"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,mBAASC,MAAb,CAAoB;AACzCC,EAAAA,MAAM,EAAC;AACNC,IAAAA,IAAI,EAACH,mBAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QADrB;AAENC,IAAAA,GAAG,EAAC;AAFE,GADkC;AAKtCC,EAAAA,WAAW,EAACC;AAL0B,CAApB,CAAtB,C,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAKA,MAAMC,MAAM,GAAG,IAAIT,mBAASC,MAAb,CAAoB;AAClCS,EAAAA,KAAK,EAAE;AACNP,IAAAA,IAAI,EAACK,MADC;AAENG,IAAAA,QAAQ,EAAC;AAFH,GAD2B;AAKlCC,EAAAA,OAAO,EAAE;AACRT,IAAAA,IAAI,EAACK,MADG;AAERG,IAAAA,QAAQ,EAAC;AAFD,GALyB;AASlCE,EAAAA,KAAK,EAACL,MAT4B;AAWlCM,EAAAA,QAAQ,EAAC,CAACf,aAAD,CAXyB;AAalCgB,EAAAA,KAAK,EAAC,EAb4B;AAelCC,EAAAA,QAAQ,EAAC;AACRb,IAAAA,IAAI,EAACH,mBAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QADnB;AAERC,IAAAA,GAAG,EAAC;AAFI;AAfyB,CAApB,EAoBb;AAACW,EAAAA,UAAU,EAAC;AAAZ,CApBa,CAAf;;AAuBO,MAAMC,OAAO,GAAGlB,mBAASmB,KAAT,CAAe,SAAf,EAA0BpB,aAA1B,CAAhB;;;;AACA,MAAMqB,IAAI,GAAGpB,mBAASmB,KAAT,CAAe,MAAf,EAAuBV,MAAvB,CAAb","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/","sourcesContent":["import {mongoose} from \"mongoose\"\nimport  User  from \"./User\"\n\nconst commentSchema = new mongoose.Schema({\n\tpostId:{\n\t\ttype:mongoose.Schema.Types.ObjectId,\n\t\tref:'Post'\n\t},\n    description:String\n})\n\n// const likeSchema = new mongoose.Schema({\n// \tuserId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref: 'User'\n// \t},\n// \tpostId:{\n// \t\ttype:mongoose.Schema.Types.ObjectId,\n// \t\tref:'Post'\n// \t}\n    \n// })\n\n\n\n\nconst schema = new mongoose.Schema({\n\ttitle: {\n\t\ttype:String,\n\t\trequired:true\n\t},\n\tcontent: {\n\t\ttype:String,\n\t\trequired:true\n\t},\n\timage:String,\n\n\tcomments:[commentSchema],\n\n\tlikes:[],\n\n\tpostedBy:{\n\t\ttype:mongoose.Schema.Types.ObjectId,\n\t\tref:'User'\n\t}\n\n},{timestamps:true})\n\n\nexport const Comment = mongoose.model(\"Comment\", commentSchema)\nexport const Post = mongoose.model(\"Post\", schema)\n\n"]}},"mtime":1650535644376},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/UserRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userControllers = require(\"../controllers/userControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n//users//\nrouter.get(\"/users\", _userControllers.users_get_all);\nrouter.post(\"/users\", _userControllers.user_create); //login user\n\nrouter.post(\"/users/login\", _userControllers.user_get_token);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInVzZXJzX2dldF9hbGwiLCJwb3N0IiwidXNlcl9jcmVhdGUiLCJ1c2VyX2dldF90b2tlbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUlBOzs7O0FBRkEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmOztBQVNBO0FBQ0FGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFFBQVgsRUFBcUJDLDhCQUFyQjtBQUVBSixNQUFNLENBQUNLLElBQVAsQ0FBWSxRQUFaLEVBQXNCQyw0QkFBdEIsRSxDQUVBOztBQUNBTixNQUFNLENBQUNLLElBQVAsQ0FBWSxjQUFaLEVBQTRCRSwrQkFBNUI7ZUFFZVAsTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5pbXBvcnQgeyB1c2Vyc19nZXRfYWxsLCB1c2VyX2NyZWF0ZSwgdXNlcl9nZXRfdG9rZW4gfSBmcm9tICcuLi9jb250cm9sbGVycy91c2VyQ29udHJvbGxlcnMnXG5cblxuXG5cblxuXG4vL3VzZXJzLy9cbnJvdXRlci5nZXQoXCIvdXNlcnNcIiwgdXNlcnNfZ2V0X2FsbClcblxucm91dGVyLnBvc3QoXCIvdXNlcnNcIiwgdXNlcl9jcmVhdGUpXG5cbi8vbG9naW4gdXNlclxucm91dGVyLnBvc3QoXCIvdXNlcnMvbG9naW5cIiwgdXNlcl9nZXRfdG9rZW4pXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlclxuIl19","map":{"version":3,"sources":["UserRoutes.js"],"names":["router","express","Router","get","users_get_all","post","user_create","user_get_token"],"mappings":";;;;;;;AAAA;;AAIA;;;;AAFA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AASA;AACAF,MAAM,CAACG,GAAP,CAAW,QAAX,EAAqBC,8BAArB;AAEAJ,MAAM,CAACK,IAAP,CAAY,QAAZ,EAAsBC,4BAAtB,E,CAEA;;AACAN,MAAM,CAACK,IAAP,CAAY,cAAZ,EAA4BE,+BAA5B;eAEeP,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport { users_get_all, user_create, user_get_token } from '../controllers/userControllers'\n\n\n\n\n\n\n//users//\nrouter.get(\"/users\", users_get_all)\n\nrouter.post(\"/users\", user_create)\n\n//login user\nrouter.post(\"/users/login\", user_get_token)\n\nexport default router\n"]}},"mtime":1650457977215},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/userControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.users_get_all = exports.user_get_token = exports.user_create = void 0;\n\nvar _User = require(\"../models/User\");\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import models\n//listing all users\nconst users_get_all = (req, res) => {\n  const users = _User.User.find().then(result => {\n    return res.status(200).json({\n      data: result\n    });\n  });\n}; // creating a new user\n\n\nexports.users_get_all = users_get_all;\n\nconst user_create = async (req, res) => {\n  try {\n    if (req.body.username === '' || req.body.email === '' || req.body.password === '') {\n      return res.status(403).json({\n        message: \"All fields are required\"\n      });\n    }\n\n    const salt = await _bcrypt.default.genSalt();\n    const hashedPassword = await _bcrypt.default.hash(req.body.password, salt);\n    const isNewUser = await _User.User.isThisEmailInUSe(req.body.email);\n    if (!isNewUser) return res.status(403).json({\n      message: \"user already exists\"\n    });\n    const user = await new _User.User({\n      username: req.body.username,\n      email: req.body.email,\n      password: hashedPassword\n    });\n    await user.save();\n    return res.status(201).json({\n      message: \"user created!\"\n    });\n  } catch (error) {\n    return res.status(500).json({\n      error: error.message\n    });\n  }\n}; //login user\n\n\nexports.user_create = user_create;\n\nconst user_get_token = async (req, res) => {\n  try {\n    const user = await _User.User.findOne({\n      username: req.body.username\n    });\n\n    if (user) {\n      const match = await user.passwordComparison(req.body.password, user.password);\n\n      if (match) {\n        //further code to maintain jwt authentication\n        const user = {\n          username: req.body.username\n        };\n\n        const accesToken = _jsonwebtoken.default.sign(user, process.env.ACCESS_TOKEN_SECRET, {\n          expiresIn: '30m'\n        });\n\n        return res.status(200).json({\n          Token: accesToken\n        });\n      } else {\n        res.status(403).json({\n          message: \"Invalid username or password.\"\n        });\n      }\n    } else {\n      res.status(400).json({\n        message: \"Not User.\"\n      });\n    }\n  } catch (error) {\n    res.status(500).json({\n      message: \"Internal Server error occured\"\n    });\n  }\n};\n\nexports.user_get_token = user_get_token;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJ1c2Vyc19nZXRfYWxsIiwicmVxIiwicmVzIiwidXNlcnMiLCJVc2VyIiwiZmluZCIsInRoZW4iLCJyZXN1bHQiLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsInVzZXJfY3JlYXRlIiwiYm9keSIsInVzZXJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsIm1lc3NhZ2UiLCJzYWx0IiwiYmNyeXB0IiwiZ2VuU2FsdCIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsImlzTmV3VXNlciIsImlzVGhpc0VtYWlsSW5VU2UiLCJ1c2VyIiwic2F2ZSIsImVycm9yIiwidXNlcl9nZXRfdG9rZW4iLCJmaW5kT25lIiwibWF0Y2giLCJwYXNzd29yZENvbXBhcmlzb24iLCJhY2Nlc1Rva2VuIiwiand0Iiwic2lnbiIsInByb2Nlc3MiLCJlbnYiLCJBQ0NFU1NfVE9LRU5fU0VDUkVUIiwiZXhwaXJlc0luIiwiVG9rZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUhBO0FBS0E7QUFDQSxNQUFNQSxhQUFhLEdBQUUsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQVk7QUFFaEMsUUFBTUMsS0FBSyxHQUFHQyxXQUFLQyxJQUFMLEdBQVlDLElBQVosQ0FBa0JDLE1BQUQsSUFBVTtBQUN4QyxXQUFPTCxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxJQUFJLEVBQUNIO0FBQU4sS0FBckIsQ0FBUDtBQUNBLEdBRmEsQ0FBZDtBQUdBLENBTEQsQyxDQU9BOzs7OztBQUNBLE1BQU1JLFdBQVcsR0FBRyxPQUFPVixHQUFQLEVBQVlDLEdBQVosS0FBa0I7QUFDckMsTUFBSTtBQUNILFFBQUdELEdBQUcsQ0FBQ1csSUFBSixDQUFTQyxRQUFULEtBQXNCLEVBQXRCLElBQTRCWixHQUFHLENBQUNXLElBQUosQ0FBU0UsS0FBVCxLQUFtQixFQUEvQyxJQUFx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QUFDO0FBQVQsT0FBckI7QUFDRDtBQUVDLEdBdkJILENBdUJJLE9BQU9VLEtBQVAsRUFBYztBQUVqQnhCLElBQUFBLEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNPLE1BQUFBLE9BQU8sRUFBQztBQUFULEtBQXJCO0FBQ0U7QUFFSCxDQTdCRCIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IG1vZGVsc1xuaW1wb3J0IHtVc2VyfSBmcm9tICcuLi9tb2RlbHMvVXNlcidcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0J1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXG5cbi8vbGlzdGluZyBhbGwgdXNlcnNcbmNvbnN0IHVzZXJzX2dldF9hbGw9IChyZXEsIHJlcyk9Pntcblx0XG5cdGNvbnN0IHVzZXJzID0gVXNlci5maW5kKCkudGhlbigocmVzdWx0KT0+e1xuXHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7ZGF0YTpyZXN1bHR9KVxuXHR9KVxufVxuXG4vLyBjcmVhdGluZyBhIG5ldyB1c2VyXG5jb25zdCB1c2VyX2NyZWF0ZSA9IGFzeW5jIChyZXEsIHJlcyk9Pntcblx0dHJ5IHtcblx0XHRpZihyZXEuYm9keS51c2VybmFtZSA9PT0gJycgfHwgcmVxLmJvZHkuZW1haWwgPT09ICcnIHx8IHJlcS5ib2R5LnBhc3N3b3JkID09PSAnJyl7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJBbGwgZmllbGRzIGFyZSByZXF1aXJlZFwifSlcblx0XHR9XG5cblx0XHRjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoKVxuXHRcdGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsIHNhbHQpXG5cblx0XHRjb25zdCBpc05ld1VzZXIgPSBhd2FpdCBVc2VyLmlzVGhpc0VtYWlsSW5VU2UocmVxLmJvZHkuZW1haWwpO1xuXHRcdGlmKCFpc05ld1VzZXIpIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTpcInVzZXIgYWxyZWFkeSBleGlzdHNcIn0pO1xuXG5cdFx0Y29uc3QgdXNlciA9IGF3YWl0IG5ldyBVc2VyKHtcblx0XHRcdHVzZXJuYW1lOnJlcS5ib2R5LnVzZXJuYW1lLFxuXHRcdFx0ZW1haWw6cmVxLmJvZHkuZW1haWwsXG5cdFx0XHRwYXNzd29yZDpoYXNoZWRQYXNzd29yZFxuXHRcdH0pXG5cdFxuXHRcdGF3YWl0IHVzZXIuc2F2ZSgpXG5cdFxuXHRcdHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7bWVzc2FnZTpcInVzZXIgY3JlYXRlZCFcIn0pXG5cdFx0XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtlcnJvcjplcnJvci5tZXNzYWdlfSlcblx0fVxuXG5cdFxufVxuXG4vL2xvZ2luIHVzZXJcbmNvbnN0IHVzZXJfZ2V0X3Rva2VuPSBhc3luYyAocmVxLCByZXMpPT57XG5cdHRyeSB7XG5cdFx0Y29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiByZXEuYm9keS51c2VybmFtZSB9KTtcblxuXHRcdGlmICh1c2VyKSB7XG5cdFx0ICBjb25zdCBtYXRjaCA9IGF3YWl0IHVzZXIucGFzc3dvcmRDb21wYXJpc29uKHJlcS5ib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcblx0XHQgIGlmIChtYXRjaCkge1xuXHRcdFx0Ly9mdXJ0aGVyIGNvZGUgdG8gbWFpbnRhaW4gand0IGF1dGhlbnRpY2F0aW9uXG5cdFx0XHRcblx0XHRcdGNvbnN0IHVzZXIgPSB7XG5cdFx0XHRcdHVzZXJuYW1lIDogcmVxLmJvZHkudXNlcm5hbWVcblx0XHRcdFx0XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBhY2Nlc1Rva2VuID0gand0LnNpZ24odXNlciwgcHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCwge2V4cGlyZXNJbjogJzMwbSd9KTtcblx0XHRcdFxuXHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtUb2tlbjphY2Nlc1Rva2VufSk7XG5cdFx0ICB9IGVsc2Uge1xuXHRcdFx0cmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJJbnZhbGlkIHVzZXJuYW1lIG9yIHBhc3N3b3JkLlwifSk7XG5cdFx0ICB9XG5cblx0XHR9IGVsc2Uge1xuXHRcdCAgcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6XCJOb3QgVXNlci5cIn0pO1xuXHRcdH1cbiAgICAgICAgXG5cdCAgfSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcblx0XHRyZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTpcIkludGVybmFsIFNlcnZlciBlcnJvciBvY2N1cmVkXCJ9KTtcblx0ICB9XG5cbn1cblxuZXhwb3J0IHt1c2Vyc19nZXRfYWxsLCB1c2VyX2NyZWF0ZSwgdXNlcl9nZXRfdG9rZW59XG5cbiJdfQ==","map":{"version":3,"sources":["userControllers.js"],"names":["users_get_all","req","res","users","User","find","then","result","status","json","data","user_create","body","username","email","password","message","salt","bcrypt","genSalt","hashedPassword","hash","isNewUser","isThisEmailInUSe","user","save","error","user_get_token","findOne","match","passwordComparison","accesToken","jwt","sign","process","env","ACCESS_TOKEN_SECRET","expiresIn","Token"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["// import models\nimport {User} from '../models/User'\nimport bcrypt from 'bcrypt'\nimport jwt from 'jsonwebtoken'\n\n//listing all users\nconst users_get_all= (req, res)=>{\n\t\n\tconst users = User.find().then((result)=>{\n\t\treturn res.status(200).json({data:result})\n\t})\n}\n\n// creating a new user\nconst user_create = async (req, res)=>{\n\ttry {\n\t\tif(req.body.username === '' || req.body.email === '' || req.body.password === ''){\n\t\t\treturn res.status(403).json({message:\"All fields are required\"})\n\t\t}\n\n\t\tconst salt = await bcrypt.genSalt()\n\t\tconst hashedPassword = await bcrypt.hash(req.body.password, salt)\n\n\t\tconst isNewUser = await User.isThisEmailInUSe(req.body.email);\n\t\tif(!isNewUser) return res.status(403).json({message:\"user already exists\"});\n\n\t\tconst user = await new User({\n\t\t\tusername:req.body.username,\n\t\t\temail:req.body.email,\n\t\t\tpassword:hashedPassword\n\t\t})\n\t\n\t\tawait user.save()\n\t\n\t\treturn res.status(201).json({message:\"user created!\"})\n\t\t\n\t} catch (error) {\n\t\treturn res.status(500).json({error:error.message})\n\t}\n\n\t\n}\n\n//login user\nconst user_get_token= async (req, res)=>{\n\ttry {\n\t\tconst user = await User.findOne({ username: req.body.username });\n\n\t\tif (user) {\n\t\t  const match = await user.passwordComparison(req.body.password, user.password);\n\t\t  if (match) {\n\t\t\t//further code to maintain jwt authentication\n\t\t\t\n\t\t\tconst user = {\n\t\t\t\tusername : req.body.username\n\t\t\t\t\n\t\t\t}\n\t\t\tconst accesToken = jwt.sign(user, process.env.ACCESS_TOKEN_SECRET, {expiresIn: '30m'});\n\t\t\t\n\t\t\treturn res.status(200).json({Token:accesToken});\n\t\t  } else {\n\t\t\tres.status(403).json({message:\"Invalid username or password.\"});\n\t\t  }\n\n\t\t} else {\n\t\t  res.status(400).json({message:\"Not User.\"});\n\t\t}\n        \n\t  } catch (error) {\n\t\t\n\t\tres.status(500).json({message:\"Internal Server error occured\"});\n\t  }\n\n}\n\nexport {users_get_all, user_create, user_get_token}\n\n"]}},"mtime":1650457977179},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.User = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  username: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String\n  },\n  password: {\n    type: String,\n    required: true\n  }\n});\n\nuserSchema.statics.isThisEmailInUSe = async function (email) {\n  try {\n    const user = await this.findOne({\n      email\n    });\n\n    if (user) {\n      return false;\n    } else {\n      return true;\n    }\n  } catch (error) {\n    console.log('error', error.message);\n    return false;\n  }\n};\n\nuserSchema.methods.passwordComparison = function (inputPassword) {\n  let user = this;\n  return _bcrypt.default.compare(inputPassword, user.password);\n};\n\nuserSchema.statics.getUser = function (username) {\n  return this.find({\n    username: username\n  });\n};\n\nconst User = _mongoose.default.model(\"User\", userSchema);\n\nexports.User = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwidXNlcm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJlbWFpbCIsInBhc3N3b3JkIiwic3RhdGljcyIsImlzVGhpc0VtYWlsSW5VU2UiLCJ1c2VyIiwiZmluZE9uZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJtZXRob2RzIiwicGFzc3dvcmRDb21wYXJpc29uIiwiaW5wdXRQYXNzd29yZCIsImJjcnlwdCIsImNvbXBhcmUiLCJnZXRVc2VyIiwiZmluZCIsIlVzZXIiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQ3RDQyxFQUFBQSxRQUFRLEVBQUM7QUFDUkMsSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLElBQUFBLFFBQVEsRUFBRTtBQUZGLEdBRDZCO0FBS3RDQyxFQUFBQSxLQUFLLEVBQUM7QUFDTEgsSUFBQUEsSUFBSSxFQUFFQztBQURELEdBTGdDO0FBUXRDRyxFQUFBQSxRQUFRLEVBQUM7QUFDUkosSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLElBQUFBLFFBQVEsRUFBRTtBQUZGO0FBUjZCLENBQXBCLENBQW5COztBQWVBTixVQUFVLENBQUNTLE9BQVgsQ0FBbUJDLGdCQUFuQixHQUFzQyxnQkFBZUgsS0FBZixFQUFxQjtBQUMxRCxNQUFJO0FBQ0gsVUFBTUksSUFBSSxHQUFHLE1BQU0sS0FBS0MsT0FBTCxDQUFhO0FBQUNMLE1BQUFBO0FBQUQsS0FBYixDQUFuQjs7QUFDQSxRQUFHSSxJQUFILEVBQVM7QUFDUixhQUFPLEtBQVA7QUFDQSxLQUZELE1BRUs7QUFDSixhQUFPLElBQVA7QUFDQTtBQUdELEdBVEQsQ0FTRSxPQUFPRSxLQUFQLEVBQWM7QUFDZkMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWixFQUFxQkYsS0FBSyxDQUFDRyxPQUEzQjtBQUNBLFdBQU8sS0FBUDtBQUVBO0FBR0QsQ0FqQkQ7O0FBbUJBaEIsVUFBVSxDQUFDaUIsT0FBWCxDQUFtQkMsa0JBQW5CLEdBQXdDLFVBQVNDLGFBQVQsRUFBdUI7QUFDL0QsTUFBSVIsSUFBSSxHQUFHLElBQVg7QUFDRSxTQUFPUyxnQkFBT0MsT0FBUCxDQUFlRixhQUFmLEVBQThCUixJQUFJLENBQUNILFFBQW5DLENBQVA7QUFDRCxDQUhEOztBQUtBUixVQUFVLENBQUNTLE9BQVgsQ0FBbUJhLE9BQW5CLEdBQTZCLFVBQVVuQixRQUFWLEVBQW9CO0FBQ2hELFNBQU8sS0FBS29CLElBQUwsQ0FBVTtBQUFFcEIsSUFBQUEsUUFBUSxFQUFFQTtBQUFaLEdBQVYsQ0FBUDtBQUNBLENBRkQ7O0FBSU8sTUFBTXFCLElBQUksR0FBRXZCLGtCQUFTd0IsS0FBVCxDQUFlLE1BQWYsRUFBdUJ6QixVQUF2QixDQUFaIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCdcblxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuXHR1c2VybmFtZTp7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiB0cnVlXG5cdH0sXG5cdGVtYWlsOntcblx0XHR0eXBlOiBTdHJpbmdcblx0fSxcblx0cGFzc3dvcmQ6e1xuXHRcdHR5cGU6IFN0cmluZyxcblx0XHRyZXF1aXJlZDogdHJ1ZVxuXHR9XG5cbn0pXG5cbnVzZXJTY2hlbWEuc3RhdGljcy5pc1RoaXNFbWFpbEluVVNlID0gYXN5bmMgZnVuY3Rpb24oZW1haWwpe1xuXHR0cnkge1xuXHRcdGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRPbmUoe2VtYWlsfSlcblx0XHRpZih1c2VyKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fWVsc2V7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0XG5cdFx0XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IubWVzc2FnZSk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFxuXHR9XG5cblx0XG59XG5cbnVzZXJTY2hlbWEubWV0aG9kcy5wYXNzd29yZENvbXBhcmlzb24gPSBmdW5jdGlvbihpbnB1dFBhc3N3b3JkKXtcbmxldCB1c2VyID0gdGhpcztcbiAgcmV0dXJuIGJjcnlwdC5jb21wYXJlKGlucHV0UGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xufTtcblxudXNlclNjaGVtYS5zdGF0aWNzLmdldFVzZXIgPSBmdW5jdGlvbiAodXNlcm5hbWUpIHtcblx0cmV0dXJuIHRoaXMuZmluZCh7IHVzZXJuYW1lOiB1c2VybmFtZSB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IFVzZXIgPW1vbmdvb3NlLm1vZGVsKFwiVXNlclwiLCB1c2VyU2NoZW1hKSJdfQ==","map":{"version":3,"sources":["User.js"],"names":["userSchema","mongoose","Schema","username","type","String","required","email","password","statics","isThisEmailInUSe","user","findOne","error","console","log","message","methods","passwordComparison","inputPassword","bcrypt","compare","getUser","find","User","model"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACtCC,EAAAA,QAAQ,EAAC;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GAD6B;AAKtCC,EAAAA,KAAK,EAAC;AACLH,IAAAA,IAAI,EAAEC;AADD,GALgC;AAQtCG,EAAAA,QAAQ,EAAC;AACRJ,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF;AAR6B,CAApB,CAAnB;;AAeAN,UAAU,CAACS,OAAX,CAAmBC,gBAAnB,GAAsC,gBAAeH,KAAf,EAAqB;AAC1D,MAAI;AACH,UAAMI,IAAI,GAAG,MAAM,KAAKC,OAAL,CAAa;AAACL,MAAAA;AAAD,KAAb,CAAnB;;AACA,QAAGI,IAAH,EAAS;AACR,aAAO,KAAP;AACA,KAFD,MAEK;AACJ,aAAO,IAAP;AACA;AAGD,GATD,CASE,OAAOE,KAAP,EAAc;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAAK,CAACG,OAA3B;AACA,WAAO,KAAP;AAEA;AAGD,CAjBD;;AAmBAhB,UAAU,CAACiB,OAAX,CAAmBC,kBAAnB,GAAwC,UAASC,aAAT,EAAuB;AAC/D,MAAIR,IAAI,GAAG,IAAX;AACE,SAAOS,gBAAOC,OAAP,CAAeF,aAAf,EAA8BR,IAAI,CAACH,QAAnC,CAAP;AACD,CAHD;;AAKAR,UAAU,CAACS,OAAX,CAAmBa,OAAnB,GAA6B,UAAUnB,QAAV,EAAoB;AAChD,SAAO,KAAKoB,IAAL,CAAU;AAAEpB,IAAAA,QAAQ,EAAEA;AAAZ,GAAV,CAAP;AACA,CAFD;;AAIO,MAAMqB,IAAI,GAAEvB,kBAASwB,KAAT,CAAe,MAAf,EAAuBzB,UAAvB,CAAZ","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/","sourcesContent":["import mongoose from \"mongoose\"\nimport bcrypt from 'bcrypt'\n\nconst userSchema = new mongoose.Schema({\n\tusername:{\n\t\ttype: String,\n\t\trequired: true\n\t},\n\temail:{\n\t\ttype: String\n\t},\n\tpassword:{\n\t\ttype: String,\n\t\trequired: true\n\t}\n\n})\n\nuserSchema.statics.isThisEmailInUSe = async function(email){\n\ttry {\n\t\tconst user = await this.findOne({email})\n\t\tif(user) {\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t\n\t} catch (error) {\n\t\tconsole.log('error', error.message);\n\t\treturn false;\n\t\t\n\t}\n\n\t\n}\n\nuserSchema.methods.passwordComparison = function(inputPassword){\nlet user = this;\n  return bcrypt.compare(inputPassword, user.password);\n};\n\nuserSchema.statics.getUser = function (username) {\n\treturn this.find({ username: username });\n}\n\nexport const User =mongoose.model(\"User\", userSchema)"]}},"mtime":1650457977183},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/MessageRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _messageControllers = require(\"../controllers/messageControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n//Contact or Messages\nrouter.get(\"/messages\", _messageControllers.messages_get_all);\nrouter.post(\"/messages\", _messageControllers.message_create);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1lc3NhZ2VSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsIm1lc3NhZ2VzX2dldF9hbGwiLCJwb3N0IiwibWVzc2FnZV9jcmVhdGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFHQTs7OztBQUZBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFLQTtBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxXQUFYLEVBQXdCQyxvQ0FBeEI7QUFFQUosTUFBTSxDQUFDSyxJQUFQLENBQVksV0FBWixFQUF5QkMsa0NBQXpCO2VBRWVOLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmltcG9ydCB7bWVzc2FnZXNfZ2V0X2FsbCwgbWVzc2FnZV9jcmVhdGV9IGZyb20gXCIuLi9jb250cm9sbGVycy9tZXNzYWdlQ29udHJvbGxlcnNcIlxuXG5cbi8vQ29udGFjdCBvciBNZXNzYWdlc1xucm91dGVyLmdldChcIi9tZXNzYWdlc1wiLCBtZXNzYWdlc19nZXRfYWxsKVxuXG5yb3V0ZXIucG9zdChcIi9tZXNzYWdlc1wiLCBtZXNzYWdlX2NyZWF0ZSlcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyIl19","map":{"version":3,"sources":["MessageRoutes.js"],"names":["router","express","Router","get","messages_get_all","post","message_create"],"mappings":";;;;;;;AAAA;;AAGA;;;;AAFA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAKA;AACAF,MAAM,CAACG,GAAP,CAAW,WAAX,EAAwBC,oCAAxB;AAEAJ,MAAM,CAACK,IAAP,CAAY,WAAZ,EAAyBC,kCAAzB;eAEeN,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\nconst router = express.Router();\n\nimport {messages_get_all, message_create} from \"../controllers/messageControllers\"\n\n\n//Contact or Messages\nrouter.get(\"/messages\", messages_get_all)\n\nrouter.post(\"/messages\", message_create)\n\nexport default router"]}},"mtime":1650457977187},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/messageControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.messages_get_all = exports.message_create = void 0;\n\nvar _Contact = require(\"../models/Contact\");\n\n//contact or mesages\nconst messages_get_all = async (req, res) => {\n  try {\n    const messages = await _Contact.Contact.find();\n    if (messages == null) return res.status(404);\n    return res.status(200).json({\n      data: messages,\n      message: \"contacts fetched!\"\n    });\n  } catch (error) {\n    return res.status(404);\n  }\n};\n\nexports.messages_get_all = messages_get_all;\n\nconst message_create = async (req, res) => {\n  if (req.body.sender === '' || req.body.message === '') {\n    return res.status(403).json({\n      message: \"sender and message are required\"\n    });\n  } else {\n    const message = new _Contact.Contact({\n      sender: req.body.sender,\n      name: req.body.name,\n      message: req.body.message\n    });\n    await message.save();\n    return res.status(201).json({\n      message: \"Message Sent successfully\"\n    });\n  }\n};\n\nexports.message_create = message_create;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2VDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJtZXNzYWdlc19nZXRfYWxsIiwicmVxIiwicmVzIiwibWVzc2FnZXMiLCJDb250YWN0IiwiZmluZCIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwibWVzc2FnZSIsImVycm9yIiwibWVzc2FnZV9jcmVhdGUiLCJib2R5Iiwic2VuZGVyIiwibmFtZSIsInNhdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBLE1BQU1BLGdCQUFnQixHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFrQjtBQUN2QyxNQUFHO0FBQ0MsVUFBTUMsUUFBUSxHQUFHLE1BQU1DLGlCQUFRQyxJQUFSLEVBQXZCO0FBQ0EsUUFBSUYsUUFBUSxJQUFJLElBQWhCLEVBQXNCLE9BQVFELEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsQ0FBUjtBQUV0QixXQUFPSixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxJQUFJLEVBQUNMLFFBQU47QUFBZ0JNLE1BQUFBLE9BQU8sRUFBQztBQUF4QixLQUFyQixDQUFQO0FBQ0MsR0FMTCxDQUtNLE9BQU1DLEtBQU4sRUFBWTtBQUNkLFdBQU9SLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsQ0FBUDtBQUNIO0FBRUosQ0FWRDs7OztBQVdBLE1BQU1LLGNBQWMsR0FBRyxPQUFNVixHQUFOLEVBQVdDLEdBQVgsS0FBaUI7QUFDcEMsTUFBR0QsR0FBRyxDQUFDVyxJQUFKLENBQVNDLE1BQVQsS0FBb0IsRUFBcEIsSUFBMEJaLEdBQUcsQ0FBQ1csSUFBSixDQUFTSCxPQUFULEtBQXFCLEVBQWxELEVBQXFEO0FBQ2pELFdBQU9QLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNFLE1BQUFBLE9BQU8sRUFBQztBQUFULEtBQXJCLENBQVA7QUFDSCxHQUZELE1BR0k7QUFDQSxVQUFNQSxPQUFPLEdBQUcsSUFBSUwsZ0JBQUosQ0FBWTtBQUN4QlMsTUFBQUEsTUFBTSxFQUFFWixHQUFHLENBQUNXLElBQUosQ0FBU0MsTUFETztBQUV4QkMsTUFBQUEsSUFBSSxFQUFDYixHQUFHLENBQUNXLElBQUosQ0FBU0UsSUFGVTtBQUd4QkwsTUFBQUEsT0FBTyxFQUFFUixHQUFHLENBQUNXLElBQUosQ0FBU0g7QUFITSxLQUFaLENBQWhCO0FBTUEsVUFBTUEsT0FBTyxDQUFDTSxJQUFSLEVBQU47QUFFQSxXQUFPYixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDRSxNQUFBQSxPQUFPLEVBQUM7QUFBVCxLQUFyQixDQUFQO0FBQ0g7QUFDSixDQWZEIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbnRhY3R9IGZyb20gJy4uL21vZGVscy9Db250YWN0J1xuXG4vL2NvbnRhY3Qgb3IgbWVzYWdlc1xuY29uc3QgbWVzc2FnZXNfZ2V0X2FsbCA9IGFzeW5jIChyZXEsIHJlcyk9PntcbiAgICB0cnl7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgQ29udGFjdC5maW5kKCk7XG4gICAgICAgIGlmIChtZXNzYWdlcyA9PSBudWxsKSByZXR1cm4gIHJlcy5zdGF0dXMoNDA0KVxuICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe2RhdGE6bWVzc2FnZXMsIG1lc3NhZ2U6XCJjb250YWN0cyBmZXRjaGVkIVwifSlcbiAgICAgICAgfSBjYXRjaChlcnJvcil7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNClcbiAgICB9XG4gICAgXG59XG5jb25zdCBtZXNzYWdlX2NyZWF0ZSA9IGFzeW5jKHJlcSwgcmVzKT0+e1xuICAgIGlmKHJlcS5ib2R5LnNlbmRlciA9PT0gJycgfHwgcmVxLmJvZHkubWVzc2FnZSA9PT0gJycpe1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6XCJzZW5kZXIgYW5kIG1lc3NhZ2UgYXJlIHJlcXVpcmVkXCJ9KVxuICAgIH1cbiAgICBlbHNle1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gbmV3IENvbnRhY3Qoe1xuICAgICAgICAgICAgc2VuZGVyOiByZXEuYm9keS5zZW5kZXIsXG4gICAgICAgICAgICBuYW1lOnJlcS5ib2R5Lm5hbWUsXG4gICAgICAgICAgICBtZXNzYWdlOiByZXEuYm9keS5tZXNzYWdlLFxuICAgIFxuICAgICAgICB9KVxuICAgICAgICBhd2FpdCBtZXNzYWdlLnNhdmUoKVxuXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7bWVzc2FnZTpcIk1lc3NhZ2UgU2VudCBzdWNjZXNzZnVsbHlcIn0pXG4gICAgfVxufVxuXG5leHBvcnQge21lc3NhZ2VzX2dldF9hbGwsIG1lc3NhZ2VfY3JlYXRlfSAgICAiXX0=","map":{"version":3,"sources":["messageControllers.js"],"names":["messages_get_all","req","res","messages","Contact","find","status","json","data","message","error","message_create","body","sender","name","save"],"mappings":";;;;;;;AAAA;;AAEA;AACA,MAAMA,gBAAgB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAkB;AACvC,MAAG;AACC,UAAMC,QAAQ,GAAG,MAAMC,iBAAQC,IAAR,EAAvB;AACA,QAAIF,QAAQ,IAAI,IAAhB,EAAsB,OAAQD,GAAG,CAACI,MAAJ,CAAW,GAAX,CAAR;AAEtB,WAAOJ,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,IAAI,EAACL,QAAN;AAAgBM,MAAAA,OAAO,EAAC;AAAxB,KAArB,CAAP;AACC,GALL,CAKM,OAAMC,KAAN,EAAY;AACd,WAAOR,GAAG,CAACI,MAAJ,CAAW,GAAX,CAAP;AACH;AAEJ,CAVD;;;;AAWA,MAAMK,cAAc,GAAG,OAAMV,GAAN,EAAWC,GAAX,KAAiB;AACpC,MAAGD,GAAG,CAACW,IAAJ,CAASC,MAAT,KAAoB,EAApB,IAA0BZ,GAAG,CAACW,IAAJ,CAASH,OAAT,KAAqB,EAAlD,EAAqD;AACjD,WAAOP,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACE,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AACH,GAFD,MAGI;AACA,UAAMA,OAAO,GAAG,IAAIL,gBAAJ,CAAY;AACxBS,MAAAA,MAAM,EAAEZ,GAAG,CAACW,IAAJ,CAASC,MADO;AAExBC,MAAAA,IAAI,EAACb,GAAG,CAACW,IAAJ,CAASE,IAFU;AAGxBL,MAAAA,OAAO,EAAER,GAAG,CAACW,IAAJ,CAASH;AAHM,KAAZ,CAAhB;AAMA,UAAMA,OAAO,CAACM,IAAR,EAAN;AAEA,WAAOb,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACE,MAAAA,OAAO,EAAC;AAAT,KAArB,CAAP;AACH;AACJ,CAfD","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import {Contact} from '../models/Contact'\n\n//contact or mesages\nconst messages_get_all = async (req, res)=>{\n    try{\n        const messages = await Contact.find();\n        if (messages == null) return  res.status(404)\n       \n        return res.status(200).json({data:messages, message:\"contacts fetched!\"})\n        } catch(error){\n        return res.status(404)\n    }\n    \n}\nconst message_create = async(req, res)=>{\n    if(req.body.sender === '' || req.body.message === ''){\n        return res.status(403).json({message:\"sender and message are required\"})\n    }\n    else{\n        const message = new Contact({\n            sender: req.body.sender,\n            name:req.body.name,\n            message: req.body.message,\n    \n        })\n        await message.save()\n\n        return res.status(201).json({message:\"Message Sent successfully\"})\n    }\n}\n\nexport {messages_get_all, message_create}    "]}},"mtime":1650529729420},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/Contact.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Contact = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nconst contactSchema = new _mongoose.mongoose.Schema({\n  sender: {\n    type: String\n  },\n  name: {\n    type: String\n  },\n  message: {\n    type: String\n  }\n}, {\n  timestamps: true\n});\n\nconst Contact = _mongoose.mongoose.model(\"Message\", contactSchema);\n\nexports.Contact = Contact;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbnRhY3QuanMiXSwibmFtZXMiOlsiY29udGFjdFNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwic2VuZGVyIiwidHlwZSIsIlN0cmluZyIsIm5hbWUiLCJtZXNzYWdlIiwidGltZXN0YW1wcyIsIkNvbnRhY3QiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyxtQkFBU0MsTUFBYixDQUFvQjtBQUN6Q0MsRUFBQUEsTUFBTSxFQUFDO0FBQ05DLElBQUFBLElBQUksRUFBQ0M7QUFEQyxHQURrQztBQUl0Q0MsRUFBQUEsSUFBSSxFQUFDO0FBQ0RGLElBQUFBLElBQUksRUFBQ0M7QUFESixHQUppQztBQU96Q0UsRUFBQUEsT0FBTyxFQUFDO0FBQ1BILElBQUFBLElBQUksRUFBQ0M7QUFERTtBQVBpQyxDQUFwQixFQVVwQjtBQUFDRyxFQUFBQSxVQUFVLEVBQUM7QUFBWixDQVZvQixDQUF0Qjs7QUFhTyxNQUFNQyxPQUFPLEdBQUdSLG1CQUFTUyxLQUFULENBQWUsU0FBZixFQUEwQlYsYUFBMUIsQ0FBaEIiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge21vbmdvb3NlfSBmcm9tIFwibW9uZ29vc2VcIlxuXG5jb25zdCBjb250YWN0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG5cdHNlbmRlcjp7XG5cdFx0dHlwZTpTdHJpbmdcblx0fSxcbiAgICBuYW1lOntcbiAgICAgICAgdHlwZTpTdHJpbmdcbiAgICB9LFxuXHRtZXNzYWdlOntcblx0XHR0eXBlOlN0cmluZ1xuXHR9XG59LHt0aW1lc3RhbXBzOnRydWV9KVxuXG5cbmV4cG9ydCBjb25zdCBDb250YWN0ID0gbW9uZ29vc2UubW9kZWwoXCJNZXNzYWdlXCIsIGNvbnRhY3RTY2hlbWEpIl19","map":{"version":3,"sources":["Contact.js"],"names":["contactSchema","mongoose","Schema","sender","type","String","name","message","timestamps","Contact","model"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,aAAa,GAAG,IAAIC,mBAASC,MAAb,CAAoB;AACzCC,EAAAA,MAAM,EAAC;AACNC,IAAAA,IAAI,EAACC;AADC,GADkC;AAItCC,EAAAA,IAAI,EAAC;AACDF,IAAAA,IAAI,EAACC;AADJ,GAJiC;AAOzCE,EAAAA,OAAO,EAAC;AACPH,IAAAA,IAAI,EAACC;AADE;AAPiC,CAApB,EAUpB;AAACG,EAAAA,UAAU,EAAC;AAAZ,CAVoB,CAAtB;;AAaO,MAAMC,OAAO,GAAGR,mBAASS,KAAT,CAAe,SAAf,EAA0BV,aAA1B,CAAhB","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/models/","sourcesContent":["import {mongoose} from \"mongoose\"\n\nconst contactSchema = new mongoose.Schema({\n\tsender:{\n\t\ttype:String\n\t},\n    name:{\n        type:String\n    },\n\tmessage:{\n\t\ttype:String\n\t}\n},{timestamps:true})\n\n\nexport const Contact = mongoose.model(\"Message\", contactSchema)"]}},"mtime":1650457977179},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/CommentRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _AuthenticateToken = require(\"../AuthMiddleWare/AuthenticateToken\");\n\nvar _commentControllers = require(\"../controllers/commentControllers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router(); //add comment\n\n\nrouter.post(\"/posts/:id/comment\", _AuthenticateToken.authenticateToken, _commentControllers.comment_one); // get all comment of a post\n\nrouter.get(\"/posts/:id/comment\", _commentControllers.comment_get_all); // get one comment\n\nrouter.get(\"/comments/:id\", _commentControllers.comment_get_one); // delete comment \n\nrouter.delete(\"/comments/:id\", _AuthenticateToken.authenticateToken, _commentControllers.comment_delete);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbW1lbnRSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJhdXRoZW50aWNhdGVUb2tlbiIsImNvbW1lbnRfb25lIiwiZ2V0IiwiY29tbWVudF9nZXRfYWxsIiwiY29tbWVudF9nZXRfb25lIiwiZGVsZXRlIiwiY29tbWVudF9kZWxldGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZixDLENBRUE7OztBQUNBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxvQkFBWixFQUFrQ0Msb0NBQWxDLEVBQXFEQywrQkFBckQsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNNLEdBQVAsQ0FBVyxvQkFBWCxFQUFpQ0MsbUNBQWpDLEUsQ0FFQTs7QUFDQVAsTUFBTSxDQUFDTSxHQUFQLENBQVcsZUFBWCxFQUE0QkUsbUNBQTVCLEUsQ0FFQTs7QUFDQVIsTUFBTSxDQUFDUyxNQUFQLENBQWMsZUFBZCxFQUErQkwsb0NBQS9CLEVBQWtETSxrQ0FBbEQ7ZUFJZVYsTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHthdXRoZW50aWNhdGVUb2tlbn0gZnJvbSBcIi4uL0F1dGhNaWRkbGVXYXJlL0F1dGhlbnRpY2F0ZVRva2VuXCI7XG5pbXBvcnQge2NvbW1lbnRfb25lLCBjb21tZW50X2dldF9hbGwsIGNvbW1lbnRfZ2V0X29uZSxjb21tZW50X2RlbGV0ZX0gZnJvbSAnLi4vY29udHJvbGxlcnMvY29tbWVudENvbnRyb2xsZXJzJztcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTsgXG5cbi8vYWRkIGNvbW1lbnRcbnJvdXRlci5wb3N0KFwiL3Bvc3RzLzppZC9jb21tZW50XCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBjb21tZW50X29uZSlcblxuLy8gZ2V0IGFsbCBjb21tZW50IG9mIGEgcG9zdFxucm91dGVyLmdldChcIi9wb3N0cy86aWQvY29tbWVudFwiLCBjb21tZW50X2dldF9hbGwpXG5cbi8vIGdldCBvbmUgY29tbWVudFxucm91dGVyLmdldChcIi9jb21tZW50cy86aWRcIiwgY29tbWVudF9nZXRfb25lKVxuXG4vLyBkZWxldGUgY29tbWVudCBcbnJvdXRlci5kZWxldGUoXCIvY29tbWVudHMvOmlkXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBjb21tZW50X2RlbGV0ZSlcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlciJdfQ==","map":{"version":3,"sources":["CommentRoutes.js"],"names":["router","express","Router","post","authenticateToken","comment_one","get","comment_get_all","comment_get_one","delete","comment_delete"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf,C,CAEA;;;AACAF,MAAM,CAACG,IAAP,CAAY,oBAAZ,EAAkCC,oCAAlC,EAAqDC,+BAArD,E,CAEA;;AACAL,MAAM,CAACM,GAAP,CAAW,oBAAX,EAAiCC,mCAAjC,E,CAEA;;AACAP,MAAM,CAACM,GAAP,CAAW,eAAX,EAA4BE,mCAA5B,E,CAEA;;AACAR,MAAM,CAACS,MAAP,CAAc,eAAd,EAA+BL,oCAA/B,EAAkDM,kCAAlD;eAIeV,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\";\nimport {comment_one, comment_get_all, comment_get_one,comment_delete} from '../controllers/commentControllers';\n\nconst router = express.Router(); \n\n//add comment\nrouter.post(\"/posts/:id/comment\", authenticateToken, comment_one)\n\n// get all comment of a post\nrouter.get(\"/posts/:id/comment\", comment_get_all)\n\n// get one comment\nrouter.get(\"/comments/:id\", comment_get_one)\n\n// delete comment \nrouter.delete(\"/comments/:id\", authenticateToken, comment_delete)\n\n\n\nexport default router"]}},"mtime":1650457977187},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/commentControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.comment_one = exports.comment_get_one = exports.comment_get_all = exports.comment_delete = void 0;\n\nvar _Post = require(\"../models/Post\");\n\n//comment on a post\nconst comment_one = async (req, res) => {\n  const id = req.params.id;\n  const post = await _Post.Post.findById(id);\n\n  if (post !== null) {\n    //create comment\n    const newComment = await _Post.Comment.create({\n      postId: id,\n      description: req.body.comment\n    });\n    post.comments.push(newComment);\n    await post.save();\n    return res.status(201).json({\n      comment: newComment\n    });\n  } else {\n    return res.status(404).json({\n      message: \"Post not available\"\n    });\n  }\n}; // get all comments of a post\n\n\nexports.comment_one = comment_one;\n\nconst comment_get_all = async (req, res) => {\n  try {\n    const postId = req.params.id;\n    const post = await _Post.Post.findById(postId);\n    if (post == null) return res.status(404).json({\n      message: \"post not found\"\n    });\n    const comments = await _Post.Comment.find({\n      postId: postId\n    });\n\n    if (comments.length > 0) {\n      return res.status(200).json({\n        comments\n      });\n    } else {\n      return res.status(404).json({\n        comment: \"no comments related to this post\"\n      });\n    }\n  } catch (error) {\n    return res.status(404).json({\n      message: error.message\n    });\n  }\n}; // get one comment\n\n\nexports.comment_get_all = comment_get_all;\n\nconst comment_get_one = async (req, res) => {\n  try {\n    const commentId = req.params.id;\n    const comment = await _Post.Comment.findById(commentId);\n\n    if (comment != null) {\n      return res.status(200).json({\n        comment\n      });\n    }\n\n    return res.status(404).json({\n      comment: \"Comment Doesn't Exists\"\n    });\n  } catch (error) {\n    return res.status(404).json({\n      comment: \"Comment Doesn't Exists\"\n    });\n  }\n}; // delete a comment\n\n\nexports.comment_get_one = comment_get_one;\n\nconst comment_delete = async (req, res) => {\n  try {\n    const commentId = req.params.id;\n    const comment = await _Post.Comment.findById(commentId);\n\n    if (comment != null) {\n      // delete a comment\n      await _Post.Comment.deleteOne(comment);\n      return res.status(200).json({\n        message: \"Comment deleted\"\n      });\n    }\n\n    return res.status(404).json({\n      message: \"Comment doesn't exist\"\n    });\n  } catch (error) {\n    return res.status(500).json({\n      comment: \"Internal server error\"\n    });\n  }\n};\n\nexports.comment_delete = comment_delete;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJjb21tZW50X29uZSIsInJlcSIsInJlcyIsImlkIiwicGFyYW1zIiwicG9zdCIsIlBvc3QiLCJmaW5kQnlJZCIsIm5ld0NvbW1lbnQiLCJDb21tZW50IiwiY3JlYXRlIiwicG9zdElkIiwiZGVzY3JpcHRpb24iLCJib2R5IiwiY29tbWVudCIsImNvbW1lbnRzIiwicHVzaCIsInNhdmUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImNvbW1lbnRfZ2V0X2FsbCIsImZpbmQiLCJsZW5ndGgiLCJlcnJvciIsImNvbW1lbnRfZ2V0X29uZSIsImNvbW1lbnRJZCIsImNvbW1lbnRfZGVsZXRlIiwiZGVsZXRlT25lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBR0E7QUFDQSxNQUFNQSxXQUFXLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQWtCO0FBQ3JDLFFBQU1DLEVBQUUsR0FBR0YsR0FBRyxDQUFDRyxNQUFKLENBQVdELEVBQXRCO0FBQ0EsUUFBTUUsSUFBSSxHQUFHLE1BQU1DLFdBQUtDLFFBQUwsQ0FBY0osRUFBZCxDQUFuQjs7QUFFQSxNQUFJRSxJQUFJLEtBQUssSUFBYixFQUFrQjtBQUNqQjtBQUNBLFVBQU1HLFVBQVUsR0FBRyxNQUFNQyxjQUFRQyxNQUFSLENBQWU7QUFDdkNDLE1BQUFBLE1BQU0sRUFBQ1IsRUFEZ0M7QUFFdkNTLE1BQUFBLFdBQVcsRUFBRVgsR0FBRyxDQUFDWSxJQUFKLENBQVNDO0FBRmlCLEtBQWYsQ0FBekI7QUFLQVQsSUFBQUEsSUFBSSxDQUFDVSxRQUFMLENBQWNDLElBQWQsQ0FBbUJSLFVBQW5CO0FBQ0EsVUFBTUgsSUFBSSxDQUFDWSxJQUFMLEVBQU47QUFDQSxXQUFPZixHQUFHLENBQUNnQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0wsTUFBQUEsT0FBTyxFQUFDTjtBQUFULEtBQXJCLENBQVA7QUFFQSxHQVhELE1B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QUFQO0FBRUE7O0FBRUQsV0FBT2xCLEdBQUcsQ0FBQ2dCLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxPQUFPLEVBQUM7QUFBVCxLQUFyQixDQUFQO0FBR0EsR0FmRCxDQWVFLE9BQU9JLEtBQVAsRUFBYztBQUNmLFdBQU90QixHQUFHLENBQUNnQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0wsTUFBQUEsT0FBTyxFQUFDO0FBQVQsS0FBckIsQ0FBUDtBQUNBO0FBR0QsQ0F0QkQiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UG9zdCxDb21tZW50fSBmcm9tICcuLi9tb2RlbHMvUG9zdCdcblxuXG4vL2NvbW1lbnQgb24gYSBwb3N0XG5jb25zdCBjb21tZW50X29uZSA9IGFzeW5jIChyZXEsIHJlcyk9Pntcblx0Y29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xuXHRjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kQnlJZChpZCk7XG5cblx0aWYgKHBvc3QgIT09IG51bGwpe1xuXHRcdC8vY3JlYXRlIGNvbW1lbnRcblx0XHRjb25zdCBuZXdDb21tZW50ID0gYXdhaXQgQ29tbWVudC5jcmVhdGUoe1xuXHRcdFx0cG9zdElkOmlkLFxuXHRcdFx0ZGVzY3JpcHRpb246IHJlcS5ib2R5LmNvbW1lbnRcblx0XHR9KTtcblxuXHRcdHBvc3QuY29tbWVudHMucHVzaChuZXdDb21tZW50KTtcblx0XHRhd2FpdCBwb3N0LnNhdmUoKVxuXHRcdHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7Y29tbWVudDpuZXdDb21tZW50fSlcblx0XHRcblx0fWVsc2V7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOlwiUG9zdCBub3QgYXZhaWxhYmxlXCJ9KVxuXHR9XG59XG5cbi8vIGdldCBhbGwgY29tbWVudHMgb2YgYSBwb3N0XG5jb25zdCBjb21tZW50X2dldF9hbGwgPSBhc3luYyAocmVxLCByZXMpPT57XG5cdHRyeSB7XG5cdFx0Y29uc3QgcG9zdElkPSByZXEucGFyYW1zLmlkO1xuXHRcdGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRCeUlkKHBvc3RJZCk7XG5cdFx0aWYocG9zdCA9PSBudWxsKSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6XCJwb3N0IG5vdCBmb3VuZFwifSk7XG5cdFx0XG5cdFx0Y29uc3QgY29tbWVudHMgPSBhd2FpdCBDb21tZW50LmZpbmQoe3Bvc3RJZDpwb3N0SWR9KTtcblxuXHRcdGlmKGNvbW1lbnRzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe2NvbW1lbnRzfSk7XG5cdFx0fWVsc2V7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe2NvbW1lbnQ6XCJubyBjb21tZW50cyByZWxhdGVkIHRvIHRoaXMgcG9zdFwifSk7XG5cdFx0fVxuXHRcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6ZXJyb3IubWVzc2FnZX0pXG5cdH1cblx0XG59XG5cbi8vIGdldCBvbmUgY29tbWVudFxuY29uc3QgY29tbWVudF9nZXRfb25lID0gYXN5bmMgKHJlcSwgcmVzKT0+e1xuXHRcblx0dHJ5IHtcblx0XHRjb25zdCBjb21tZW50SWQgPSByZXEucGFyYW1zLmlkO1xuXHRcdGNvbnN0IGNvbW1lbnQgPSBhd2FpdCBDb21tZW50LmZpbmRCeUlkKGNvbW1lbnRJZClcblx0XHRpZihjb21tZW50ICE9IG51bGwgKXtcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7Y29tbWVudH0pXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtjb21tZW50OlwiQ29tbWVudCBEb2Vzbid0IEV4aXN0c1wifSlcblxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7Y29tbWVudDpcIkNvbW1lbnQgRG9lc24ndCBFeGlzdHNcIn0pXG5cdH1cblx0XG5cbn1cblxuLy8gZGVsZXRlIGEgY29tbWVudFxuY29uc3QgY29tbWVudF9kZWxldGUgPSBhc3luYyAocmVxLCByZXMpPT57XG5cdFxuXHR0cnkge1xuXHRcdGNvbnN0IGNvbW1lbnRJZCA9IHJlcS5wYXJhbXMuaWQ7XG5cdFx0Y29uc3QgY29tbWVudCA9IGF3YWl0IENvbW1lbnQuZmluZEJ5SWQoY29tbWVudElkKVxuXHRcdGlmKGNvbW1lbnQgIT0gbnVsbCApe1xuXG5cdFx0XHQvLyBkZWxldGUgYSBjb21tZW50XG5cdFx0XHRhd2FpdCBDb21tZW50LmRlbGV0ZU9uZShjb21tZW50KVxuXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6XCJDb21tZW50IGRlbGV0ZWRcIn0pXG5cdFx0XHRcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOlwiQ29tbWVudCBkb2Vzbid0IGV4aXN0XCJ9KVxuXHRcdFxuXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtjb21tZW50OlwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCJ9KVxuXHR9XG5cdFxuXG59XG5cbmV4cG9ydCB7Y29tbWVudF9vbmUsY29tbWVudF9nZXRfYWxsLGNvbW1lbnRfZ2V0X29uZSxjb21tZW50X2RlbGV0ZX0iXX0=","map":{"version":3,"sources":["commentControllers.js"],"names":["comment_one","req","res","id","params","post","Post","findById","newComment","Comment","create","postId","description","body","comment","comments","push","save","status","json","message","comment_get_all","find","length","error","comment_get_one","commentId","comment_delete","deleteOne"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import {Post,Comment} from '../models/Post'\n\n\n//comment on a post\nconst comment_one = async (req, res)=>{\n\tconst id = req.params.id;\n\tconst post = await Post.findById(id);\n\n\tif (post !== null){\n\t\t//create comment\n\t\tconst newComment = await Comment.create({\n\t\t\tpostId:id,\n\t\t\tdescription: req.body.comment\n\t\t});\n\n\t\tpost.comments.push(newComment);\n\t\tawait post.save()\n\t\treturn res.status(201).json({comment:newComment})\n\t\t\n\t}else{\n\t\treturn res.status(404).json({message:\"Post not available\"})\n\t}\n}\n\n// get all comments of a post\nconst comment_get_all = async (req, res)=>{\n\ttry {\n\t\tconst postId= req.params.id;\n\t\tconst post = await Post.findById(postId);\n\t\tif(post == null) return res.status(404).json({message:\"post not found\"});\n\t\t\n\t\tconst comments = await Comment.find({postId:postId});\n\n\t\tif(comments.length > 0){\n            \n\t\t\treturn res.status(200).json({comments});\n\t\t}else{\n\t\t\treturn res.status(404).json({comment:\"no comments related to this post\"});\n\t\t}\n\t\n\t} catch (error) {\n\t\treturn res.status(404).json({message:error.message})\n\t}\n\t\n}\n\n// get one comment\nconst comment_get_one = async (req, res)=>{\n\t\n\ttry {\n\t\tconst commentId = req.params.id;\n\t\tconst comment = await Comment.findById(commentId)\n\t\tif(comment != null ){\n\t\t\treturn res.status(200).json({comment})\n\t\t}\n\n\t\treturn res.status(404).json({comment:\"Comment Doesn't Exists\"})\n\n\t} catch (error) {\n\t\treturn res.status(404).json({comment:\"Comment Doesn't Exists\"})\n\t}\n\t\n\n}\n\n// delete a comment\nconst comment_delete = async (req, res)=>{\n\t\n\ttry {\n\t\tconst commentId = req.params.id;\n\t\tconst comment = await Comment.findById(commentId)\n\t\tif(comment != null ){\n\n\t\t\t// delete a comment\n\t\t\tawait Comment.deleteOne(comment)\n\n\t\t\treturn res.status(200).json({message:\"Comment deleted\"})\n\t\t\t\n\t\t}\n\t\t\n\t\treturn res.status(404).json({message:\"Comment doesn't exist\"})\n\t\t\n\n\t} catch (error) {\n\t\treturn res.status(500).json({comment:\"Internal server error\"})\n\t}\n\t\n\n}\n\nexport {comment_one,comment_get_all,comment_get_one,comment_delete}"]}},"mtime":1650457977163},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/LikeRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _likeControllers = require(\"../controllers/likeControllers\");\n\nvar _AuthenticateToken = require(\"../AuthMiddleWare/AuthenticateToken\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\n//like a post\nrouter.put(\"/posts/like\", _AuthenticateToken.authenticateToken, _likeControllers.post_like); //unlike a post\n\nrouter.put(\"/posts/:id/unlike\", _AuthenticateToken.authenticateToken, _likeControllers.post_unlike);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxpa2VSb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInB1dCIsImF1dGhlbnRpY2F0ZVRva2VuIiwicG9zdF9saWtlIiwicG9zdF91bmxpa2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFJQTs7QUFFQTs7OztBQUpBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFPQTtBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxhQUFYLEVBQTBCQyxvQ0FBMUIsRUFBNkNDLDBCQUE3QyxFLENBRUE7O0FBQ0FMLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLG1CQUFYLEVBQWdDQyxvQ0FBaEMsRUFBbURFLDRCQUFuRDtlQUdlTixNIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmltcG9ydCB7cG9zdF9saWtlLHBvc3RfdW5saWtlfSBmcm9tICcuLi9jb250cm9sbGVycy9saWtlQ29udHJvbGxlcnMnXG5cbmltcG9ydCB7YXV0aGVudGljYXRlVG9rZW59IGZyb20gXCIuLi9BdXRoTWlkZGxlV2FyZS9BdXRoZW50aWNhdGVUb2tlblwiXG5cblxuLy9saWtlIGEgcG9zdFxucm91dGVyLnB1dChcIi9wb3N0cy9saWtlXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBwb3N0X2xpa2UpXG5cbi8vdW5saWtlIGEgcG9zdFxucm91dGVyLnB1dChcIi9wb3N0cy86aWQvdW5saWtlXCIsIGF1dGhlbnRpY2F0ZVRva2VuLCBwb3N0X3VubGlrZSlcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXX0=","map":{"version":3,"sources":["LikeRoutes.js"],"names":["router","express","Router","put","authenticateToken","post_like","post_unlike"],"mappings":";;;;;;;AAAA;;AAIA;;AAEA;;;;AAJA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAOA;AACAF,MAAM,CAACG,GAAP,CAAW,aAAX,EAA0BC,oCAA1B,EAA6CC,0BAA7C,E,CAEA;;AACAL,MAAM,CAACG,GAAP,CAAW,mBAAX,EAAgCC,oCAAhC,EAAmDE,4BAAnD;eAGeN,M","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/routes/","sourcesContent":["import express from 'express';\n\nconst router = express.Router();\n\nimport {post_like,post_unlike} from '../controllers/likeControllers'\n\nimport {authenticateToken} from \"../AuthMiddleWare/AuthenticateToken\"\n\n\n//like a post\nrouter.put(\"/posts/like\", authenticateToken, post_like)\n\n//unlike a post\nrouter.put(\"/posts/:id/unlike\", authenticateToken, post_unlike)\n\n\nexport default router"]}},"mtime":1650535400315},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/likeControllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.post_unlike = exports.post_like = void 0;\n\nvar _Post = require(\"../models/Post\");\n\n// like a post\nconst post_like = async (req, res) => {\n  const id = req.body.postId;\n\n  _Post.Post.findByIdAndUpdate(id, {\n    $push: {\n      likes: {\n        postId: id,\n        user: req.user.username\n      }\n    }\n  }, {\n    new: true\n  }).exec((err, result) => {\n    if (err) {\n      return res.status(422).json({\n        err: err\n      });\n    } else {\n      return res.status(200).json({\n        message: \"post liked!\"\n      });\n    }\n  });\n}; //unlike a post\n\n\nexports.post_like = post_like;\n\nconst post_unlike = (req, res) => {\n  const id = req.params.id;\n\n  _Post.Post.findByIdAndUpdate(id, {\n    $pull: {\n      likes: {\n        postId: id,\n        userId: req.user.id\n      }\n    }\n  }, {\n    new: true\n  }).exec((err, result) => {\n    if (err) {\n      return res.status(422).json({\n        err: err\n      });\n    } else {\n      return res.status(200).json({\n        message: \"unliked post!\"\n      });\n    }\n  });\n};\n\nexports.post_unlike = post_unlike;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpa2VDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJwb3N0X2xpa2UiLCJyZXEiLCJyZXMiLCJpZCIsImJvZHkiLCJwb3N0SWQiLCJQb3N0IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCIkcHVzaCIsImxpa2VzIiwidXNlciIsInVzZXJuYW1lIiwibmV3IiwiZXhlYyIsImVyciIsInJlc3VsdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwicG9zdF91bmxpa2UiLCJwYXJhbXMiLCIkcHVsbCIsInVzZXJJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUdBO0FBQ0EsTUFBTUEsU0FBUyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFrQjtBQUNuQyxRQUFNQyxFQUFFLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSixDQUFTQyxNQUFwQjs7QUFHQUMsYUFBS0MsaUJBQUwsQ0FBdUJKLEVBQXZCLEVBQTBCO0FBQ3pCSyxJQUFBQSxLQUFLLEVBQUM7QUFBQ0MsTUFBQUEsS0FBSyxFQUFDO0FBQUNKLFFBQUFBLE1BQU0sRUFBQ0YsRUFBUjtBQUFZTyxRQUFBQSxJQUFJLEVBQUNULEdBQUcsQ0FBQ1MsSUFBSixDQUFTQztBQUExQjtBQUFQO0FBRG1CLEdBQTFCLEVBQ29EO0FBQ2xEQyxJQUFBQSxHQUFHLEVBQUM7QUFEOEMsR0FEcEQsRUFHSUMsSUFISixDQUdTLENBQUNDLEdBQUQsRUFBTUMsTUFBTixLQUFlO0FBQ3RCLFFBQUdELEdBQUgsRUFBTztBQUNOLGFBQU9aLEdBQUcsQ0FBQ2MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNILFFBQUFBLEdBQUcsRUFBQ0E7QUFBTCxPQUFyQixDQUFQO0FBQ0EsS0FGRCxNQUdJO0FBRUgsYUFBT1osR0FBRyxDQUFDYyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0MsUUFBQUEsT0FBTyxFQUFDO0FBQVQsT0FBckIsQ0FBUDtBQUNBO0FBQ0QsR0FYRjtBQVlBLENBaEJELEMsQ0FrQkE7Ozs7O0FBQ0EsTUFBTUMsV0FBVyxHQUFHLENBQUNsQixHQUFELEVBQU1DLEdBQU4sS0FBWTtBQUMvQixRQUFNQyxFQUFFLEdBQUdGLEdBQUcsQ0FBQ21CLE1BQUosQ0FBV2pCLEVBQXRCOztBQUNBRyxhQUFLQyxpQkFBTCxDQUF1QkosRUFBdkIsRUFBMEI7QUFDekJrQixJQUFBQSxLQUFLLEVBQUM7QUFBQ1osTUFBQUEsS0FBSyxFQUFDO0FBQUNKLFFBQUFBLE1BQU0sRUFBQ0YsRUFBUjtBQUFZbUIsUUFBQUEsTUFBTSxFQUFDckIsR0FBRyxDQUFDUyxJQUFKLENBQVNQO0FBQTVCO0FBQVA7QUFEbUIsR0FBMUIsRUFDZ0Q7QUFDOUNTLElBQUFBLEdBQUcsRUFBQztBQUQwQyxHQURoRCxFQUdJQyxJQUhKLENBR1MsQ0FBQ0MsR0FBRCxFQUFNQyxNQUFOLEtBQWU7QUFDdEIsUUFBR0QsR0FBSCxFQUFPO0FBQ04sYUFBT1osR0FBRyxDQUFDYyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0gsUUFBQUEsR0FBRyxFQUFDQTtBQUFMLE9BQXJCLENBQVA7QUFDQSxLQUZELE1BR0k7QUFDSCxhQUFPWixHQUFHLENBQUNjLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxRQUFBQSxPQUFPLEVBQUM7QUFBVCxPQUFyQixDQUFQO0FBQ0E7QUFDRCxHQVZGO0FBV0EsQ0FiRCIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUG9zdCB9IGZyb20gXCIuLi9tb2RlbHMvUG9zdFwiXG5cblxuLy8gbGlrZSBhIHBvc3RcbmNvbnN0IHBvc3RfbGlrZSA9IGFzeW5jIChyZXEsIHJlcyk9Pntcblx0Y29uc3QgaWQgPSByZXEuYm9keS5wb3N0SWRcblx0XG5cblx0UG9zdC5maW5kQnlJZEFuZFVwZGF0ZShpZCx7XG5cdFx0JHB1c2g6e2xpa2VzOntwb3N0SWQ6aWQsIHVzZXI6cmVxLnVzZXIudXNlcm5hbWV9fX0se1xuXHRcdFx0bmV3OnRydWVcblx0XHR9KS5leGVjKChlcnIsIHJlc3VsdCk9Pntcblx0XHRcdGlmKGVycil7XG5cdFx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQyMikuanNvbih7ZXJyOmVycn0pXG5cdFx0XHR9XG5cdFx0XHRlbHNle1xuXHRcdFx0XHRcblx0XHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOlwicG9zdCBsaWtlZCFcIn0pXG5cdFx0XHR9XG5cdFx0fSlcbn1cblxuLy91bmxpa2UgYSBwb3N0XG5jb25zdCBwb3N0X3VubGlrZSA9IChyZXEsIHJlcyk9Pntcblx0Y29uc3QgaWQgPSByZXEucGFyYW1zLmlkXG5cdFBvc3QuZmluZEJ5SWRBbmRVcGRhdGUoaWQse1xuXHRcdCRwdWxsOntsaWtlczp7cG9zdElkOmlkLCB1c2VySWQ6cmVxLnVzZXIuaWR9fX0se1xuXHRcdFx0bmV3OnRydWVcblx0XHR9KS5leGVjKChlcnIsIHJlc3VsdCk9Pntcblx0XHRcdGlmKGVycil7XG5cdFx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQyMikuanNvbih7ZXJyOmVycn0pXG5cdFx0XHR9XG5cdFx0XHRlbHNle1xuXHRcdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6XCJ1bmxpa2VkIHBvc3QhXCJ9KVxuXHRcdFx0fVxuXHRcdH0pXG59XG5cblxuZXhwb3J0IHtwb3N0X2xpa2UsIHBvc3RfdW5saWtlLH1cbiJdfQ==","map":{"version":3,"sources":["likeControllers.js"],"names":["post_like","req","res","id","body","postId","Post","findByIdAndUpdate","$push","likes","user","username","new","exec","err","result","status","json","message","post_unlike","params","$pull","userId"],"mappings":";;;;;;;AAAA;;AAGA;AACA,MAAMA,SAAS,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAkB;AACnC,QAAMC,EAAE,GAAGF,GAAG,CAACG,IAAJ,CAASC,MAApB;;AAGAC,aAAKC,iBAAL,CAAuBJ,EAAvB,EAA0B;AACzBK,IAAAA,KAAK,EAAC;AAACC,MAAAA,KAAK,EAAC;AAACJ,QAAAA,MAAM,EAACF,EAAR;AAAYO,QAAAA,IAAI,EAACT,GAAG,CAACS,IAAJ,CAASC;AAA1B;AAAP;AADmB,GAA1B,EACoD;AAClDC,IAAAA,GAAG,EAAC;AAD8C,GADpD,EAGIC,IAHJ,CAGS,CAACC,GAAD,EAAMC,MAAN,KAAe;AACtB,QAAGD,GAAH,EAAO;AACN,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACH,QAAAA,GAAG,EAACA;AAAL,OAArB,CAAP;AACA,KAFD,MAGI;AAEH,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AACA;AACD,GAXF;AAYA,CAhBD,C,CAkBA;;;;;AACA,MAAMC,WAAW,GAAG,CAAClB,GAAD,EAAMC,GAAN,KAAY;AAC/B,QAAMC,EAAE,GAAGF,GAAG,CAACmB,MAAJ,CAAWjB,EAAtB;;AACAG,aAAKC,iBAAL,CAAuBJ,EAAvB,EAA0B;AACzBkB,IAAAA,KAAK,EAAC;AAACZ,MAAAA,KAAK,EAAC;AAACJ,QAAAA,MAAM,EAACF,EAAR;AAAYmB,QAAAA,MAAM,EAACrB,GAAG,CAACS,IAAJ,CAASP;AAA5B;AAAP;AADmB,GAA1B,EACgD;AAC9CS,IAAAA,GAAG,EAAC;AAD0C,GADhD,EAGIC,IAHJ,CAGS,CAACC,GAAD,EAAMC,MAAN,KAAe;AACtB,QAAGD,GAAH,EAAO;AACN,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACH,QAAAA,GAAG,EAACA;AAAL,OAArB,CAAP;AACA,KAFD,MAGI;AACH,aAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AACA;AACD,GAVF;AAWA,CAbD","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/controllers/","sourcesContent":["import { Post } from \"../models/Post\"\n\n\n// like a post\nconst post_like = async (req, res)=>{\n\tconst id = req.body.postId\n\t\n\n\tPost.findByIdAndUpdate(id,{\n\t\t$push:{likes:{postId:id, user:req.user.username}}},{\n\t\t\tnew:true\n\t\t}).exec((err, result)=>{\n\t\t\tif(err){\n\t\t\t\treturn res.status(422).json({err:err})\n\t\t\t}\n\t\t\telse{\n\t\t\t\t\n\t\t\t\treturn res.status(200).json({message:\"post liked!\"})\n\t\t\t}\n\t\t})\n}\n\n//unlike a post\nconst post_unlike = (req, res)=>{\n\tconst id = req.params.id\n\tPost.findByIdAndUpdate(id,{\n\t\t$pull:{likes:{postId:id, userId:req.user.id}}},{\n\t\t\tnew:true\n\t\t}).exec((err, result)=>{\n\t\t\tif(err){\n\t\t\t\treturn res.status(422).json({err:err})\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn res.status(200).json({message:\"unliked post!\"})\n\t\t\t}\n\t\t})\n}\n\n\nexport {post_like, post_unlike,}\n"]}},"mtime":1650540764304},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/like_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for Like Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n  * POST Contact route\n  */\n\n  describe('PUT /api/posts/like', () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection('users');\n    });\n    it('creates new user ', done => {\n      const newUser = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(newUser).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user created!\");\n        done();\n      });\n    }); // login\n\n    const logInUser = {\n      username: 'menase',\n      password: 'password test'\n    };\n    it('login a user', done => {\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        autToken = response.body.Token;\n        done();\n      });\n    });\n    it('likes a post', done => {\n      const id = \"626120b1017d6bf2b6d1ec19\";\n\n      _chai.default.request(_index.default).put(\"/api/posts/like\").send({\n        postId: id\n      }).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.property('message').eql(\"Message Sent successfully\");\n        done();\n      });\n    });\n  });\n  /**\n   * GET Contact route\n   */\n  //  describe('GET /api/messages', ()=>{\n  //     after(()=>{\n  //         mongoose.connection.dropCollection('messages')\n  //     })\n  //     it('get all messages', (done)=>{\n  //         chai.request(server)\n  //         .get(\"/api/messages\")\n  //         .end((err, response)=>{\n  //             response.should.have.status(200);\n  //             response.body.should.property('message').eql(\"contacts fetched!\")\n  //         done();\n  //         })\n  //     })\n  //     // it('don\\'t return any message', (done)=>{\n  //     //     chai.request(server)\n  //     //     .get(\"/api/message\")\n  //     //     .end((err, response)=>{\n  //     //         response.should.have.status(404);\n  //     //     done();\n  //     //     })\n  //     // })\n  // })\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpa2VfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiY2hhaSIsInNob3VsZCIsInVzZSIsImNoYWlIdHRwIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJkb25lIiwiZGJVUkkiLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUiIsIkRCX1BBU1NXT1JEIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsInJlc3BvbnNldWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJjb25uZWN0aW9uIiwiZHJvcENvbGxlY3Rpb24iLCJpdCIsIm5ld1VzZXIiLCJVc2VyIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicmVxdWVzdCIsInNlcnZlciIsInBvc3QiLCJzZW5kIiwiZW5kIiwiZXJyIiwicmVzcG9uc2UiLCJoYXZlIiwic3RhdHVzIiwiYm9keSIsImJlIiwiYSIsInByb3BlcnR5IiwiZXFsIiwibG9nSW5Vc2VyIiwiVG9rZW4iLCJpZCIsInB1dCIsInBvc3RJZCIsInNldCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFLQTs7OztBQUpBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQixHLENBR0E7OztBQUdBLElBQUlDLElBQUosRUFBVUMsUUFBVixDLENBRUE7O0FBQ0FDLGNBQUtDLE1BQUw7O0FBRUFELGNBQUtFLEdBQUwsQ0FBU0MsaUJBQVQ7O0FBR0FDLFFBQVEsQ0FBQyx5QkFBRCxFQUE0QixNQUFJO0FBQ3BDQyxFQUFBQSxNQUFNLENBQUMsVUFBU0MsSUFBVCxFQUFlO0FBQ2xCO0FBQ0osVUFBTUMsS0FBSyxHQUFHLGlCQUFnQkMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLE9BQVEsSUFBR0YsT0FBTyxDQUFDQyxHQUFSLENBQVlFLFdBQVksZ0ZBQTdFOztB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LElBRkQsQ0FFTTtBQUFDZSxRQUFBQSxNQUFNLEVBQUNGO0FBQVIsT0FGTixFQUdDRyxHQUhELENBR0ssZUFITCxFQUdzQixZQUFZbEQsUUFIbEMsRUFJQ21DLEdBSkQsQ0FJSyxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBaUI7QUFDbEJBLFFBQUFBLFFBQVEsQ0FBQ25DLE1BQVQsQ0FBZ0JvQyxJQUFoQixDQUFxQkMsTUFBckIsQ0FBNEIsR0FBNUI7QUFDQUYsUUFBQUEsUUFBUSxDQUFDRyxJQUFULENBQWN0QyxNQUFkLENBQXFCeUMsUUFBckIsQ0FBOEIsU0FBOUIsRUFBeUNDLEdBQXpDLENBQTZDLDJCQUE3QztBQUNKckMsUUFBQUEsSUFBSTtBQUNILE9BUkQ7QUFTSCxLQVhDLENBQUY7QUFhSCxHQTlETyxDQUFSO0FBZ0VBO0FBQ0o7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0MsQ0FwSE8sQ0FBUiIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvdGVzdC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGNoYWkgZnJvbSAnY2hhaSc7XG5pbXBvcnQgc2VydmVyIGZyb20gXCIuLi9pbmRleFwiO1xuaW1wb3J0IGNoYWlIdHRwIGZyb20gXCJjaGFpLWh0dHBcIjtcbmltcG9ydCB7UG9zdH0gZnJvbSBcIi4uL21vZGVscy9Qb3N0XCI7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5cbi8vdG8gbW9jayBhIGZ1bmN0aW9uIGR1cmluZyB0ZXN0aW5nXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vbW9kZWxzL1VzZXInO1xuXG5sZXQgdXNlciwgYXV0VG9rZW47XG5cbi8vYXNzZXJ0aW9uIHN0eWxlXG5jaGFpLnNob3VsZCgpO1xuXG5jaGFpLnVzZShjaGFpSHR0cCkgIFxuICAgIFxuICAgIFxuZGVzY3JpYmUoJ1Rlc3QgZm9yIExpa2UgRW5kcG9pbnRzJywgKCk9PntcbiAgICBiZWZvcmUoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAvLyBDb25uZWN0IHRvIE1vbmdvREIgZGF0YWJhc2VcbiAgICBjb25zdCBkYlVSSSA9YG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSfToke3Byb2Nlc3MuZW52LkRCX1BBU1NXT1JEfUBub2RlLWFwcGxpY2F0aW9ucy5mZTRhdS5tb25nb2RiLm5ldC9ub2RlLXR1dG9yaWFsP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWBcbiAgICBtb25nb29zZS5jb25uZWN0KGRiVVJJLHt1c2VOZXdVcmxQYXJzZXI6dHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OnRydWV9KS50aGVuKChyZXNwb25zZXVsdCk9PntcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RiIENvbm5lY3RlZCEnKVxuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgIH0pXG5cblxuICAgIH0pOyAgICAgXG5cblxuICAgIFxuXG4gICAgLyoqXG4gICAgKiBQT1NUIENvbnRhY3Qgcm91dGVcbiAgICAqL1xuXG4gICAgZGVzY3JpYmUoJ1BVVCAvYXBpL3Bvc3RzL2xpa2UnLCAoKT0+e1xuICAgICAgICBiZWZvcmUoKCk9PntcbiAgICAgICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ3VzZXJzJylcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnY3JlYXRlcyBuZXcgdXNlciAnLCAoZG9uZSk9PntcblxuICAgICAgICAgICAgY29uc3QgbmV3VXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTpcIm1lbmFzZVwiLFxuICAgICAgICAgICAgICAgIGVtYWlsOlwibWVuYXNlQG1haWwuY29tXCIsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6XCJwYXNzd29yZCB0ZXN0XCJcbiAgICAgICAgICAgXG4gICAgICAgICAgICB9KVxuICAgIFxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KFwiL2FwaS91c2Vyc1wiKVxuICAgICAgICAgICAgLnNlbmQobmV3VXNlcilcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInVzZXIgY3JlYXRlZCFcIik7XG4gICAgICAgICAgICBkb25lKCk7ICAgXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIGxvZ2luXG4gICAgICAgIGNvbnN0IGxvZ0luVXNlciA9IHtcbiAgICAgICAgICAgIHVzZXJuYW1lOidtZW5hc2UnLFxuICAgICAgICAgICAgcGFzc3dvcmQ6J3Bhc3N3b3JkIHRlc3QnXG4gICAgICAgIH1cblxuICAgICAgICBpdCgnbG9naW4gYSB1c2VyJywgKGRvbmUpPT57XG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnMvbG9naW4nKVxuICAgICAgICAgICAgLnNlbmQoe3VzZXJuYW1lOmxvZ0luVXNlci51c2VybmFtZSwgcGFzc3dvcmQ6bG9nSW5Vc2VyLnBhc3N3b3JkfSlcbiAgICAgICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyLCByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiBkb25lKGVycik7XG5cbiAgICAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgICAgICBhdXRUb2tlbiA9IHJlc3BvbnNlLmJvZHkuVG9rZW5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KVxuXG5cblxuICAgICAgICBpdCgnbGlrZXMgYSBwb3N0JywgKGRvbmUpPT57XG4gICAgICAgICAgICBjb25zdCBpZCA9IFwiNjI2MTIwYjEwMTdkNmJmMmI2ZDFlYzE5XCJcbiAgICAgICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgICAgICAucHV0KFwiL2FwaS9wb3N0cy9saWtlXCIpXG4gICAgICAgICAgICAuc2VuZCh7cG9zdElkOmlkfSlcbiAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbiApXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiTWVzc2FnZSBTZW50IHN1Y2Nlc3NmdWxseVwiKVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgIH0pXG4gICBcbiAgICAvKipcbiAgICAgKiBHRVQgQ29udGFjdCByb3V0ZVxuICAgICAqL1xuXG4vLyAgZGVzY3JpYmUoJ0dFVCAvYXBpL21lc3NhZ2VzJywgKCk9Pntcbi8vICAgICBhZnRlcigoKT0+e1xuLy8gICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCdtZXNzYWdlcycpXG4vLyAgICAgfSlcbi8vICAgICBpdCgnZ2V0IGFsbCBtZXNzYWdlcycsIChkb25lKT0+e1xuLy8gICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuLy8gICAgICAgICAuZ2V0KFwiL2FwaS9tZXNzYWdlc1wiKVxuLy8gICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuLy8gICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICBcbi8vICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiY29udGFjdHMgZmV0Y2hlZCFcIilcbi8vICAgICAgICAgZG9uZSgpO1xuLy8gICAgICAgICB9KVxuLy8gICAgIH0pXG5cbi8vICAgICAvLyBpdCgnZG9uXFwndCByZXR1cm4gYW55IG1lc3NhZ2UnLCAoZG9uZSk9Pntcbi8vICAgICAvLyAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbi8vICAgICAvLyAgICAgLmdldChcIi9hcGkvbWVzc2FnZVwiKVxuLy8gICAgIC8vICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuLy8gICAgIC8vICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwNCk7XG4vLyAgICAgLy8gICAgIGRvbmUoKTtcbi8vICAgICAvLyAgICAgfSlcbi8vICAgICAvLyB9KVxuLy8gfSlcbn0pIl19","map":{"version":3,"sources":["like_test.js"],"names":["require","config","user","autToken","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","logInUser","Token","id","put","postId","set"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport { User } from '../models/User';\n\nlet user, autToken;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Like Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });     \n\n\n    \n\n    /**\n    * POST Contact route\n    */\n\n    describe('PUT /api/posts/like', ()=>{\n        before(()=>{\n            mongoose.connection.dropCollection('users')\n        })\n\n        it('creates new user ', (done)=>{\n\n            const newUser = new User({\n                username:\"menase\",\n                email:\"menase@mail.com\",\n                password:\"password test\"\n           \n            })\n    \n            chai.request(server)\n            .post(\"/api/users\")\n            .send(newUser)\n            .end((err, response)=>{\n                response.should.have.status(201);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"user created!\");\n            done();   \n            })\n        })\n\n        // login\n        const logInUser = {\n            username:'menase',\n            password:'password test'\n        }\n\n        it('login a user', (done)=>{\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(200);\n                response.body.should.be.a('object');\n                autToken = response.body.Token\n                \n                done();\n            });\n\n        })\n\n\n\n        it('likes a post', (done)=>{\n            const id = \"626120b1017d6bf2b6d1ec19\"\n            chai.request(server)\n            .put(\"/api/posts/like\")\n            .send({postId:id})\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(201);\n                response.body.should.property('message').eql(\"Message Sent successfully\")\n            done();\n            })\n        })\n\n    })\n   \n    /**\n     * GET Contact route\n     */\n\n//  describe('GET /api/messages', ()=>{\n//     after(()=>{\n//         mongoose.connection.dropCollection('messages')\n//     })\n//     it('get all messages', (done)=>{\n//         chai.request(server)\n//         .get(\"/api/messages\")\n//         .end((err, response)=>{\n//             response.should.have.status(200);\n            \n//             response.body.should.property('message').eql(\"contacts fetched!\")\n//         done();\n//         })\n//     })\n\n//     // it('don\\'t return any message', (done)=>{\n//     //     chai.request(server)\n//     //     .get(\"/api/message\")\n//     //     .end((err, response)=>{\n//     //         response.should.have.status(404);\n//     //     done();\n//     //     })\n//     // })\n// })\n})"]}},"mtime":1650542226300},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/like_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for Message Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n  * POST Contact route\n  */\n\n  describe('PUT /api/posts/like', () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection('users');\n    });\n    it('creates new user ', done => {\n      const newUser = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(newUser).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user created!\");\n        done();\n      });\n    }); // login\n\n    const logInUser = {\n      username: 'menase',\n      password: 'password test'\n    };\n    it('login a user', done => {\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        autToken = response.body.Token;\n        done();\n      });\n    });\n    it('likes a post', done => {\n      const id = req.params.id;\n\n      _chai.default.request(_index.default).put(\"/api/posts/like\").send({\n        postId: id,\n        user: logInUser.username\n      }).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.property('message').eql(\"Message Sent successfully\");\n        done();\n      });\n    });\n  });\n  /**\n   * GET Contact route\n   */\n  //  describe('GET /api/messages', ()=>{\n  //     after(()=>{\n  //         mongoose.connection.dropCollection('messages')\n  //     })\n  //     it('get all messages', (done)=>{\n  //         chai.request(server)\n  //         .get(\"/api/messages\")\n  //         .end((err, response)=>{\n  //             response.should.have.status(200);\n  //             response.body.should.property('message').eql(\"contacts fetched!\")\n  //         done();\n  //         })\n  //     })\n  //     // it('don\\'t return any message', (done)=>{\n  //     //     chai.request(server)\n  //     //     .get(\"/api/message\")\n  //     //     .end((err, response)=>{\n  //     //         response.should.have.status(404);\n  //     //     done();\n  //     //     })\n  //     // })\n  // })\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpa2VfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiY2hhaSIsInNob3VsZCIsInVzZSIsImNoYWlIdHRwIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJkb25lIiwiZGJVUkkiLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUiIsIkRCX1BBU1NXT1JEIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsInJlc3BvbnNldWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJjb25uZWN0aW9uIiwiZHJvcENvbGxlY3Rpb24iLCJpdCIsIm5ld1VzZXIiLCJVc2VyIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicmVxdWVzdCIsInNlcnZlciIsInBvc3QiLCJzZW5kIiwiZW5kIiwiZXJyIiwicmVzcG9uc2UiLCJoYXZlIiwic3RhdHVzIiwiYm9keSIsImJlIiwiYSIsInByb3BlcnR5IiwiZXFsIiwibG9nSW5Vc2VyIiwiVG9rZW4iLCJpZCIsInJlcSIsInBhcmFtcyIsInB1dCIsInBvc3RJZCIsInNldCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFLQTs7OztBQUpBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQixHLENBR0E7OztBQUdBLElBQUlDLElBQUosRUFBVUMsUUFBVixDLENBRUE7O0FBQ0FDLGNBQUtDLE1BQUw7O0FBRUFELGNBQUtFLEdBQUwsQ0FBU0MsaUJBQVQ7O0FBR0FDLFFBQVEsQ0FBQyw0QkFBRCxFQUErQixNQUFJO0FBQ3ZDQyxFQUFBQSxNQUFNLENBQUMsVUFBU0MsSUFBVCxFQUFlO0FBQ2xCO0FBQ0osVUFBTUMsS0FBSyxHQUFHLGlCQUFnQkMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLE9BQVEsSUFBR0YsT0FBTyxDQUFDQyxHQUFSLENBQVlF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QUFhQyxjQUFiLEVBQ0NrQixHQURELENBQ0ssaUJBREwsRUFFQ2hCLElBRkQsQ0FFTTtBQUFDaUIsUUFBQUEsTUFBTSxFQUFDSixFQUFSO0FBQVloRCxRQUFBQSxJQUFJLEVBQUM4QyxTQUFTLENBQUNqQjtBQUEzQixPQUZOLEVBR0N3QixHQUhELENBR0ssZUFITCxFQUdzQixZQUFZcEQsUUFIbEMsRUFJQ21DLEdBSkQsQ0FJSyxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBaUI7QUFDbEJBLFFBQUFBLFFBQVEsQ0FBQ25DLE1BQVQsQ0FBZ0JvQyxJQUFoQixDQUFxQkMsTUFBckIsQ0FBNEIsR0FBNUI7QUFDQUYsUUFBQUEsUUFBUSxDQUFDRyxJQUFULENBQWN0QyxNQUFkLENBQXFCeUMsUUFBckIsQ0FBOEIsU0FBOUIsRUFBeUNDLEdBQXpDLENBQTZDLDJCQUE3QztBQUNKckMsUUFBQUEsSUFBSTtBQUNILE9BUkQ7QUFTSCxLQVhDLENBQUY7QUFhSCxHQTlETyxDQUFSO0FBZ0VBO0FBQ0o7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0MsQ0FwSE8sQ0FBUiIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvdGVzdC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGNoYWkgZnJvbSAnY2hhaSc7XG5pbXBvcnQgc2VydmVyIGZyb20gXCIuLi9pbmRleFwiO1xuaW1wb3J0IGNoYWlIdHRwIGZyb20gXCJjaGFpLWh0dHBcIjtcbmltcG9ydCB7UG9zdH0gZnJvbSBcIi4uL21vZGVscy9Qb3N0XCI7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5cbi8vdG8gbW9jayBhIGZ1bmN0aW9uIGR1cmluZyB0ZXN0aW5nXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vbW9kZWxzL1VzZXInO1xuXG5sZXQgdXNlciwgYXV0VG9rZW47XG5cbi8vYXNzZXJ0aW9uIHN0eWxlXG5jaGFpLnNob3VsZCgpO1xuXG5jaGFpLnVzZShjaGFpSHR0cCkgIFxuICAgIFxuICAgIFxuZGVzY3JpYmUoJ1Rlc3QgZm9yIE1lc3NhZ2UgRW5kcG9pbnRzJywgKCk9PntcbiAgICBiZWZvcmUoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAvLyBDb25uZWN0IHRvIE1vbmdvREIgZGF0YWJhc2VcbiAgICBjb25zdCBkYlVSSSA9YG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSfToke3Byb2Nlc3MuZW52LkRCX1BBU1NXT1JEfUBub2RlLWFwcGxpY2F0aW9ucy5mZTRhdS5tb25nb2RiLm5ldC9ub2RlLXR1dG9yaWFsP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWBcbiAgICBtb25nb29zZS5jb25uZWN0KGRiVVJJLHt1c2VOZXdVcmxQYXJzZXI6dHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OnRydWV9KS50aGVuKChyZXNwb25zZXVsdCk9PntcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RiIENvbm5lY3RlZCEnKVxuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgIH0pXG5cblxuICAgIH0pOyAgICAgXG5cblxuICAgIFxuXG4gICAgLyoqXG4gICAgKiBQT1NUIENvbnRhY3Qgcm91dGVcbiAgICAqL1xuXG4gICAgZGVzY3JpYmUoJ1BVVCAvYXBpL3Bvc3RzL2xpa2UnLCAoKT0+e1xuICAgICAgICBiZWZvcmUoKCk9PntcbiAgICAgICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ3VzZXJzJylcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnY3JlYXRlcyBuZXcgdXNlciAnLCAoZG9uZSk9PntcblxuICAgICAgICAgICAgY29uc3QgbmV3VXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTpcIm1lbmFzZVwiLFxuICAgICAgICAgICAgICAgIGVtYWlsOlwibWVuYXNlQG1haWwuY29tXCIsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6XCJwYXNzd29yZCB0ZXN0XCJcbiAgICAgICAgICAgXG4gICAgICAgICAgICB9KVxuICAgIFxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KFwiL2FwaS91c2Vyc1wiKVxuICAgICAgICAgICAgLnNlbmQobmV3VXNlcilcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInVzZXIgY3JlYXRlZCFcIik7XG4gICAgICAgICAgICBkb25lKCk7ICAgXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgICAgICAvLyBsb2dpblxuICAgICAgICBjb25zdCBsb2dJblVzZXIgPSB7XG4gICAgICAgICAgICB1c2VybmFtZTonbWVuYXNlJyxcbiAgICAgICAgICAgIHBhc3N3b3JkOidwYXNzd29yZCB0ZXN0J1xuICAgICAgICB9XG5cbiAgICAgICAgaXQoJ2xvZ2luIGEgdXNlcicsIChkb25lKT0+e1xuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KCcvYXBpL3VzZXJzL2xvZ2luJylcbiAgICAgICAgICAgIC5zZW5kKHt1c2VybmFtZTpsb2dJblVzZXIudXNlcm5hbWUsIHBhc3N3b3JkOmxvZ0luVXNlci5wYXNzd29yZH0pXG4gICAgICAgICAgICAuZW5kKGZ1bmN0aW9uKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuXG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgYXV0VG9rZW4gPSByZXNwb25zZS5ib2R5LlRva2VuXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSlcblxuXG5cbiAgICAgICAgaXQoJ2xpa2VzIGEgcG9zdCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnB1dChcIi9hcGkvcG9zdHMvbGlrZVwiKVxuICAgICAgICAgICAgLnNlbmQoe3Bvc3RJZDppZCwgdXNlcjpsb2dJblVzZXIudXNlcm5hbWV9KVxuICAgICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuIClcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJNZXNzYWdlIFNlbnQgc3VjY2Vzc2Z1bGx5XCIpXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgfSlcbiAgIFxuICAgIC8qKlxuICAgICAqIEdFVCBDb250YWN0IHJvdXRlXG4gICAgICovXG5cbi8vICBkZXNjcmliZSgnR0VUIC9hcGkvbWVzc2FnZXMnLCAoKT0+e1xuLy8gICAgIGFmdGVyKCgpPT57XG4vLyAgICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ21lc3NhZ2VzJylcbi8vICAgICB9KVxuLy8gICAgIGl0KCdnZXQgYWxsIG1lc3NhZ2VzJywgKGRvbmUpPT57XG4vLyAgICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4vLyAgICAgICAgIC5nZXQoXCIvYXBpL21lc3NhZ2VzXCIpXG4vLyAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4vLyAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICAgIFxuLy8gICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJjb250YWN0cyBmZXRjaGVkIVwiKVxuLy8gICAgICAgICBkb25lKCk7XG4vLyAgICAgICAgIH0pXG4vLyAgICAgfSlcblxuLy8gICAgIC8vIGl0KCdkb25cXCd0IHJldHVybiBhbnkgbWVzc2FnZScsIChkb25lKT0+e1xuLy8gICAgIC8vICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuLy8gICAgIC8vICAgICAuZ2V0KFwiL2FwaS9tZXNzYWdlXCIpXG4vLyAgICAgLy8gICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4vLyAgICAgLy8gICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDA0KTtcbi8vICAgICAvLyAgICAgZG9uZSgpO1xuLy8gICAgIC8vICAgICB9KVxuLy8gICAgIC8vIH0pXG4vLyB9KVxufSkiXX0=","map":{"version":3,"sources":["like_test.js"],"names":["require","config","user","autToken","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","logInUser","Token","id","req","params","put","postId","set"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport { User } from '../models/User';\n\nlet user, autToken;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Message Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });     \n\n\n    \n\n    /**\n    * POST Contact route\n    */\n\n    describe('PUT /api/posts/like', ()=>{\n        before(()=>{\n            mongoose.connection.dropCollection('users')\n        })\n\n        it('creates new user ', (done)=>{\n\n            const newUser = new User({\n                username:\"menase\",\n                email:\"menase@mail.com\",\n                password:\"password test\"\n           \n            })\n    \n            chai.request(server)\n            .post(\"/api/users\")\n            .send(newUser)\n            .end((err, response)=>{\n                response.should.have.status(201);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"user created!\");\n            done();   \n            })\n        })\n\n            // login\n        const logInUser = {\n            username:'menase',\n            password:'password test'\n        }\n\n        it('login a user', (done)=>{\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(200);\n                response.body.should.be.a('object');\n                autToken = response.body.Token\n                \n                done();\n            });\n\n        })\n\n\n\n        it('likes a post', (done)=>{\n            const id = req.params.id\n            chai.request(server)\n            .put(\"/api/posts/like\")\n            .send({postId:id, user:logInUser.username})\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(201);\n                response.body.should.property('message').eql(\"Message Sent successfully\")\n            done();\n            })\n        })\n\n    })\n   \n    /**\n     * GET Contact route\n     */\n\n//  describe('GET /api/messages', ()=>{\n//     after(()=>{\n//         mongoose.connection.dropCollection('messages')\n//     })\n//     it('get all messages', (done)=>{\n//         chai.request(server)\n//         .get(\"/api/messages\")\n//         .end((err, response)=>{\n//             response.should.have.status(200);\n            \n//             response.body.should.property('message').eql(\"contacts fetched!\")\n//         done();\n//         })\n//     })\n\n//     // it('don\\'t return any message', (done)=>{\n//     //     chai.request(server)\n//     //     .get(\"/api/message\")\n//     //     .end((err, response)=>{\n//     //         response.should.have.status(404);\n//     //     done();\n//     //     })\n//     // })\n// })\n})"]}},"mtime":1650541892226},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/comment_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _sinon = _interopRequireDefault(require(\"sinon\"));\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for Post Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n     * GET comment route\n    */\n\n  describe('GET /api/posts/:id/comment', () => {\n    it('shows all comments related to specific post', done => {\n      const postId = \"625943e64e9dd47477f9be96\";\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}/comment`).send({\n        postId\n      }).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.have.a('object');\n        done();\n      });\n    });\n    it('show error when that post in not in DB', done => {\n      const postId = \"625b07c93cc2f2b0163f1a75\";\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}/comment`).send({\n        postId\n      }).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.have.property('message').eql(\"post not found\");\n        done();\n      });\n    });\n    it('when post have no comment', done => {\n      const postId = \"62597f9e70efe2a55030c5ab\";\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}/comment`).send({\n        postId\n      }).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.have.property('comment').eql(\"no comments related to this post\");\n        done();\n      });\n    });\n    it('shows individual comment', done => {\n      const commentId = \"6257f76d68ee5f8c8f964d0b\";\n\n      _chai.default.request(_index.default).get(`/api/comments/${commentId}`).send({\n        commentId\n      }).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        response.body.should.have.property('comment');\n        done();\n      });\n    });\n    it('shows error for non existing comment', done => {\n      const commentId = \"625943e64e9dd47477f9be96\";\n\n      _chai.default.request(_index.default).get(`/api/comments/${commentId}`).send({\n        commentId\n      }).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.be.a('object');\n        response.body.should.have.property('comment').eql(\"Comment Doesn't Exists\");\n        done();\n      });\n    });\n  });\n  /**\n  * POST comment route\n  */\n\n  describe('POST /api/posts/:id/comment', () => {\n    it('comment on a post', done => {\n      const postId = \"625943e64e9dd47477f9be96\";\n      const newComment = {\n        postId,\n        description: \"testing a comment\"\n      };\n\n      _chai.default.request(_index.default).post(`/api/posts/${postId}/comment`).send(newComment).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('comment');\n        done();\n      });\n    });\n    it('handles when you want to comment on non existing post', done => {\n      const postId = \"62597f8412f8da13b4e0a385\";\n      const newComment = {\n        postId,\n        description: \"testing a comment\"\n      };\n\n      _chai.default.request(_index.default).post(`/api/posts/${postId}/comment`).send(newComment).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Post not available\");\n        done();\n      });\n    });\n  });\n  /**\n   * DELETE comment route\n   */\n\n  describe('DELETE /api/comments/:id', () => {\n    it('deletes comment on a post', done => {\n      const commentId = \"6257c120c9ebb837fc381ac8\";\n\n      _chai.default.request(_index.default).delete(`/api/comments/${commentId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        done();\n      });\n    });\n    it('handles when you want to delete non existing comment', done => {\n      const commentId = \"625943e64e9dd47477f9be96\";\n\n      _chai.default.request(_index.default).delete(`/api/comments/${commentId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.have.property('message').eql(\"Comment doesn't exist\");\n        done();\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiY2hhaSIsInNob3VsZCIsInVzZSIsImNoYWlIdHRwIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJkb25lIiwiZGJVUkkiLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUiIsIkRCX1BBU1NXT1JEIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsInJlc3BvbnNldWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJpdCIsInBvc3RJZCIsInJlcXVlc3QiLCJzZXJ2ZXIiLCJnZXQiLCJzZW5kIiwiZW5kIiwiZXJyIiwicmVzcG9uc2UiLCJoYXZlIiwic3RhdHVzIiwiYm9keSIsImEiLCJwcm9wZXJ0eSIsImVxbCIsImNvbW1lbnRJZCIsImJlIiwibmV3Q29tbWVudCIsImRlc2NyaXB0aW9uIiwicG9zdCIsInNldCIsImRlbGV0ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFLQTs7QUFDQTs7OztBQUxBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQixHLENBR0E7OztBQUlBLElBQUlDLElBQUosRUFBVUMsUUFBVixDLENBRUE7O0FBQ0FDLGNBQUtDLE1BQUw7O0FBRUFELGNBQUtFLEdBQUwsQ0FBU0MsaUJBQVQ7O0FBR0FDLFFBQVEsQ0FBQyx5QkFBRCxFQUE0QixNQUFJO0FBQ3BDQyxFQUFBQSxNQUFNLENBQUMsVUFBU0MsSUFBVCxFQUFlO0FBQ2xCO0FBQ0osVUFBTUMsS0FBSyxHQUFHLGlCQUFnQkMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLE9BQVEsSUFBR0YsT0FBTyxDQUFDQyxHQUFSLENBQVlFLFdBQVksZ0ZBQTdFOztBQUNBQyxzQkFBU0MsT0FBVCxDQUFpQk4sS0FBakIsRUFBdUI7QUFBQ08sTUFB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RmxDLEVBR0M2QixHQUhELENBR0ssQ0FBQ0MsR0FBRCxFQUFNQyxRQUFOLEtBQWlCO0FBQ2xCQSxRQUFBQSxRQUFRLENBQUM3QixNQUFULENBQWdCOEIsSUFBaEIsQ0FBcUJDLE1BQXJCLENBQTRCLEdBQTVCO0FBQ0FGLFFBQUFBLFFBQVEsQ0FBQ0csSUFBVCxDQUFjaEMsTUFBZCxDQUFxQjhCLElBQXJCLENBQTBCSSxRQUExQixDQUFtQyxTQUFuQyxFQUE4Q0MsR0FBOUMsQ0FBa0QsdUJBQWxEO0FBQ0o5QixRQUFBQSxJQUFJO0FBQ0gsT0FQRDtBQVFILEtBVkMsQ0FBRjtBQVlILEdBekJPLENBQVI7QUEwQkgsQ0FyS08sQ0FBUiIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvdGVzdC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGNoYWkgZnJvbSAnY2hhaSc7XG5pbXBvcnQgc2VydmVyIGZyb20gXCIuLi9pbmRleFwiO1xuaW1wb3J0IGNoYWlIdHRwIGZyb20gXCJjaGFpLWh0dHBcIjtcbmltcG9ydCB7UG9zdH0gZnJvbSBcIi4uL21vZGVscy9Qb3N0XCI7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5cbi8vdG8gbW9jayBhIGZ1bmN0aW9uIGR1cmluZyB0ZXN0aW5nXG5pbXBvcnQgc2lub24gZnJvbSAnc2lub24nXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vbW9kZWxzL1VzZXInO1xuXG5sZXQgdXNlciwgYXV0VG9rZW47XG5cbi8vYXNzZXJ0aW9uIHN0eWxlXG5jaGFpLnNob3VsZCgpO1xuXG5jaGFpLnVzZShjaGFpSHR0cCkgIFxuICAgIFxuICAgIFxuZGVzY3JpYmUoJ1Rlc3QgZm9yIFBvc3QgRW5kcG9pbnRzJywgKCk9PntcbiAgICBiZWZvcmUoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAvLyBDb25uZWN0IHRvIE1vbmdvREIgZGF0YWJhc2VcbiAgICBjb25zdCBkYlVSSSA9YG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSfToke3Byb2Nlc3MuZW52LkRCX1BBU1NXT1JEfUBub2RlLWFwcGxpY2F0aW9ucy5mZTRhdS5tb25nb2RiLm5ldC9ub2RlLXR1dG9yaWFsP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWBcbiAgICBtb25nb29zZS5jb25uZWN0KGRiVVJJLHt1c2VOZXdVcmxQYXJzZXI6dHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OnRydWV9KS50aGVuKChyZXNwb25zZXVsdCk9PntcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RiIENvbm5lY3RlZCEnKVxuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgIH0pXG5cblxuICAgIH0pOyAgXG4gIFxuICAvKipcbiAgICAgKiBHRVQgY29tbWVudCByb3V0ZVxuICAgICovXG5cbiAgICBkZXNjcmliZSgnR0VUIC9hcGkvcG9zdHMvOmlkL2NvbW1lbnQnLCAoKT0+e1xuICAgICAgICBpdCgnc2hvd3MgYWxsIGNvbW1lbnRzIHJlbGF0ZWQgdG8gc3BlY2lmaWMgcG9zdCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgcG9zdElkID0gXCI2MjU5NDNlNjRlOWRkNDc0NzdmOWJlOTZcIlxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5nZXQoYC9hcGkvcG9zdHMvJHtwb3N0SWR9L2NvbW1lbnRgKVxuICAgICAgICAgICAgLnNlbmQoe3Bvc3RJZH0pXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUuYSgnb2JqZWN0JylcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIGl0KCdzaG93IGVycm9yIHdoZW4gdGhhdCBwb3N0IGluIG5vdCBpbiBEQicsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgcG9zdElkID0gXCI2MjViMDdjOTNjYzJmMmIwMTYzZjFhNzVcIlxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5nZXQoYC9hcGkvcG9zdHMvJHtwb3N0SWR9L2NvbW1lbnRgKVxuICAgICAgICAgICAgLnNlbmQoe3Bvc3RJZH0pXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJwb3N0IG5vdCBmb3VuZFwiKVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnd2hlbiBwb3N0IGhhdmUgbm8gY29tbWVudCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgcG9zdElkID0gXCI2MjU5N2Y5ZTcwZWZlMmE1NTAzMGM1YWJcIlxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5nZXQoYC9hcGkvcG9zdHMvJHtwb3N0SWR9L2NvbW1lbnRgKVxuICAgICAgICAgICAgLnNlbmQoe3Bvc3RJZH0pXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ2NvbW1lbnQnKS5lcWwoXCJubyBjb21tZW50cyByZWxhdGVkIHRvIHRoaXMgcG9zdFwiKVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBcbiAgICAgICAgaXQoJ3Nob3dzIGluZGl2aWR1YWwgY29tbWVudCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgY29tbWVudElkID0gXCI2MjU3Zjc2ZDY4ZWU1ZjhjOGY5NjRkMGJcIlxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5nZXQoYC9hcGkvY29tbWVudHMvJHtjb21tZW50SWR9YClcbiAgICAgICAgICAgIC5zZW5kKHtjb21tZW50SWR9KVxuICAgICAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKVxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ2NvbW1lbnQnKVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnc2hvd3MgZXJyb3IgZm9yIG5vbiBleGlzdGluZyBjb21tZW50JywgKGRvbmUpPT57XG4gICAgICAgICAgICBjb25zdCBjb21tZW50SWQgPSBcIjYyNTk0M2U2NGU5ZGQ0NzQ3N2Y5YmU5NlwiXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLmdldChgL2FwaS9jb21tZW50cy8ke2NvbW1lbnRJZH1gKVxuICAgICAgICAgICAgLnNlbmQoe2NvbW1lbnRJZH0pXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnY29tbWVudCcpLmVxbChcIkNvbW1lbnQgRG9lc24ndCBFeGlzdHNcIilcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgXG4gICAgICAgIFxuICAgIH0pXG5cblxuICAgIC8qKlxuICAgICogUE9TVCBjb21tZW50IHJvdXRlXG4gICAgKi9cblxuICAgIGRlc2NyaWJlKCdQT1NUIC9hcGkvcG9zdHMvOmlkL2NvbW1lbnQnLCAoKT0+e1xuICAgICAgICBpdCgnY29tbWVudCBvbiBhIHBvc3QnLCAoZG9uZSk9PntcbiAgICAgICAgICAgIGNvbnN0IHBvc3RJZCA9IFwiNjI1OTQzZTY0ZTlkZDQ3NDc3ZjliZTk2XCJcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbW1lbnQgPXtcbiAgICAgICAgICAgICAgICBwb3N0SWQsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246XCJ0ZXN0aW5nIGEgY29tbWVudFwiXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoYC9hcGkvcG9zdHMvJHtwb3N0SWR9L2NvbW1lbnRgKVxuICAgICAgICAgICAgLnNlbmQobmV3Q29tbWVudClcbiAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbiApXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ2NvbW1lbnQnKVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuXG4gICAgICAgIGl0KCdoYW5kbGVzIHdoZW4geW91IHdhbnQgdG8gY29tbWVudCBvbiBub24gZXhpc3RpbmcgcG9zdCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgcG9zdElkID0gXCI2MjU5N2Y4NDEyZjhkYTEzYjRlMGEzODVcIlxuICAgICAgICAgICAgY29uc3QgbmV3Q29tbWVudCA9e1xuICAgICAgICAgICAgICAgIHBvc3RJZCxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjpcInRlc3RpbmcgYSBjb21tZW50XCJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoYC9hcGkvcG9zdHMvJHtwb3N0SWR9L2NvbW1lbnRgKVxuICAgICAgICAgICAgLnNlbmQobmV3Q29tbWVudClcbiAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbiApXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJQb3N0IG5vdCBhdmFpbGFibGVcIik7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgfSlcblxuXG4gICAgLyoqXG4gICAgICogREVMRVRFIGNvbW1lbnQgcm91dGVcbiAgICAgKi9cblxuICAgIGRlc2NyaWJlKCdERUxFVEUgL2FwaS9jb21tZW50cy86aWQnLCAoKT0+e1xuICAgICAgICBpdCgnZGVsZXRlcyBjb21tZW50IG9uIGEgcG9zdCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgY29tbWVudElkID0gXCI2MjU3YzEyMGM5ZWJiODM3ZmMzODFhYzhcIlxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5kZWxldGUoYC9hcGkvY29tbWVudHMvJHtjb21tZW50SWR9YClcbiAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbiApXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnaGFuZGxlcyB3aGVuIHlvdSB3YW50IHRvIGRlbGV0ZSBub24gZXhpc3RpbmcgY29tbWVudCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgY29tbWVudElkID0gXCI2MjU5NDNlNjRlOWRkNDc0NzdmOWJlOTZcIlxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5kZWxldGUoYC9hcGkvY29tbWVudHMvJHtjb21tZW50SWR9YClcbiAgICAgICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbiApXG4gICAgICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJDb21tZW50IGRvZXNuJ3QgZXhpc3RcIilcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICB9KVxufSkgICAgIl19","map":{"version":3,"sources":["comment_test.js"],"names":["require","config","user","autToken","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","it","postId","request","server","get","send","end","err","response","have","status","body","a","property","eql","commentId","be","newComment","description","post","set","delete"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport sinon from 'sinon'\nimport { User } from '../models/User';\n\nlet user, autToken;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Post Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });  \n  \n  /**\n     * GET comment route\n    */\n\n    describe('GET /api/posts/:id/comment', ()=>{\n        it('shows all comments related to specific post', (done)=>{\n            const postId = \"625943e64e9dd47477f9be96\"\n            chai.request(server)\n            .get(`/api/posts/${postId}/comment`)\n            .send({postId})\n            .end((err, response)=>{\n                response.should.have.status(200);\n                response.body.should.have.a('object')\n            done();\n            })\n        })\n        it('show error when that post in not in DB', (done)=>{\n            const postId = \"625b07c93cc2f2b0163f1a75\"\n            chai.request(server)\n            .get(`/api/posts/${postId}/comment`)\n            .send({postId})\n            .end((err, response)=>{\n                response.should.have.status(404);\n                response.body.should.have.property('message').eql(\"post not found\")\n            done();\n            })\n        })\n\n        it('when post have no comment', (done)=>{\n            const postId = \"62597f9e70efe2a55030c5ab\"\n            chai.request(server)\n            .get(`/api/posts/${postId}/comment`)\n            .send({postId})\n            .end((err, response)=>{\n                response.should.have.status(404);\n                response.body.should.have.property('comment').eql(\"no comments related to this post\")\n            done();\n            })\n        })\n\n        \n        it('shows individual comment', (done)=>{\n            const commentId = \"6257f76d68ee5f8c8f964d0b\"\n            chai.request(server)\n            .get(`/api/comments/${commentId}`)\n            .send({commentId})\n            .end((err, response)=>{\n                response.should.have.status(200);\n                response.body.should.be.a('object')\n                response.body.should.have.property('comment')\n            done();\n            })\n        })\n\n        it('shows error for non existing comment', (done)=>{\n            const commentId = \"625943e64e9dd47477f9be96\"\n            chai.request(server)\n            .get(`/api/comments/${commentId}`)\n            .send({commentId})\n            .end((err, response)=>{\n                response.should.have.status(404);\n                response.body.should.be.a('object')\n                response.body.should.have.property('comment').eql(\"Comment Doesn't Exists\")\n            done();\n            })\n        })\n\n        \n        \n    })\n\n\n    /**\n    * POST comment route\n    */\n\n    describe('POST /api/posts/:id/comment', ()=>{\n        it('comment on a post', (done)=>{\n            const postId = \"625943e64e9dd47477f9be96\"\n            const newComment ={\n                postId,\n                description:\"testing a comment\"\n            };\n\n            chai.request(server)\n            .post(`/api/posts/${postId}/comment`)\n            .send(newComment)\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(201);\n                response.body.should.be.a('object');\n                response.body.should.have.property('comment')\n            done();\n            })\n        })\n\n\n        it('handles when you want to comment on non existing post', (done)=>{\n            const postId = \"62597f8412f8da13b4e0a385\"\n            const newComment ={\n                postId,\n                description:\"testing a comment\"\n            };\n            chai.request(server)\n            .post(`/api/posts/${postId}/comment`)\n            .send(newComment)\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(404);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"Post not available\");\n            done();\n            })\n        })\n\n    })\n\n\n    /**\n     * DELETE comment route\n     */\n\n    describe('DELETE /api/comments/:id', ()=>{\n        it('deletes comment on a post', (done)=>{\n            const commentId = \"6257c120c9ebb837fc381ac8\"\n            chai.request(server)\n            .delete(`/api/comments/${commentId}`)\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(200);\n                \n            done();\n            })\n        })\n\n        it('handles when you want to delete non existing comment', (done)=>{\n            const commentId = \"625943e64e9dd47477f9be96\"\n            chai.request(server)\n            .delete(`/api/comments/${commentId}`)\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(404);\n                response.body.should.have.property('message').eql(\"Comment doesn't exist\")\n            done();\n            })\n        })\n\n    })\n})    "]}},"mtime":1650365121953},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/contact_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for Message Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n  * POST Contact route\n  */\n\n  describe('POST /api/messages', () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection('messages');\n    });\n    it('Send messages', done => {\n      const message = {\n        sender: 'test@mail.com',\n        name: \"Eric gasana\",\n        message: \"I would like to thank you for those valuable posts\"\n      };\n\n      _chai.default.request(_index.default).post(\"/api/messages\").send(message).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.property('message').eql(\"Message Sent successfully\");\n        done();\n      });\n    });\n    it('dont send a message when sender, message content is not provided', done => {\n      const message = {\n        sender: '',\n        name: \"sawa\",\n        message: \"\"\n      };\n\n      _chai.default.request(_index.default).post(\"/api/messages\").send(message).end((err, response) => {\n        response.should.have.status(403);\n        response.body.should.property('message').eql(\"sender and message are required\");\n        done();\n      });\n    });\n  });\n  /**\n   * GET Contact route\n   */\n\n  describe('GET /api/messages', () => {\n    after(() => {\n      _mongoose.default.connection.dropCollection('messages');\n    });\n    it('get all messages', done => {\n      _chai.default.request(_index.default).get(\"/api/messages\").end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.property('message').eql(\"contacts fetched!\");\n        done();\n      });\n    }); // it('don\\'t return any message', (done)=>{\n    //     chai.request(server)\n    //     .get(\"/api/message\")\n    //     .end((err, response)=>{\n    //         response.should.have.status(404);\n    //     done();\n    //     })\n    // })\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3RfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiY2hhaSIsInNob3VsZCIsInVzZSIsImNoYWlIdHRwIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJkb25lIiwiZGJVUkkiLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUiIsIkRCX1BBU1NXT1JEIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsInJlc3BvbnNldWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJjb25uZWN0aW9uIiwiZHJvcENvbGxlY3Rpb24iLCJpdCIsIm1lc3NhZ2UiLCJzZW5kZXIiLCJuYW1lIiwicmVxdWVzdCIsInNlcnZlciIsInBvc3QiLCJzZW5kIiwiZW5kIiwiZXJyIiwicmVzcG9uc2UiLCJoYXZlIiwic3RhdHVzIiwiYm9keSIsInByb3BlcnR5IiwiZXFsIiwiYWZ0ZXIiLCJnZXQiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBS0E7Ozs7QUFKQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsRyxDQUdBOzs7QUFHQSxJQUFJQyxJQUFKLEVBQVVDLFFBQVYsQyxDQUVBOztBQUNBQyxjQUFLQyxNQUFMOztBQUVBRCxjQUFLRSxHQUFMLENBQVNDLGlCQUFUOztBQUdBQyxRQUFRLENBQUMsNEJBQUQsRUFBK0IsTUFBSTtBQUN2Q0MsRUFBQUEsTUFBTSxDQUFDLFVBQVNDLElBQVQsRUFBZTtBQUNsQjtBQUNKLFVBQU1DLEtBQUssR0FBRyxpQkFBZ0JDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxPQUFRLElBQUdGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxXQUFZLGdGQUE3RTs7QUFDQUMsc0JBQVNDLE9BQVQsQ0FBaUJOLEtBQWpCLEVBQXVCO0FBQUNPLE1BQUFBLGVBQWUsRUFBQyxJ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akMsUUFBQUEsSUFBSTtBQUNILE9BUEQ7QUFRSCxLQVRDLENBQUYsQ0FKK0IsQ0FlL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNILEdBdkJRLENBQVI7QUEwQkEsQ0E3Rk8sQ0FBUiIsInNvdXJjZVJvb3QiOiIvaG9tZS9ueWFrYW13ZS9EZXNrdG9wL215LWJyYW5kLW55YWthbXdlL3NlcnZlci9zcmMvdGVzdC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGNoYWkgZnJvbSAnY2hhaSc7XG5pbXBvcnQgc2VydmVyIGZyb20gXCIuLi9pbmRleFwiO1xuaW1wb3J0IGNoYWlIdHRwIGZyb20gXCJjaGFpLWh0dHBcIjtcbmltcG9ydCB7UG9zdH0gZnJvbSBcIi4uL21vZGVscy9Qb3N0XCI7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5cbi8vdG8gbW9jayBhIGZ1bmN0aW9uIGR1cmluZyB0ZXN0aW5nXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vbW9kZWxzL1VzZXInO1xuXG5sZXQgdXNlciwgYXV0VG9rZW47XG5cbi8vYXNzZXJ0aW9uIHN0eWxlXG5jaGFpLnNob3VsZCgpO1xuXG5jaGFpLnVzZShjaGFpSHR0cCkgIFxuICAgIFxuICAgIFxuZGVzY3JpYmUoJ1Rlc3QgZm9yIE1lc3NhZ2UgRW5kcG9pbnRzJywgKCk9PntcbiAgICBiZWZvcmUoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAvLyBDb25uZWN0IHRvIE1vbmdvREIgZGF0YWJhc2VcbiAgICBjb25zdCBkYlVSSSA9YG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSfToke3Byb2Nlc3MuZW52LkRCX1BBU1NXT1JEfUBub2RlLWFwcGxpY2F0aW9ucy5mZTRhdS5tb25nb2RiLm5ldC9ub2RlLXR1dG9yaWFsP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWBcbiAgICBtb25nb29zZS5jb25uZWN0KGRiVVJJLHt1c2VOZXdVcmxQYXJzZXI6dHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OnRydWV9KS50aGVuKChyZXNwb25zZXVsdCk9PntcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RiIENvbm5lY3RlZCEnKVxuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgIH0pXG5cblxuICAgIH0pOyAgICAgXG4gICAgXG5cbiAgICAvKipcbiAqIFBPU1QgQ29udGFjdCByb3V0ZVxuICovXG5cbmRlc2NyaWJlKCdQT1NUIC9hcGkvbWVzc2FnZXMnLCAoKT0+e1xuICAgIGJlZm9yZSgoKT0+e1xuICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCdtZXNzYWdlcycpXG4gICAgfSlcblxuICAgIGl0KCdTZW5kIG1lc3NhZ2VzJywgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBzZW5kZXI6ICd0ZXN0QG1haWwuY29tJyxcbiAgICAgICAgICAgIG5hbWU6XCJFcmljIGdhc2FuYVwiLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJJIHdvdWxkIGxpa2UgdG8gdGhhbmsgeW91IGZvciB0aG9zZSB2YWx1YWJsZSBwb3N0c1wiLFxuICAgIFxuICAgICAgICB9XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KFwiL2FwaS9tZXNzYWdlc1wiKVxuICAgICAgICAuc2VuZChtZXNzYWdlKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIk1lc3NhZ2UgU2VudCBzdWNjZXNzZnVsbHlcIilcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnZG9udCBzZW5kIGEgbWVzc2FnZSB3aGVuIHNlbmRlciwgbWVzc2FnZSBjb250ZW50IGlzIG5vdCBwcm92aWRlZCcsIChkb25lKT0+e1xuICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgc2VuZGVyOiAnJyxcbiAgICAgICAgICAgIG5hbWU6XCJzYXdhXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIlwiLFxuICAgIFxuICAgICAgICB9XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KFwiL2FwaS9tZXNzYWdlc1wiKVxuICAgICAgICAuc2VuZChtZXNzYWdlKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwMyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInNlbmRlciBhbmQgbWVzc2FnZSBhcmUgcmVxdWlyZWRcIilcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIFxuICAgIH0pXG59KVxuXG4gICAgLyoqXG4gICAgICogR0VUIENvbnRhY3Qgcm91dGVcbiAgICAgKi9cblxuIGRlc2NyaWJlKCdHRVQgL2FwaS9tZXNzYWdlcycsICgpPT57XG4gICAgYWZ0ZXIoKCk9PntcbiAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wQ29sbGVjdGlvbignbWVzc2FnZXMnKVxuICAgIH0pXG4gICAgaXQoJ2dldCBhbGwgbWVzc2FnZXMnLCAoZG9uZSk9PntcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLmdldChcIi9hcGkvbWVzc2FnZXNcIilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcImNvbnRhY3RzIGZldGNoZWQhXCIpXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgLy8gaXQoJ2RvblxcJ3QgcmV0dXJuIGFueSBtZXNzYWdlJywgKGRvbmUpPT57XG4gICAgLy8gICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgLy8gICAgIC5nZXQoXCIvYXBpL21lc3NhZ2VcIilcbiAgICAvLyAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAvLyAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgIC8vICAgICBkb25lKCk7XG4gICAgLy8gICAgIH0pXG4gICAgLy8gfSlcbn0pXG5cblxufSkiXX0=","map":{"version":3,"sources":["contact_test.js"],"names":["require","config","user","autToken","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","message","sender","name","request","server","post","send","end","err","response","have","status","body","property","eql","after","get"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport { User } from '../models/User';\n\nlet user, autToken;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Message Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });     \n    \n\n    /**\n * POST Contact route\n */\n\ndescribe('POST /api/messages', ()=>{\n    before(()=>{\n        mongoose.connection.dropCollection('messages')\n    })\n\n    it('Send messages', (done)=>{\n        const message = {\n            sender: 'test@mail.com',\n            name:\"Eric gasana\",\n            message: \"I would like to thank you for those valuable posts\",\n    \n        }\n        chai.request(server)\n        .post(\"/api/messages\")\n        .send(message)\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.property('message').eql(\"Message Sent successfully\")\n        done();\n        })\n    })\n\n    it('dont send a message when sender, message content is not provided', (done)=>{\n        const message = {\n            sender: '',\n            name:\"sawa\",\n            message: \"\",\n    \n        }\n        chai.request(server)\n        .post(\"/api/messages\")\n        .send(message)\n        .end((err, response)=>{\n            response.should.have.status(403);\n            response.body.should.property('message').eql(\"sender and message are required\")\n        done();\n        })\n    \n    })\n})\n\n    /**\n     * GET Contact route\n     */\n\n describe('GET /api/messages', ()=>{\n    after(()=>{\n        mongoose.connection.dropCollection('messages')\n    })\n    it('get all messages', (done)=>{\n        chai.request(server)\n        .get(\"/api/messages\")\n        .end((err, response)=>{\n            response.should.have.status(200);\n            \n            response.body.should.property('message').eql(\"contacts fetched!\")\n        done();\n        })\n    })\n\n    // it('don\\'t return any message', (done)=>{\n    //     chai.request(server)\n    //     .get(\"/api/message\")\n    //     .end((err, response)=>{\n    //         response.should.have.status(404);\n    //     done();\n    //     })\n    // })\n})\n\n\n})"]}},"mtime":1650542334515},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/post_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken, id; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for Post Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n   * POST a post route\n   */\n\n  describe(\"POST /api/posts\", () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection('users');\n\n      _mongoose.default.connection.dropCollection('posts');\n    }); // create user and login \n\n    it('creates new user ', done => {\n      const newUser = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(newUser).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user created!\");\n        done();\n      });\n    }); // login\n\n    const logInUser = {\n      username: 'menase',\n      password: 'password test'\n    };\n    it('login a user', done => {\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        autToken = response.body.Token;\n        done();\n      });\n    });\n    it(\"creates a new post\", done => {\n      const userToken = 'Bearer ' + autToken;\n      const post = new _Post.Post({\n        title: \"unit testing\",\n        content: \"I am testing nodejs api using mocha with chai assertion library\"\n      });\n      post.save();\n\n      _chai.default.request(_index.default).post(\"/api/posts\") //set the auth header with our token\n      .set('Authorization', 'Bearer ' + autToken).send(post).end(function (error, response) {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Post Saved successfully\");\n        id = post.id;\n        done();\n      });\n    });\n    const userToken = 'Bearer ' + autToken;\n    it(\"fails to create a post due to unathorized user\", done => {\n      const post = new _Post.Post({\n        title: \"keza testing \",\n        content: \"unit testing with mocha and user keza\"\n      }); // post.save()\n\n      _chai.default.request(_index.default).post(\"/api/posts\").send(post) //set the auth header with our token\n      .set('Authorization', userToken).end(function (error, response) {\n        response.should.have.status(403);\n        response.body.should.have.property('message').eql(\"Invalid token\");\n        done();\n      });\n    });\n    it(\"do not create a post without title and content\", done => {\n      const post = new _Post.Post({\n        title: \"\",\n        content: \"\"\n      }); // post.save()\n\n      _chai.default.request(_index.default).post(\"/api/posts\") //set the auth header with our token\n      .set('Authorization', 'Bearer ' + autToken).send(post).end(function (error, response) {\n        response.should.have.status(400);\n        response.body.should.have.property('message').eql(\"Title and content are required\");\n        done();\n      });\n    });\n  });\n  /**\n   * test GET posts route\n   */\n\n  describe(\"GET /api/posts\", () => {\n    it(\"returns all posts\", done => {\n      _chai.default.request(_index.default).get(\"/api/posts\").end((err, response) => {\n        response.should.have.status(200);\n        response.body.message.should.be.eq(\"Fetched successfully\");\n        done();\n      });\n    }); // it(\"not returns all posts\", (done)=>{\n    //     chai.request(server)\n    //     .get(\"/api/post\")\n    //     .end((err, response)=>{\n    //         response.should.have.status(404);\n    //     done();\n    //     })\n    // })\n  });\n  /**\n   * test GET(by id) post route\n   */\n\n  describe(\"GET /api/posts/:id\", () => {\n    it(\"returns a single post\", done => {\n      const postId = id;\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}`).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        response.body.message.should.be.eq(\"successfully fetched\");\n        done();\n      });\n    });\n    it(\"not returns a single post at this id\", done => {\n      const postId = 1234;\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}`).end((err, responseponse) => {\n        responseponse.should.have.status(404);\n        responseponse.body.error.should.be.eq(\"Post does not exist!\");\n        done();\n      });\n    });\n  });\n  /**\n   * PUT a post route\n   */\n\n  describe('PUT /api/posts/:id', () => {\n    it('updates a post', done => {\n      const postId = id;\n      const post = {\n        title: \"unit testing\",\n        content: \"mocha Js framework for testing\"\n      };\n\n      _chai.default.request(_index.default).patch(`/api/posts/${postId}`).send(post).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Post successfully updated!\");\n        done();\n      });\n    });\n    it('don\\'t updates a post when title or content is empty', done => {\n      const postId = id;\n      const post = {\n        title: \"avicii\",\n        content: \"\"\n      };\n\n      _chai.default.request(_index.default).patch(`/api/posts/${postId}`).send(post).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(400);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Title and content need value!\");\n        done();\n      });\n    });\n  });\n  /**\n   * DELETE post route\n   */\n\n  describe('DELETE /api/posts/:id', () => {\n    after(() => {\n      _mongoose.default.connection.dropCollection('users');\n\n      _mongoose.default.connection.dropCollection('posts');\n    });\n    it('It deletes a post', done => {\n      const postId = id;\n\n      _chai.default.request(_index.default).delete(`/api/posts/${postId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        done();\n      });\n    });\n    it('It should not delete post that doesn\\'t exist in DB', done => {\n      const postId = id;\n\n      _chai.default.request(_index.default).delete(`/api/posts/${postId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.have.property('error').eql(\"Post doesn't exist!\");\n        done();\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiaWQiLCJjaGFpIiwic2hvdWxkIiwidXNlIiwiY2hhaUh0dHAiLCJkZXNjcmliZSIsImJlZm9yZSIsImRvbmUiLCJkYlVSSSIsInByb2Nlc3MiLCJlbnYiLCJEQl9VU0VSIiwiREJfUEFTU1dPUkQiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwicmVzcG9uc2V1bHQiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsImNvbm5lY3Rpb24iLCJkcm9wQ29sbGVjdGlvbiIsIml0IiwibmV3VXNlciIsIlVzZXIiLCJ1c2VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJyZXF1ZXN0Iiwic2VydmVyIiwicG9zdCIsInNlbmQiLCJlbmQiLCJlcnIiLCJyZXNwb25zZSIsImhhdmUiLCJzdGF0dXMiLCJib2R5IiwiYmUiLCJhIiwicHJvcGVydHkiLCJlcWwiLCJsb2dJblVzZXIiLCJUb2tlbiIsInVzZXJUb2tlbiIsIlBvc3QiLCJ0aXRsZSIsImNvbnRlbnQiLCJzYXZlIiwic2V0IiwiZ2V0IiwibWVzc2FnZSIsImVxIiwicG9zdElkIiwicmVzcG9uc2Vwb25zZSIsInBhdGNoIiwiYWZ0ZXIiLCJkZWxldGUiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBS0E7Ozs7QUFKQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsRyxDQUdBOzs7QUFHQSxJQUFJQyxJQUFKLEVBQVVDLFFBQVYsRUFBb0JDLEVBQXBCLEMsQ0FFQTs7QUFDQUMsY0FBS0MsTUFBTDs7QUFFQUQsY0FBS0UsR0FBTCxDQUFTQyxpQkFBVDs7QUFHQUMsUUFBUSxDQUFDLHlCQUFELEVBQTRCLE1BQUk7QUFDcENDLEVBQUFBLE1BQU0sQ0FBQyxVQUFTQyxJ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QUQsRUFBTUMsUUFBTixLQUFpQjtBQUNsQkEsUUFBQUEsUUFBUSxDQUFDbkMsTUFBVCxDQUFnQm9DLElBQWhCLENBQXFCQyxNQUFyQixDQUE0QixHQUE1QjtBQUNBRixRQUFBQSxRQUFRLENBQUNHLElBQVQsQ0FBY3RDLE1BQWQsQ0FBcUJvQyxJQUFyQixDQUEwQkssUUFBMUIsQ0FBbUMsT0FBbkMsRUFBNENDLEdBQTVDLENBQWdELHFCQUFoRDtBQUNKckMsUUFBQUEsSUFBSTtBQUNILE9BUEQ7QUFRSCxLQVZDLENBQUY7QUFjSCxHQWpDUyxDQUFSO0FBbUNELENBclRPLENBQVIiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL3Rlc3QvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuaW1wb3J0IHNlcnZlciBmcm9tIFwiLi4vaW5kZXhcIjtcbmltcG9ydCBjaGFpSHR0cCBmcm9tIFwiY2hhaS1odHRwXCI7XG5pbXBvcnQge1Bvc3R9IGZyb20gXCIuLi9tb2RlbHMvUG9zdFwiO1xucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxuXG4vL3RvIG1vY2sgYSBmdW5jdGlvbiBkdXJpbmcgdGVzdGluZ1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uL21vZGVscy9Vc2VyJztcblxubGV0IHVzZXIsIGF1dFRva2VuLCBpZDtcblxuLy9hc3NlcnRpb24gc3R5bGVcbmNoYWkuc2hvdWxkKCk7XG5cbmNoYWkudXNlKGNoYWlIdHRwKSAgXG4gICAgXG4gICAgXG5kZXNjcmliZSgnVGVzdCBmb3IgUG9zdCBFbmRwb2ludHMnLCAoKT0+e1xuICAgIGJlZm9yZShmdW5jdGlvbihkb25lKSB7XG4gICAgICAgIC8vIENvbm5lY3QgdG8gTW9uZ29EQiBkYXRhYmFzZVxuICAgIGNvbnN0IGRiVVJJID1gbW9uZ29kYitzcnY6Ly8ke3Byb2Nlc3MuZW52LkRCX1VTRVJ9OiR7cHJvY2Vzcy5lbnYuREJfUEFTU1dPUkR9QG5vZGUtYXBwbGljYXRpb25zLmZlNGF1Lm1vbmdvZGIubmV0L25vZGUtdHV0b3JpYWw/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5YFxuICAgIG1vbmdvb3NlLmNvbm5lY3QoZGJVUkkse3VzZU5ld1VybFBhcnNlcjp0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6dHJ1ZX0pLnRoZW4oKHJlc3BvbnNldWx0KT0+e1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGIgQ29ubmVjdGVkIScpXG5cbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9KS5jYXRjaCgoZXJyb3IpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgICAgfSlcblxuXG4gICAgfSk7ICAgXG4gICAgXG4gICAgXG4gICAgLyoqXG4gICAgICogUE9TVCBhIHBvc3Qgcm91dGVcbiAgICAgKi9cblxuZGVzY3JpYmUoXCJQT1NUIC9hcGkvcG9zdHNcIiwgKCk9PntcbiAgICBiZWZvcmUoKCk9PntcbiAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wQ29sbGVjdGlvbigndXNlcnMnKVxuICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCdwb3N0cycpXG4gICAgfSlcbiAgIFxuICAgIFxuXG4gICAgLy8gY3JlYXRlIHVzZXIgYW5kIGxvZ2luIFxuICAgIGl0KCdjcmVhdGVzIG5ldyB1c2VyICcsIChkb25lKT0+e1xuXG4gICAgICAgIGNvbnN0IG5ld1VzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICB1c2VybmFtZTpcIm1lbmFzZVwiLFxuICAgICAgICAgICAgZW1haWw6XCJtZW5hc2VAbWFpbC5jb21cIixcbiAgICAgICAgICAgIHBhc3N3b3JkOlwicGFzc3dvcmQgdGVzdFwiXG4gICAgICAgXG4gICAgICAgIH0pXG5cbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoXCIvYXBpL3VzZXJzXCIpXG4gICAgICAgIC5zZW5kKG5ld1VzZXIpXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAxKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInVzZXIgY3JlYXRlZCFcIik7XG4gICAgICAgIGRvbmUoKTsgICBcbiAgICAgICAgfSlcbiAgICB9KVxuXG5cbiAgICAvLyBsb2dpblxuICAgIGNvbnN0IGxvZ0luVXNlciA9IHtcbiAgICAgICAgdXNlcm5hbWU6J21lbmFzZScsXG4gICAgICAgIHBhc3N3b3JkOidwYXNzd29yZCB0ZXN0J1xuICAgIH1cblxuICAgIGl0KCdsb2dpbiBhIHVzZXInLCAoZG9uZSk9PntcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnMvbG9naW4nKVxuICAgICAgICAuc2VuZCh7dXNlcm5hbWU6bG9nSW5Vc2VyLnVzZXJuYW1lLCBwYXNzd29yZDpsb2dJblVzZXIucGFzc3dvcmR9KVxuICAgICAgICAuZW5kKGZ1bmN0aW9uKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiBkb25lKGVycik7XG5cbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICBhdXRUb2tlbiA9IHJlc3BvbnNlLmJvZHkuVG9rZW5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KTtcblxuICAgIH0pXG5cbiAgICBpdChcImNyZWF0ZXMgYSBuZXcgcG9zdFwiLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgdXNlclRva2VuID0gJ0JlYXJlciAnICsgYXV0VG9rZW5cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHBvc3QgPSBuZXcgUG9zdCh7XG4gICAgICAgICAgICB0aXRsZTogXCJ1bml0IHRlc3RpbmdcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiSSBhbSB0ZXN0aW5nIG5vZGVqcyBhcGkgdXNpbmcgbW9jaGEgd2l0aCBjaGFpIGFzc2VydGlvbiBsaWJyYXJ5XCJcbiAgICAgICAgICAgIFxuICAgICAgICB9KVxuICAgICAgICBwb3N0LnNhdmUoKVxuICAgICAgICBcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoXCIvYXBpL3Bvc3RzXCIpXG4gICAgXG4gICAgICAgIC8vc2V0IHRoZSBhdXRoIGhlYWRlciB3aXRoIG91ciB0b2tlblxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5zZW5kKHBvc3QpXG4gICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAxKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIlBvc3QgU2F2ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuXG4gICAgICAgICAgICBpZD0gcG9zdC5pZFxuICAgICAgICBkb25lKCk7ICBcbiAgICAgICAgfSk7XG4gICAgfSlcbiAgICAgICAgXG5cbiAgICBjb25zdCB1c2VyVG9rZW4gPSAnQmVhcmVyICcgKyBhdXRUb2tlblxuXG4gICAgaXQoXCJmYWlscyB0byBjcmVhdGUgYSBwb3N0IGR1ZSB0byB1bmF0aG9yaXplZCB1c2VyXCIsIChkb25lKT0+e1xuXG4gICAgICAgIGNvbnN0IHBvc3QgPSBuZXcgUG9zdCh7XG4gICAgICAgICAgICB0aXRsZTogXCJrZXphIHRlc3RpbmcgXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcInVuaXQgdGVzdGluZyB3aXRoIG1vY2hhIGFuZCB1c2VyIGtlemFcIlxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG4gICAgICAgIC8vIHBvc3Quc2F2ZSgpXG4gICAgICAgIFxuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAucG9zdChcIi9hcGkvcG9zdHNcIilcbiAgICAgICAgLnNlbmQocG9zdClcbiAgICAgICAgLy9zZXQgdGhlIGF1dGggaGVhZGVyIHdpdGggb3VyIHRva2VuXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCB1c2VyVG9rZW4pXG4gICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAzKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJJbnZhbGlkIHRva2VuXCIpO1xuICAgICAgICBkb25lKCk7ICBcbiAgICAgICAgfSk7XG4gICAgICAgXG4gICAgICAgIFxuICAgIH0pIFxuXG4gICAgaXQoXCJkbyBub3QgY3JlYXRlIGEgcG9zdCB3aXRob3V0IHRpdGxlIGFuZCBjb250ZW50XCIsIChkb25lKT0+e1xuXG4gICAgICAgIGNvbnN0IHBvc3QgPSBuZXcgUG9zdCh7XG4gICAgICAgICAgICB0aXRsZTogXCJcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiXCJcbiAgICAgICAgICAgIFxuICAgICAgICB9KVxuICAgICAgICAvLyBwb3N0LnNhdmUoKVxuICAgICAgICBcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoXCIvYXBpL3Bvc3RzXCIpXG4gICAgXG4gICAgICAgIC8vc2V0IHRoZSBhdXRoIGhlYWRlciB3aXRoIG91ciB0b2tlblxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5zZW5kKHBvc3QpXG4gICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAwKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJUaXRsZSBhbmQgY29udGVudCBhcmUgcmVxdWlyZWRcIilcbiAgICAgICAgZG9uZSgpOyAgXG4gICAgICAgIH0pO1xuICAgIH0pXG5cbiAgICAgICAgXG59KSBcbiAgICBcbiAgICBcbiAgICAvKipcbiAgICAgKiB0ZXN0IEdFVCBwb3N0cyByb3V0ZVxuICAgICAqL1xuXG4gIGRlc2NyaWJlKFwiR0VUIC9hcGkvcG9zdHNcIiwgKCk9PntcbiAgICAgICAgXG4gICAgaXQoXCJyZXR1cm5zIGFsbCBwb3N0c1wiLCAoZG9uZSk9PntcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLmdldChcIi9hcGkvcG9zdHNcIilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5tZXNzYWdlLnNob3VsZC5iZS5lcShcIkZldGNoZWQgc3VjY2Vzc2Z1bGx5XCIpXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgfSlcblxuICAgIC8vIGl0KFwibm90IHJldHVybnMgYWxsIHBvc3RzXCIsIChkb25lKT0+e1xuICAgIC8vICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgIC8vICAgICAuZ2V0KFwiL2FwaS9wb3N0XCIpXG4gICAgLy8gICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgLy8gICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDA0KTtcblxuICAgIC8vICAgICBkb25lKCk7XG4gICAgLy8gICAgIH0pXG4gICAgICAgIFxuICAgIC8vIH0pXG5cbiAgICBcbn0pO1xuXG4vKipcbiAqIHRlc3QgR0VUKGJ5IGlkKSBwb3N0IHJvdXRlXG4gKi9cblxuZGVzY3JpYmUoXCJHRVQgL2FwaS9wb3N0cy86aWRcIiwgKCk9PntcbiAgICBcbiAgICBpdChcInJldHVybnMgYSBzaW5nbGUgcG9zdFwiLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgcG9zdElkID0gaWQ7XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5nZXQoYC9hcGkvcG9zdHMvJHtwb3N0SWR9YClcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5Lm1lc3NhZ2Uuc2hvdWxkLmJlLmVxKFwic3VjY2Vzc2Z1bGx5IGZldGNoZWRcIilcbiAgICAgICAgICAgIFxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgIH0pO1xuXG4gICAgXG4gICAgaXQoXCJub3QgcmV0dXJucyBhIHNpbmdsZSBwb3N0IGF0IHRoaXMgaWRcIiwgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IDEyMzQ7XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5nZXQoYC9hcGkvcG9zdHMvJHtwb3N0SWR9YClcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZXBvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Vwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDA0KTtcbiAgICAgICAgICAgIHJlc3BvbnNlcG9uc2UuYm9keS5lcnJvci5zaG91bGQuYmUuZXEoXCJQb3N0IGRvZXMgbm90IGV4aXN0IVwiKVxuICAgICAgICAgICAgXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgfSlcbn0pXG5cblxuXG4gICAgLyoqXG4gICAgICogUFVUIGEgcG9zdCByb3V0ZVxuICAgICAqL1xuXG4gZGVzY3JpYmUoJ1BVVCAvYXBpL3Bvc3RzLzppZCcsICgpPT57XG4gICAgaXQoJ3VwZGF0ZXMgYSBwb3N0JywgKGRvbmUpPT57XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwb3N0SWQgPSBpZFxuICAgICAgICBjb25zdCBwb3N0ID0ge1xuICAgICAgICAgICAgdGl0bGU6IFwidW5pdCB0ZXN0aW5nXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIm1vY2hhIEpzIGZyYW1ld29yayBmb3IgdGVzdGluZ1wiLFxuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBhdGNoKGAvYXBpL3Bvc3RzLyR7cG9zdElkfWApXG4gICAgICAgIC5zZW5kKHBvc3QpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiUG9zdCBzdWNjZXNzZnVsbHkgdXBkYXRlZCFcIilcbiAgICAgICAgICAgIFxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdkb25cXCd0IHVwZGF0ZXMgYSBwb3N0IHdoZW4gdGl0bGUgb3IgY29udGVudCBpcyBlbXB0eScsIChkb25lKT0+e1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcG9zdElkID0gaWRcbiAgICAgICAgY29uc3QgcG9zdCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiBcImF2aWNpaVwiLFxuICAgICAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wYXRjaChgL2FwaS9wb3N0cy8ke3Bvc3RJZH1gKVxuICAgICAgICAuc2VuZChwb3N0KVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAwKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIlRpdGxlIGFuZCBjb250ZW50IG5lZWQgdmFsdWUhXCIpXG4gICAgICAgICAgICBcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIH0pXG5cblxufSlcblxuICAgIC8qKlxuICAgICAqIERFTEVURSBwb3N0IHJvdXRlXG4gICAgICovXG5cbiAgZGVzY3JpYmUoJ0RFTEVURSAvYXBpL3Bvc3RzLzppZCcsICgpPT57XG4gICAgICBhZnRlcigoKT0+e1xuICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCd1c2VycycpIFxuICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCdwb3N0cycpXG4gICAgICB9KVxuICAgIFxuXG4gICAgaXQoJ0l0IGRlbGV0ZXMgYSBwb3N0JywgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IGlkO1xuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAuZGVsZXRlKGAvYXBpL3Bvc3RzLyR7cG9zdElkfWApXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ0l0IHNob3VsZCBub3QgZGVsZXRlIHBvc3QgdGhhdCBkb2VzblxcJ3QgZXhpc3QgaW4gREInLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgcG9zdElkID0gaWQ7XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5kZWxldGUoYC9hcGkvcG9zdHMvJHtwb3N0SWR9YClcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwNCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdlcnJvcicpLmVxbChcIlBvc3QgZG9lc24ndCBleGlzdCFcIilcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBcblxufSlcblxufSkiXX0=","map":{"version":3,"sources":["post_test.js"],"names":["require","config","user","autToken","id","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","logInUser","Token","userToken","Post","title","content","save","set","get","message","eq","postId","responseponse","patch","after","delete"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport { User } from '../models/User';\n\nlet user, autToken, id;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Post Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });   \n    \n    \n    /**\n     * POST a post route\n     */\n\ndescribe(\"POST /api/posts\", ()=>{\n    before(()=>{\n        mongoose.connection.dropCollection('users')\n        mongoose.connection.dropCollection('posts')\n    })\n   \n    \n\n    // create user and login \n    it('creates new user ', (done)=>{\n\n        const newUser = new User({\n            username:\"menase\",\n            email:\"menase@mail.com\",\n            password:\"password test\"\n       \n        })\n\n        chai.request(server)\n        .post(\"/api/users\")\n        .send(newUser)\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"user created!\");\n        done();   \n        })\n    })\n\n\n    // login\n    const logInUser = {\n        username:'menase',\n        password:'password test'\n    }\n\n    it('login a user', (done)=>{\n        chai.request(server)\n        .post('/api/users/login')\n        .send({username:logInUser.username, password:logInUser.password})\n        .end(function(err, response) {\n            if (err) return done(err);\n\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            autToken = response.body.Token\n            \n            done();\n        });\n\n    })\n\n    it(\"creates a new post\", (done)=>{\n        const userToken = 'Bearer ' + autToken\n        \n        const post = new Post({\n            title: \"unit testing\",\n            content: \"I am testing nodejs api using mocha with chai assertion library\"\n            \n        })\n        post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n    \n        //set the auth header with our token\n        .set('Authorization', 'Bearer ' + autToken)\n        .send(post)\n        .end(function(error, response) {\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post Saved successfully\");\n\n            id= post.id\n        done();  \n        });\n    })\n        \n\n    const userToken = 'Bearer ' + autToken\n\n    it(\"fails to create a post due to unathorized user\", (done)=>{\n\n        const post = new Post({\n            title: \"keza testing \",\n            content: \"unit testing with mocha and user keza\"\n            \n        })\n        // post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n        .send(post)\n        //set the auth header with our token\n        .set('Authorization', userToken)\n        .end(function(error, response) {\n            response.should.have.status(403);\n            response.body.should.have.property('message').eql(\"Invalid token\");\n        done();  \n        });\n       \n        \n    }) \n\n    it(\"do not create a post without title and content\", (done)=>{\n\n        const post = new Post({\n            title: \"\",\n            content: \"\"\n            \n        })\n        // post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n    \n        //set the auth header with our token\n        .set('Authorization', 'Bearer ' + autToken)\n        .send(post)\n        .end(function(error, response) {\n            response.should.have.status(400);\n            response.body.should.have.property('message').eql(\"Title and content are required\")\n        done();  \n        });\n    })\n\n        \n}) \n    \n    \n    /**\n     * test GET posts route\n     */\n\n  describe(\"GET /api/posts\", ()=>{\n        \n    it(\"returns all posts\", (done)=>{\n        chai.request(server)\n        .get(\"/api/posts\")\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.message.should.be.eq(\"Fetched successfully\")\n        done();\n        })\n        \n    })\n\n    // it(\"not returns all posts\", (done)=>{\n    //     chai.request(server)\n    //     .get(\"/api/post\")\n    //     .end((err, response)=>{\n    //         response.should.have.status(404);\n\n    //     done();\n    //     })\n        \n    // })\n\n    \n});\n\n/**\n * test GET(by id) post route\n */\n\ndescribe(\"GET /api/posts/:id\", ()=>{\n    \n    it(\"returns a single post\", (done)=>{\n        const postId = id;\n        chai.request(server)\n        .get(`/api/posts/${postId}`)\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            response.body.message.should.be.eq(\"successfully fetched\")\n            \n        done();\n        })\n        \n    });\n\n    \n    it(\"not returns a single post at this id\", (done)=>{\n        const postId = 1234;\n        chai.request(server)\n        .get(`/api/posts/${postId}`)\n        .end((err, responseponse)=>{\n            responseponse.should.have.status(404);\n            responseponse.body.error.should.be.eq(\"Post does not exist!\")\n            \n        done();\n        })\n        \n    })\n})\n\n\n\n    /**\n     * PUT a post route\n     */\n\n describe('PUT /api/posts/:id', ()=>{\n    it('updates a post', (done)=>{\n        \n        const postId = id\n        const post = {\n            title: \"unit testing\",\n            content: \"mocha Js framework for testing\",\n            \n        }\n        chai.request(server)\n        .patch(`/api/posts/${postId}`)\n        .send(post)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post successfully updated!\")\n            \n        done();\n        })\n    })\n\n    it('don\\'t updates a post when title or content is empty', (done)=>{\n        \n        const postId = id\n        const post = {\n            title: \"avicii\",\n            content: \"\",\n            \n        }\n        chai.request(server)\n        .patch(`/api/posts/${postId}`)\n        .send(post)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(400);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Title and content need value!\")\n            \n        done();\n        })\n    })\n\n\n})\n\n    /**\n     * DELETE post route\n     */\n\n  describe('DELETE /api/posts/:id', ()=>{\n      after(()=>{\n        mongoose.connection.dropCollection('users') \n        mongoose.connection.dropCollection('posts')\n      })\n    \n\n    it('It deletes a post', (done)=>{\n        const postId = id;\n        chai.request(server)\n        .delete(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n\n        done();\n        })\n    })\n\n    it('It should not delete post that doesn\\'t exist in DB', (done)=>{\n        const postId = id;\n        chai.request(server)\n        .delete(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(404);\n            response.body.should.have.property('error').eql(\"Post doesn't exist!\")\n        done();\n        })\n    })\n\n    \n\n})\n\n})"]}},"mtime":1650542346828},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/user_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for User Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n   * Test create new user\n   */\n\n  describe('POST /api/users', () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection(\"users\");\n    });\n    it('creates new user ', done => {\n      const newUser = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(newUser).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user created!\");\n        done();\n      });\n    });\n    it('User exists', done => {\n      user = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(user).end((err, response) => {\n        response.should.have.status(403);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user already exists\");\n        done();\n      });\n    });\n    it('No new user without username, email or password ', done => {\n      const user = new _User.User({\n        username: \"\",\n        email: \"\",\n        password: \"\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(user).end((err, response) => {\n        response.should.have.status(403);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"All fields are required\");\n        done();\n      });\n    });\n  });\n  /**\n   * POST User login\n   */\n\n  describe('POST /api/users/login', () => {\n    after(() => {\n      _mongoose.default.connection.dropCollection('users');\n    });\n    const logInUser = {\n      username: 'menase',\n      password: 'password test'\n    };\n    it('login a user', done => {\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        autToken = response.body.Token;\n        done();\n      });\n    });\n    it('not login a user with incorrect credentials', done => {\n      const logInUser = {\n        username: 'menase',\n        password: 'password'\n      };\n\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(403);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Invalid username or password.\");\n        done();\n      });\n    });\n    it('not login anonymous user', done => {\n      const logInUser = {\n        username: 'hereweare',\n        password: 'hereweare'\n      };\n\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(400);\n        response.body.should.have.property('message').eql(\"Not User.\");\n        done();\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiY2hhaSIsInNob3VsZCIsInVzZSIsImNoYWlIdHRwIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJkb25lIiwiZGJVUkkiLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUiIsIkRCX1BBU1NXT1JEIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsInJlc3BvbnNldWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJjb25uZWN0aW9uIiwiZHJvcENvbGxlY3Rpb24iLCJpdCIsIm5ld1VzZXIiLCJVc2VyIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicmVxdWVzdCIsInNlcnZlciIsInBvc3QiLCJzZW5kIiwiZW5kIiwiZXJyIiwicmVzcG9uc2UiLCJoYXZlIiwic3RhdHVzIiwiYm9keSIsImJlIiwiYSIsInByb3BlcnR5IiwiZXFsIiwiYWZ0ZXIiLCJsb2dJblVzZXIiLCJUb2tlbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFLQTs7OztBQUpBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQixHLENBR0E7OztBQUdBLElBQUlDLElBQUosRUFBVUMsUUFBVixDLENBRUE7O0FBQ0FDLGNBQUtDLE1BQUw7O0FBRUFELGNBQUtFLEdBQUwsQ0FBU0MsaUJBQVQ7O0FBR0FDLFFBQVEsQ0FBQyx5QkFBRCxFQUE0QixNQUFJO0FBQ3BDQyxFQUFBQSxNQUFNLENBQUMsVUFBU0MsSUFBVCxFQUFlO0FBQ2xCO0FBQ0osVUFBTUMsS0FBSyxHQUFHLGlCQUFnQkMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLE9BQVEsSUFBR0YsT0FBTyxDQUFDQyxHQUFSLENBQVlFLFdBQVksZ0ZBQTdFOztBQUNBQyxzQkFBU0MsT0FBVCxD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QUFuQyxFQUE4Q0MsR0FBOUMsQ0FBa0QsK0JBQWxEO0FBQ0pyQyxRQUFBQSxJQUFJO0FBQ0gsT0FWRDtBQVlILEtBakJDLENBQUY7QUFtQkFrQixJQUFBQSxFQUFFLENBQUMsMEJBQUQsRUFBOEJsQixJQUFELElBQVE7QUFDbkMsWUFBTXVDLFNBQVMsR0FBRztBQUNkbEIsUUFBQUEsUUFBUSxFQUFDLFdBREs7QUFFZEUsUUFBQUEsUUFBUSxFQUFDO0FBRkssT0FBbEI7O0FBSUE3QixvQkFBSzhCLE9BQUwsQ0FBYUMsY0FBYixFQUNDQyxJQURELENBQ00sa0JBRE4sRUFFQ0MsSUFGRCxDQUVNO0FBQUNOLFFBQUFBLFFBQVEsRUFBQ2tCLFNBQVMsQ0FBQ2xCLFFBQXBCO0FBQThCRSxRQUFBQSxRQUFRLEVBQUNnQixTQUFTLENBQUNoQjtBQUFqRCxPQUZOLEVBR0NLLEdBSEQsQ0FHSyxVQUFTQyxHQUFULEVBQWNDLFFBQWQsRUFBd0I7QUFDekIsWUFBSUQsR0FBSixFQUFTLE9BQU83QixJQUFJLENBQUM2QixHQUFELENBQVg7QUFFVEMsUUFBQUEsUUFBUSxDQUFDbkMsTUFBVCxDQUFnQm9DLElBQWhCLENBQXFCQyxNQUFyQixDQUE0QixHQUE1QjtBQUNBRixRQUFBQSxRQUFRLENBQUNHLElBQVQsQ0FBY3RDLE1BQWQsQ0FBcUJvQyxJQUFyQixDQUEwQkssUUFBMUIsQ0FBbUMsU0FBbkMsRUFBOENDLEdBQTlDLENBQWtELFdBQWxEO0FBQ0pyQyxRQUFBQSxJQUFJO0FBQ0gsT0FURDtBQVdILEtBaEJDLENBQUY7QUFvQkgsR0FqRVEsQ0FBUjtBQW1FSixDQXJLTyxDQUFSIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy90ZXN0LyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgY2hhaSBmcm9tICdjaGFpJztcbmltcG9ydCBzZXJ2ZXIgZnJvbSBcIi4uL2luZGV4XCI7XG5pbXBvcnQgY2hhaUh0dHAgZnJvbSBcImNoYWktaHR0cFwiO1xuaW1wb3J0IHtQb3N0fSBmcm9tIFwiLi4vbW9kZWxzL1Bvc3RcIjtcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5cblxuLy90byBtb2NrIGEgZnVuY3Rpb24gZHVyaW5nIHRlc3RpbmdcbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuLi9tb2RlbHMvVXNlcic7XG5cbmxldCB1c2VyLCBhdXRUb2tlbjtcblxuLy9hc3NlcnRpb24gc3R5bGVcbmNoYWkuc2hvdWxkKCk7XG5cbmNoYWkudXNlKGNoYWlIdHRwKSAgXG4gICAgXG4gICAgXG5kZXNjcmliZSgnVGVzdCBmb3IgVXNlciBFbmRwb2ludHMnLCAoKT0+e1xuICAgIGJlZm9yZShmdW5jdGlvbihkb25lKSB7XG4gICAgICAgIC8vIENvbm5lY3QgdG8gTW9uZ29EQiBkYXRhYmFzZVxuICAgIGNvbnN0IGRiVVJJID1gbW9uZ29kYitzcnY6Ly8ke3Byb2Nlc3MuZW52LkRCX1VTRVJ9OiR7cHJvY2Vzcy5lbnYuREJfUEFTU1dPUkR9QG5vZGUtYXBwbGljYXRpb25zLmZlNGF1Lm1vbmdvZGIubmV0L25vZGUtdHV0b3JpYWw/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5YFxuICAgIG1vbmdvb3NlLmNvbm5lY3QoZGJVUkkse3VzZU5ld1VybFBhcnNlcjp0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6dHJ1ZX0pLnRoZW4oKHJlc3BvbnNldWx0KT0+e1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGIgQ29ubmVjdGVkIScpXG4gICAgICAgICAgICBcblxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgIH0pLmNhdGNoKChlcnJvcik9PntcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgICAgICB9KVxuICAgIFxuICAgICBcblxuICAgIH0pO1xuICAgIFxuICAgIFxuXG4gICAgLyoqXG4gICAgICogVGVzdCBjcmVhdGUgbmV3IHVzZXJcbiAgICAgKi9cblxuICAgICBkZXNjcmliZSgnUE9TVCAvYXBpL3VzZXJzJywgKCk9PntcbiAgICAgICAgYmVmb3JlKCgpPT57XG4gICAgICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKFwidXNlcnNcIik7XG4gICAgICAgIH0pXG5cbiAgICAgICAgaXQoJ2NyZWF0ZXMgbmV3IHVzZXIgJywgKGRvbmUpPT57XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld1VzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6XCJtZW5hc2VcIixcbiAgICAgICAgICAgICAgICBlbWFpbDpcIm1lbmFzZUBtYWlsLmNvbVwiLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOlwicGFzc3dvcmQgdGVzdFwiXG4gICAgICAgICAgIFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KFwiL2FwaS91c2Vyc1wiKVxuICAgICAgICAgICAgLnNlbmQobmV3VXNlcilcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInVzZXIgY3JlYXRlZCFcIik7XG4gICAgICAgICAgICBkb25lKCk7ICAgXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG5cbiAgICAgICAgaXQoJ1VzZXIgZXhpc3RzJywgKGRvbmUpPT57XG5cbiAgICAgICAgICAgIHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6XCJtZW5hc2VcIixcbiAgICAgICAgICAgICAgICBlbWFpbDpcIm1lbmFzZUBtYWlsLmNvbVwiLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOlwicGFzc3dvcmQgdGVzdFwiXG4gICAgICAgICAgIFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KFwiL2FwaS91c2Vyc1wiKVxuICAgICAgICAgICAgLnNlbmQodXNlcilcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwMyk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInVzZXIgYWxyZWFkeSBleGlzdHNcIik7XG4gICAgICAgICAgICBkb25lKCk7ICAgXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgaXQoJ05vIG5ldyB1c2VyIHdpdGhvdXQgdXNlcm5hbWUsIGVtYWlsIG9yIHBhc3N3b3JkICcsIChkb25lKT0+e1xuXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xuICAgICAgICAgICAgICAgIHVzZXJuYW1lOlwiXCIsXG4gICAgICAgICAgICAgICAgZW1haWw6XCJcIixcbiAgICAgICAgICAgICAgICBwYXNzd29yZDpcIlwiXG4gICAgICAgICAgIFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KFwiL2FwaS91c2Vyc1wiKVxuICAgICAgICAgICAgLnNlbmQodXNlcilcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwMyk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIkFsbCBmaWVsZHMgYXJlIHJlcXVpcmVkXCIpO1xuICAgICAgICAgICAgZG9uZSgpOyAgIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgIH0pXG5cbiAgICAvKipcbiAgICAgKiBQT1NUIFVzZXIgbG9naW5cbiAgICAgKi9cblxuICAgICBkZXNjcmliZSgnUE9TVCAvYXBpL3VzZXJzL2xvZ2luJywgKCk9PntcbiAgICAgICAgIGFmdGVyKCgpPT57XG4gICAgICAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wQ29sbGVjdGlvbigndXNlcnMnKVxuICAgICAgICAgfSlcbiAgICAgICBcbiAgICAgICAgY29uc3QgbG9nSW5Vc2VyID0ge1xuICAgICAgICAgICAgdXNlcm5hbWU6J21lbmFzZScsXG4gICAgICAgICAgICBwYXNzd29yZDoncGFzc3dvcmQgdGVzdCdcbiAgICAgICAgfVxuXG4gICAgICAgIGl0KCdsb2dpbiBhIHVzZXInLCAoZG9uZSk9PntcbiAgICAgICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgICAgICAucG9zdCgnL2FwaS91c2Vycy9sb2dpbicpXG4gICAgICAgICAgICAuc2VuZCh7dXNlcm5hbWU6bG9nSW5Vc2VyLnVzZXJuYW1lLCBwYXNzd29yZDpsb2dJblVzZXIucGFzc3dvcmR9KVxuICAgICAgICAgICAgLmVuZChmdW5jdGlvbihlcnIsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGRvbmUoZXJyKTtcblxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgICAgIGF1dFRva2VuID0gcmVzcG9uc2UuYm9keS5Ub2tlblxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pXG5cbiAgICAgICAgaXQoJ25vdCBsb2dpbiBhIHVzZXIgd2l0aCBpbmNvcnJlY3QgY3JlZGVudGlhbHMnLCAoZG9uZSk9PntcbiAgICAgICAgICAgIGNvbnN0IGxvZ0luVXNlciA9IHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTonbWVuYXNlJyxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDoncGFzc3dvcmQnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnMvbG9naW4nKVxuICAgICAgICAgICAgLnNlbmQoe3VzZXJuYW1lOmxvZ0luVXNlci51c2VybmFtZSwgcGFzc3dvcmQ6bG9nSW5Vc2VyLnBhc3N3b3JkfSlcbiAgICAgICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyLCByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiBkb25lKGVycik7XG5cbiAgICAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAzKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiSW52YWxpZCB1c2VybmFtZSBvciBwYXNzd29yZC5cIik7XG4gICAgICAgICAgICBkb25lKCk7ICAgXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KVxuXG4gICAgICAgIGl0KCdub3QgbG9naW4gYW5vbnltb3VzIHVzZXInLCAoZG9uZSk9PntcbiAgICAgICAgICAgIGNvbnN0IGxvZ0luVXNlciA9IHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTonaGVyZXdlYXJlJyxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDonaGVyZXdlYXJlJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KCcvYXBpL3VzZXJzL2xvZ2luJylcbiAgICAgICAgICAgIC5zZW5kKHt1c2VybmFtZTpsb2dJblVzZXIudXNlcm5hbWUsIHBhc3N3b3JkOmxvZ0luVXNlci5wYXNzd29yZH0pXG4gICAgICAgICAgICAuZW5kKGZ1bmN0aW9uKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuXG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwMCk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIk5vdCBVc2VyLlwiKTtcbiAgICAgICAgICAgIGRvbmUoKTsgICBcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pXG5cblxuICAgICAgIFxuICAgIH0pXG5cbn0pICAgICJdfQ==","map":{"version":3,"sources":["user_test.js"],"names":["require","config","user","autToken","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","after","logInUser","Token"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport { User } from '../models/User';\n\nlet user, autToken;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for User Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n            \n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n    \n     \n\n    });\n    \n    \n\n    /**\n     * Test create new user\n     */\n\n     describe('POST /api/users', ()=>{\n        before(()=>{\n            mongoose.connection.dropCollection(\"users\");\n        })\n\n        it('creates new user ', (done)=>{\n\n            const newUser = new User({\n                username:\"menase\",\n                email:\"menase@mail.com\",\n                password:\"password test\"\n           \n            })\n\n            chai.request(server)\n            .post(\"/api/users\")\n            .send(newUser)\n            .end((err, response)=>{\n                response.should.have.status(201);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"user created!\");\n            done();   \n            })\n        })\n\n\n        it('User exists', (done)=>{\n\n            user = new User({\n                username:\"menase\",\n                email:\"menase@mail.com\",\n                password:\"password test\"\n           \n            })\n\n            chai.request(server)\n            .post(\"/api/users\")\n            .send(user)\n            .end((err, response)=>{\n                response.should.have.status(403);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"user already exists\");\n            done();   \n            })\n\n        })\n\n        it('No new user without username, email or password ', (done)=>{\n\n            const user = new User({\n                username:\"\",\n                email:\"\",\n                password:\"\"\n           \n            })\n\n            chai.request(server)\n            .post(\"/api/users\")\n            .send(user)\n            .end((err, response)=>{\n                response.should.have.status(403);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"All fields are required\");\n            done();   \n            })\n        })\n\n    })\n\n    /**\n     * POST User login\n     */\n\n     describe('POST /api/users/login', ()=>{\n         after(()=>{\n             mongoose.connection.dropCollection('users')\n         })\n       \n        const logInUser = {\n            username:'menase',\n            password:'password test'\n        }\n\n        it('login a user', (done)=>{\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(200);\n                response.body.should.be.a('object');\n                autToken = response.body.Token\n                \n                done();\n            });\n\n        })\n\n        it('not login a user with incorrect credentials', (done)=>{\n            const logInUser = {\n                username:'menase',\n                password:'password'\n            }\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(403);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"Invalid username or password.\");\n            done();   \n            });\n\n        })\n\n        it('not login anonymous user', (done)=>{\n            const logInUser = {\n                username:'hereweare',\n                password:'hereweare'\n            }\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(400);\n                response.body.should.have.property('message').eql(\"Not User.\");\n            done();   \n            });\n\n        })\n\n\n       \n    })\n\n})    "]}},"mtime":1650542351624},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/comment_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken, id, cId; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for Comment Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n  * POST comment route\n  */\n\n  describe('POST /api/posts/:id/comment', () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection('users');\n\n      _mongoose.default.connection.dropCollection('comments');\n    }); // create user and login \n\n    it('creates new user ', done => {\n      const newUser = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(newUser).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user created!\");\n        done();\n      });\n    }); // login\n\n    const logInUser = {\n      username: 'menase',\n      password: 'password test'\n    };\n    it('login a user', done => {\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        autToken = response.body.Token;\n        done();\n      });\n    }); //post creation\n\n    it(\"creates a new post\", done => {\n      const userToken = 'Bearer ' + autToken;\n      const post = new _Post.Post({\n        title: \"unit testing\",\n        content: \"I am testing nodejs api using mocha with chai assertion library\"\n      });\n      post.save();\n\n      _chai.default.request(_index.default).post(\"/api/posts\") //set the auth header with our token\n      .set('Authorization', 'Bearer ' + autToken).send(post).end(function (error, response) {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Post Saved successfully\");\n        id = post.id;\n        done();\n      });\n    });\n    it('comment on a post', done => {\n      const postId = id;\n      const newComment = new _Post.Comment({\n        postId,\n        description: \"testing a comment\"\n      });\n      newComment.save();\n\n      _chai.default.request(_index.default).post(`/api/posts/${postId}/comment`).send(newComment).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('comment');\n        cId = newComment.id;\n        done();\n      });\n    });\n    it('handles when you want to comment on non existing post', done => {\n      const postId = \"62597f8412f8da13b4e0a385\";\n      const newComment = {\n        postId,\n        description: \"testing a comment\"\n      };\n\n      _chai.default.request(_index.default).post(`/api/posts/${postId}/comment`).send(newComment).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Post not available\");\n        done();\n      });\n    });\n  });\n  /**\n   * GET comment route\n  */\n\n  describe('GET /api/posts/:id/comment', () => {\n    it('shows all comments related to specific post', done => {\n      const postId = id;\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}/comment`).send({\n        postId\n      }).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.have.a('object');\n        done();\n      });\n    });\n    it('show error when that post in not in DB', done => {\n      const postId = \"625b07c93cc2f2b0163f1a75\";\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}/comment`).send({\n        postId\n      }).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.have.property('message').eql(\"post not found\");\n        done();\n      });\n    });\n    it('shows individual comment', done => {\n      const commentId = cId;\n\n      _chai.default.request(_index.default).get(`/api/comments/${commentId}`).send({\n        commentId\n      }).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        response.body.should.have.property('comment');\n        done();\n      });\n    });\n    it('shows error for non existing comment', done => {\n      const commentId = \"625943e64e9dd47477f9be96\";\n\n      _chai.default.request(_index.default).get(`/api/comments/${commentId}`).send({\n        commentId\n      }).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.be.a('object');\n        response.body.should.have.property('comment').eql(\"Comment Doesn't Exists\");\n        done();\n      });\n    });\n  });\n  /**\n   * DELETE comment route\n   */\n\n  describe('DELETE /api/comments/:id', () => {\n    it('deletes comment on a post', done => {\n      const commentId = cId;\n\n      _chai.default.request(_index.default).delete(`/api/comments/${commentId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        done();\n      });\n    });\n    it('handles when you want to delete non existing comment', done => {\n      const commentId = \"625943e64e9dd47477f9be96\";\n\n      _chai.default.request(_index.default).delete(`/api/comments/${commentId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.have.property('message').eql(\"Comment doesn't exist\");\n        done();\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiaWQiLCJjSWQiLCJjaGFpIiwic2hvdWxkIiwidXNlIiwiY2hhaUh0dHAiLCJkZXNjcmliZSIsImJlZm9yZSIsImRvbmUiLCJkYlVSSSIsInByb2Nlc3MiLCJlbnYiLCJEQl9VU0VSIiwiREJfUEFTU1dPUkQiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwicmVzcG9uc2V1bHQiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsImNvbm5lY3Rpb24iLCJkcm9wQ29sbGVjdGlvbiIsIml0IiwibmV3VXNlciIsIlVzZXIiLCJ1c2VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJyZXF1ZXN0Iiwic2VydmVyIiwicG9zdCIsInNlbmQiLCJlbmQiLCJlcnIiLCJyZXNwb25zZSIsImhhdmUiLCJzdGF0dXMiLCJib2R5IiwiYmUiLCJhIiwicHJvcGVydHkiLCJlcWwiLCJsb2dJblVzZXIiLCJUb2tlbiIsInVzZXJUb2tlbiIsIlBvc3QiLCJ0aXRsZSIsImNvbnRlbnQiLCJzYXZlIiwic2V0IiwicG9zdElkIiwibmV3Q29tbWVudCIsIkNvbW1lbnQiLCJkZXNjcmlwdGlvbiIsImdldCIsImNvbW1lbnRJZCIsImRlbGV0ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFLQTs7OztBQUpBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQixHLENBR0E7OztBQUdBLElBQUlDLElBQUosRUFBVUMsUUFBVixFQUFvQkMsRUFBcEIsRUFBd0JDLEdBQXhCLEMsQ0FFQTs7QUFDQUMsY0FBS0MsTUFBTDs7QUFFQUQsY0FBS0UsR0FBTCxDQUFTQyxpQkFBVDs7QUFHQUMsUUFBUSxDQUFDLDRCQUFELEVBQStCLE1BQUk7QUFDdkND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QSxFQUFFLENBQUMsc0RBQUQsRUFBMERsQixJQUFELElBQVE7QUFDL0QsWUFBTW1ELFNBQVMsR0FBRywwQkFBbEI7O0FBQ0F6RCxvQkFBSzhCLE9BQUwsQ0FBYUMsY0FBYixFQUNDMkIsTUFERCxDQUNTLGlCQUFnQkQsU0FBVSxFQURuQyxFQUVDTixHQUZELENBRUssZUFGTCxFQUVzQixZQUFZdEQsUUFGbEMsRUFHQ3FDLEdBSEQsQ0FHSyxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBaUI7QUFDbEJBLFFBQUFBLFFBQVEsQ0FBQ25DLE1BQVQsQ0FBZ0JvQyxJQUFoQixDQUFxQkMsTUFBckIsQ0FBNEIsR0FBNUI7QUFDQUYsUUFBQUEsUUFBUSxDQUFDRyxJQUFULENBQWN0QyxNQUFkLENBQXFCb0MsSUFBckIsQ0FBMEJLLFFBQTFCLENBQW1DLFNBQW5DLEVBQThDQyxHQUE5QyxDQUFrRCx1QkFBbEQ7QUFDSnJDLFFBQUFBLElBQUk7QUFDSCxPQVBEO0FBUUgsS0FWQyxDQUFGO0FBWUgsR0F6Qk8sQ0FBUjtBQTBCSCxDQTdPTyxDQUFSIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy90ZXN0LyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgY2hhaSBmcm9tICdjaGFpJztcbmltcG9ydCBzZXJ2ZXIgZnJvbSBcIi4uL2luZGV4XCI7XG5pbXBvcnQgY2hhaUh0dHAgZnJvbSBcImNoYWktaHR0cFwiO1xuaW1wb3J0IHtQb3N0LENvbW1lbnR9IGZyb20gXCIuLi9tb2RlbHMvUG9zdFwiO1xucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxuXG4vL3RvIG1vY2sgYSBmdW5jdGlvbiBkdXJpbmcgdGVzdGluZ1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uL21vZGVscy9Vc2VyJztcblxubGV0IHVzZXIsIGF1dFRva2VuLCBpZCwgY0lkO1xuXG4vL2Fzc2VydGlvbiBzdHlsZVxuY2hhaS5zaG91bGQoKTtcblxuY2hhaS51c2UoY2hhaUh0dHApICBcbiAgICBcbiAgICBcbmRlc2NyaWJlKCdUZXN0IGZvciBDb21tZW50IEVuZHBvaW50cycsICgpPT57XG4gICAgYmVmb3JlKGZ1bmN0aW9uKGRvbmUpIHtcbiAgICAgICAgLy8gQ29ubmVjdCB0byBNb25nb0RCIGRhdGFiYXNlXG4gICAgY29uc3QgZGJVUkkgPWBtb25nb2RiK3NydjovLyR7cHJvY2Vzcy5lbnYuREJfVVNFUn06JHtwcm9jZXNzLmVudi5EQl9QQVNTV09SRH1Abm9kZS1hcHBsaWNhdGlvbnMuZmU0YXUubW9uZ29kYi5uZXQvbm9kZS10dXRvcmlhbD9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHlgXG4gICAgbW9uZ29vc2UuY29ubmVjdChkYlVSSSx7dXNlTmV3VXJsUGFyc2VyOnRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTp0cnVlfSkudGhlbigocmVzcG9uc2V1bHQpPT57XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEYiBDb25uZWN0ZWQhJylcblxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgIH0pLmNhdGNoKChlcnJvcik9PntcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgICAgICB9KVxuXG5cbiAgICB9KTsgIFxuXG4gICAgLyoqXG4gICAgKiBQT1NUIGNvbW1lbnQgcm91dGVcbiAgICAqL1xuXG4gICAgIGRlc2NyaWJlKCdQT1NUIC9hcGkvcG9zdHMvOmlkL2NvbW1lbnQnLCAoKT0+e1xuICAgICAgICAgYmVmb3JlKCgpPT57XG4gICAgICAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wQ29sbGVjdGlvbigndXNlcnMnKVxuICAgICAgICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ2NvbW1lbnRzJylcbiAgICAgICAgIH0pXG5cbiAgICAgICAgLy8gY3JlYXRlIHVzZXIgYW5kIGxvZ2luIFxuICAgIGl0KCdjcmVhdGVzIG5ldyB1c2VyICcsIChkb25lKT0+e1xuXG4gICAgICAgIGNvbnN0IG5ld1VzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICB1c2VybmFtZTpcIm1lbmFzZVwiLFxuICAgICAgICAgICAgZW1haWw6XCJtZW5hc2VAbWFpbC5jb21cIixcbiAgICAgICAgICAgIHBhc3N3b3JkOlwicGFzc3dvcmQgdGVzdFwiXG4gICAgICAgXG4gICAgICAgIH0pXG5cbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoXCIvYXBpL3VzZXJzXCIpXG4gICAgICAgIC5zZW5kKG5ld1VzZXIpXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAxKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInVzZXIgY3JlYXRlZCFcIik7XG4gICAgICAgIGRvbmUoKTsgICBcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgLy8gbG9naW5cbiAgICBjb25zdCBsb2dJblVzZXIgPSB7XG4gICAgICAgIHVzZXJuYW1lOidtZW5hc2UnLFxuICAgICAgICBwYXNzd29yZDoncGFzc3dvcmQgdGVzdCdcbiAgICB9XG5cbiAgICBpdCgnbG9naW4gYSB1c2VyJywgKGRvbmUpPT57XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KCcvYXBpL3VzZXJzL2xvZ2luJylcbiAgICAgICAgLnNlbmQoe3VzZXJuYW1lOmxvZ0luVXNlci51c2VybmFtZSwgcGFzc3dvcmQ6bG9nSW5Vc2VyLnBhc3N3b3JkfSlcbiAgICAgICAgLmVuZChmdW5jdGlvbihlcnIsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuXG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgYXV0VG9rZW4gPSByZXNwb25zZS5ib2R5LlRva2VuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICB9KVxuXG4gICAgLy9wb3N0IGNyZWF0aW9uXG4gICAgaXQoXCJjcmVhdGVzIGEgbmV3IHBvc3RcIiwgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IHVzZXJUb2tlbiA9ICdCZWFyZXIgJyArIGF1dFRva2VuXG4gICAgICAgIFxuICAgICAgICBjb25zdCBwb3N0ID0gbmV3IFBvc3Qoe1xuICAgICAgICAgICAgdGl0bGU6IFwidW5pdCB0ZXN0aW5nXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIkkgYW0gdGVzdGluZyBub2RlanMgYXBpIHVzaW5nIG1vY2hhIHdpdGggY2hhaSBhc3NlcnRpb24gbGlicmFyeVwiXG4gICAgICAgICAgICBcbiAgICAgICAgfSlcbiAgICAgICAgcG9zdC5zYXZlKClcbiAgICAgICAgXG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KFwiL2FwaS9wb3N0c1wiKVxuICAgIFxuICAgICAgICAvL3NldCB0aGUgYXV0aCBoZWFkZXIgd2l0aCBvdXIgdG9rZW5cbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuKVxuICAgICAgICAuc2VuZChwb3N0KVxuICAgICAgICAuZW5kKGZ1bmN0aW9uKGVycm9yLCByZXNwb25zZSkge1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJQb3N0IFNhdmVkIHN1Y2Nlc3NmdWxseVwiKTtcblxuICAgICAgICAgICAgaWQ9IHBvc3QuaWRcbiAgICAgICAgZG9uZSgpOyAgXG4gICAgICAgIH0pO1xuICAgIH0pXG5cblxuICAgIGl0KCdjb21tZW50IG9uIGEgcG9zdCcsIChkb25lKT0+e1xuICAgICAgICBjb25zdCBwb3N0SWQgPSBpZDtcbiAgICAgICAgY29uc3QgbmV3Q29tbWVudCA9IG5ldyBDb21tZW50KHtcbiAgICAgICAgICAgIHBvc3RJZCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOlwidGVzdGluZyBhIGNvbW1lbnRcIlxuICAgICAgICB9KTtcblxuICAgICAgICBuZXdDb21tZW50LnNhdmUoKVxuXG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KGAvYXBpL3Bvc3RzLyR7cG9zdElkfS9jb21tZW50YClcbiAgICAgICAgLnNlbmQobmV3Q29tbWVudClcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuIClcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdjb21tZW50JylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY0lkID0gbmV3Q29tbWVudC5pZFxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgfSlcblxuXG4gICAgaXQoJ2hhbmRsZXMgd2hlbiB5b3Ugd2FudCB0byBjb21tZW50IG9uIG5vbiBleGlzdGluZyBwb3N0JywgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IFwiNjI1OTdmODQxMmY4ZGExM2I0ZTBhMzg1XCJcbiAgICAgICAgY29uc3QgbmV3Q29tbWVudCA9e1xuICAgICAgICAgICAgcG9zdElkLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246XCJ0ZXN0aW5nIGEgY29tbWVudFwiXG4gICAgICAgIH07XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wb3N0KGAvYXBpL3Bvc3RzLyR7cG9zdElkfS9jb21tZW50YClcbiAgICAgICAgLnNlbmQobmV3Q29tbWVudClcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuIClcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiUG9zdCBub3QgYXZhaWxhYmxlXCIpO1xuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIH0pXG4gIFxuICAgIC8qKlxuICAgICAqIEdFVCBjb21tZW50IHJvdXRlXG4gICAgKi9cblxuICAgIGRlc2NyaWJlKCdHRVQgL2FwaS9wb3N0cy86aWQvY29tbWVudCcsICgpPT57XG5cbiAgICBpdCgnc2hvd3MgYWxsIGNvbW1lbnRzIHJlbGF0ZWQgdG8gc3BlY2lmaWMgcG9zdCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgcG9zdElkID0gaWRcbiAgICAgICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgICAgICAuZ2V0KGAvYXBpL3Bvc3RzLyR7cG9zdElkfS9jb21tZW50YClcbiAgICAgICAgICAgIC5zZW5kKHtwb3N0SWR9KVxuICAgICAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLmEoJ29iamVjdCcpXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdyBlcnJvciB3aGVuIHRoYXQgcG9zdCBpbiBub3QgaW4gREInLCAoZG9uZSk9PntcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IFwiNjI1YjA3YzkzY2MyZjJiMDE2M2YxYTc1XCJcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLmdldChgL2FwaS9wb3N0cy8ke3Bvc3RJZH0vY29tbWVudGApXG4gICAgICAgIC5zZW5kKHtwb3N0SWR9KVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwNCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwicG9zdCBub3QgZm91bmRcIilcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBcblxuICAgICAgICBcbiAgICBpdCgnc2hvd3MgaW5kaXZpZHVhbCBjb21tZW50JywgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IGNvbW1lbnRJZCA9IGNJZFxuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAuZ2V0KGAvYXBpL2NvbW1lbnRzLyR7Y29tbWVudElkfWApXG4gICAgICAgIC5zZW5kKHtjb21tZW50SWR9KVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKVxuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnY29tbWVudCcpXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3dzIGVycm9yIGZvciBub24gZXhpc3RpbmcgY29tbWVudCcsIChkb25lKT0+e1xuICAgICAgICBjb25zdCBjb21tZW50SWQgPSBcIjYyNTk0M2U2NGU5ZGQ0NzQ3N2Y5YmU5NlwiXG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5nZXQoYC9hcGkvY29tbWVudHMvJHtjb21tZW50SWR9YClcbiAgICAgICAgLnNlbmQoe2NvbW1lbnRJZH0pXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDA0KTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpXG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdjb21tZW50JykuZXFsKFwiQ29tbWVudCBEb2Vzbid0IEV4aXN0c1wiKVxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgICAgICBcbiAgICAgICAgXG4gICAgfSlcblxuXG4gICAgLyoqXG4gICAgICogREVMRVRFIGNvbW1lbnQgcm91dGVcbiAgICAgKi9cblxuICAgIGRlc2NyaWJlKCdERUxFVEUgL2FwaS9jb21tZW50cy86aWQnLCAoKT0+e1xuICAgICAgICBpdCgnZGVsZXRlcyBjb21tZW50IG9uIGEgcG9zdCcsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgY29tbWVudElkID0gY0lkXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLmRlbGV0ZShgL2FwaS9jb21tZW50cy8ke2NvbW1lbnRJZH1gKVxuICAgICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuIClcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIGl0KCdoYW5kbGVzIHdoZW4geW91IHdhbnQgdG8gZGVsZXRlIG5vbiBleGlzdGluZyBjb21tZW50JywgKGRvbmUpPT57XG4gICAgICAgICAgICBjb25zdCBjb21tZW50SWQgPSBcIjYyNTk0M2U2NGU5ZGQ0NzQ3N2Y5YmU5NlwiXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLmRlbGV0ZShgL2FwaS9jb21tZW50cy8ke2NvbW1lbnRJZH1gKVxuICAgICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuIClcbiAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwNCk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIkNvbW1lbnQgZG9lc24ndCBleGlzdFwiKVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgIH0pXG59KSAgICAiXX0=","map":{"version":3,"sources":["comment_test.js"],"names":["require","config","user","autToken","id","cId","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","logInUser","Token","userToken","Post","title","content","save","set","postId","newComment","Comment","description","get","commentId","delete"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post,Comment} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport { User } from '../models/User';\n\nlet user, autToken, id, cId;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Comment Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });  \n\n    /**\n    * POST comment route\n    */\n\n     describe('POST /api/posts/:id/comment', ()=>{\n         before(()=>{\n             mongoose.connection.dropCollection('users')\n             mongoose.connection.dropCollection('comments')\n         })\n\n        // create user and login \n    it('creates new user ', (done)=>{\n\n        const newUser = new User({\n            username:\"menase\",\n            email:\"menase@mail.com\",\n            password:\"password test\"\n       \n        })\n\n        chai.request(server)\n        .post(\"/api/users\")\n        .send(newUser)\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"user created!\");\n        done();   \n        })\n    })\n\n    // login\n    const logInUser = {\n        username:'menase',\n        password:'password test'\n    }\n\n    it('login a user', (done)=>{\n        chai.request(server)\n        .post('/api/users/login')\n        .send({username:logInUser.username, password:logInUser.password})\n        .end(function(err, response) {\n            if (err) return done(err);\n\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            autToken = response.body.Token\n            \n            done();\n        });\n\n    })\n\n    //post creation\n    it(\"creates a new post\", (done)=>{\n        const userToken = 'Bearer ' + autToken\n        \n        const post = new Post({\n            title: \"unit testing\",\n            content: \"I am testing nodejs api using mocha with chai assertion library\"\n            \n        })\n        post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n    \n        //set the auth header with our token\n        .set('Authorization', 'Bearer ' + autToken)\n        .send(post)\n        .end(function(error, response) {\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post Saved successfully\");\n\n            id= post.id\n        done();  \n        });\n    })\n\n\n    it('comment on a post', (done)=>{\n        const postId = id;\n        const newComment = new Comment({\n            postId,\n            description:\"testing a comment\"\n        });\n\n        newComment.save()\n\n        chai.request(server)\n        .post(`/api/posts/${postId}/comment`)\n        .send(newComment)\n        .set('Authorization', 'Bearer ' + autToken )\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('comment')\n            \n            cId = newComment.id\n        done();\n        })\n    })\n\n\n    it('handles when you want to comment on non existing post', (done)=>{\n        const postId = \"62597f8412f8da13b4e0a385\"\n        const newComment ={\n            postId,\n            description:\"testing a comment\"\n        };\n        chai.request(server)\n        .post(`/api/posts/${postId}/comment`)\n        .send(newComment)\n        .set('Authorization', 'Bearer ' + autToken )\n        .end((err, response)=>{\n            response.should.have.status(404);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post not available\");\n        done();\n        })\n    })\n\n    })\n  \n    /**\n     * GET comment route\n    */\n\n    describe('GET /api/posts/:id/comment', ()=>{\n\n    it('shows all comments related to specific post', (done)=>{\n            const postId = id\n            chai.request(server)\n            .get(`/api/posts/${postId}/comment`)\n            .send({postId})\n            .end((err, response)=>{\n                response.should.have.status(200);\n                response.body.should.have.a('object')\n            done();\n            })\n    })\n\n    it('show error when that post in not in DB', (done)=>{\n        \n        const postId = \"625b07c93cc2f2b0163f1a75\"\n        chai.request(server)\n        .get(`/api/posts/${postId}/comment`)\n        .send({postId})\n        .end((err, response)=>{\n            response.should.have.status(404);\n            response.body.should.have.property('message').eql(\"post not found\")\n        done();\n        })\n    })\n\n    \n\n        \n    it('shows individual comment', (done)=>{\n        const commentId = cId\n        chai.request(server)\n        .get(`/api/comments/${commentId}`)\n        .send({commentId})\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.be.a('object')\n            response.body.should.have.property('comment')\n        done();\n        })\n    })\n\n    it('shows error for non existing comment', (done)=>{\n        const commentId = \"625943e64e9dd47477f9be96\"\n        chai.request(server)\n        .get(`/api/comments/${commentId}`)\n        .send({commentId})\n        .end((err, response)=>{\n            response.should.have.status(404);\n            response.body.should.be.a('object')\n            response.body.should.have.property('comment').eql(\"Comment Doesn't Exists\")\n        done();\n        })\n    })\n\n        \n        \n    })\n\n\n    /**\n     * DELETE comment route\n     */\n\n    describe('DELETE /api/comments/:id', ()=>{\n        it('deletes comment on a post', (done)=>{\n            const commentId = cId\n            chai.request(server)\n            .delete(`/api/comments/${commentId}`)\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(200);\n                \n            done();\n            })\n        })\n\n        it('handles when you want to delete non existing comment', (done)=>{\n            const commentId = \"625943e64e9dd47477f9be96\"\n            chai.request(server)\n            .delete(`/api/comments/${commentId}`)\n            .set('Authorization', 'Bearer ' + autToken )\n            .end((err, response)=>{\n                response.should.have.status(404);\n                response.body.should.have.property('message').eql(\"Comment doesn't exist\")\n            done();\n            })\n        })\n\n    })\n})    "]}},"mtime":1650542329263},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/contact_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"// import mongoose from 'mongoose';\n// import chai from 'chai';\n// import server from \"../index\";\n// import chaiHttp from \"chai-http\";\n// import {Post} from \"../models/Post\";\n// require(\"dotenv\").config();\n// //to mock a function during testing\n// import { User } from '../models/User';\n// let user, autToken;\n// //assertion style\n// chai.should();\n// chai.use(chaiHttp)  \n// describe('Test for Message Endpoints', ()=>{\n//     before(function(done) {\n//         // Connect to MongoDB database\n//     const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n//     mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n//             console.log('Db Connected!')\n//             done();\n//         }).catch((error)=>{\n//             console.log(error)\n//         })\n//     });     \n//     /**\n//  * POST Contact route\n//  */\n// describe('POST /api/messages', ()=>{\n//     before(()=>{\n//         mongoose.connection.dropCollection('messages')\n//     })\n//     it('Send messages', (done)=>{\n//         const message = {\n//             sender: 'test@mail.com',\n//             name:\"Eric gasana\",\n//             message: \"I would like to thank you for those valuable posts\",\n//         }\n//         chai.request(server)\n//         .post(\"/api/messages\")\n//         .send(message)\n//         .end((err, response)=>{\n//             response.should.have.status(201);\n//             response.body.should.property('message').eql(\"Message Sent successfully\")\n//         done();\n//         })\n//     })\n//     it('dont send a message when sender, message content is not provided', (done)=>{\n//         const message = {\n//             sender: '',\n//             name:\"sawa\",\n//             message: \"\",\n//         }\n//         chai.request(server)\n//         .post(\"/api/messages\")\n//         .send(message)\n//         .end((err, response)=>{\n//             response.should.have.status(403);\n//             response.body.should.property('message').eql(\"sender and message are required\")\n//         done();\n//         })\n//     })\n// })\n//     /**\n//      * GET Contact route\n//      */\n//  describe('GET /api/messages', ()=>{\n//     after(()=>{\n//         mongoose.connection.dropCollection('messages')\n//     })\n//     it('get all messages', (done)=>{\n//         chai.request(server)\n//         .get(\"/api/messages\")\n//         .end((err, response)=>{\n//             response.should.have.status(200);\n//             response.body.should.property('message').eql(\"contacts fetched!\")\n//         done();\n//         })\n//     })\n//     // it('don\\'t return any message', (done)=>{\n//     //     chai.request(server)\n//     //     .get(\"/api/message\")\n//     //     .end((err, response)=>{\n//     //         response.should.have.status(404);\n//     //     done();\n//     //     })\n//     // })\n// })\n// })\n\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3RfdGVzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0EiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL3Rlc3QvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbi8vIGltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuLy8gaW1wb3J0IHNlcnZlciBmcm9tIFwiLi4vaW5kZXhcIjtcbi8vIGltcG9ydCBjaGFpSHR0cCBmcm9tIFwiY2hhaS1odHRwXCI7XG4vLyBpbXBvcnQge1Bvc3R9IGZyb20gXCIuLi9tb2RlbHMvUG9zdFwiO1xuLy8gcmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxuXG4vLyAvL3RvIG1vY2sgYSBmdW5jdGlvbiBkdXJpbmcgdGVzdGluZ1xuLy8gaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uL21vZGVscy9Vc2VyJztcblxuLy8gbGV0IHVzZXIsIGF1dFRva2VuO1xuXG4vLyAvL2Fzc2VydGlvbiBzdHlsZVxuLy8gY2hhaS5zaG91bGQoKTtcblxuLy8gY2hhaS51c2UoY2hhaUh0dHApICBcbiAgICBcbiAgICBcbi8vIGRlc2NyaWJlKCdUZXN0IGZvciBNZXNzYWdlIEVuZHBvaW50cycsICgpPT57XG4vLyAgICAgYmVmb3JlKGZ1bmN0aW9uKGRvbmUpIHtcbi8vICAgICAgICAgLy8gQ29ubmVjdCB0byBNb25nb0RCIGRhdGFiYXNlXG4vLyAgICAgY29uc3QgZGJVUkkgPWBtb25nb2RiK3NydjovLyR7cHJvY2Vzcy5lbnYuREJfVVNFUn06JHtwcm9jZXNzLmVudi5EQl9QQVNTV09SRH1Abm9kZS1hcHBsaWNhdGlvbnMuZmU0YXUubW9uZ29kYi5uZXQvbm9kZS10dXRvcmlhbD9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHlgXG4vLyAgICAgbW9uZ29vc2UuY29ubmVjdChkYlVSSSx7dXNlTmV3VXJsUGFyc2VyOnRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTp0cnVlfSkudGhlbigocmVzcG9uc2V1bHQpPT57XG5cbi8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEYiBDb25uZWN0ZWQhJylcblxuLy8gICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgXG4vLyAgICAgICAgIH0pLmNhdGNoKChlcnJvcik9Pntcbi8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuLy8gICAgICAgICB9KVxuXG5cbi8vICAgICB9KTsgICAgIFxuICAgIFxuXG4vLyAgICAgLyoqXG4vLyAgKiBQT1NUIENvbnRhY3Qgcm91dGVcbi8vICAqL1xuXG4vLyBkZXNjcmliZSgnUE9TVCAvYXBpL21lc3NhZ2VzJywgKCk9Pntcbi8vICAgICBiZWZvcmUoKCk9Pntcbi8vICAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wQ29sbGVjdGlvbignbWVzc2FnZXMnKVxuLy8gICAgIH0pXG5cbi8vICAgICBpdCgnU2VuZCBtZXNzYWdlcycsIChkb25lKT0+e1xuLy8gICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuLy8gICAgICAgICAgICAgc2VuZGVyOiAndGVzdEBtYWlsLmNvbScsXG4vLyAgICAgICAgICAgICBuYW1lOlwiRXJpYyBnYXNhbmFcIixcbi8vICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSSB3b3VsZCBsaWtlIHRvIHRoYW5rIHlvdSBmb3IgdGhvc2UgdmFsdWFibGUgcG9zdHNcIixcbiAgICBcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuLy8gICAgICAgICAucG9zdChcIi9hcGkvbWVzc2FnZXNcIilcbi8vICAgICAgICAgLnNlbmQobWVzc2FnZSlcbi8vICAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9Pntcbi8vICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuLy8gICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJNZXNzYWdlIFNlbnQgc3VjY2Vzc2Z1bGx5XCIpXG4vLyAgICAgICAgIGRvbmUoKTtcbi8vICAgICAgICAgfSlcbi8vICAgICB9KVxuXG4vLyAgICAgaXQoJ2RvbnQgc2VuZCBhIG1lc3NhZ2Ugd2hlbiBzZW5kZXIsIG1lc3NhZ2UgY29udGVudCBpcyBub3QgcHJvdmlkZWQnLCAoZG9uZSk9Pntcbi8vICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHtcbi8vICAgICAgICAgICAgIHNlbmRlcjogJycsXG4vLyAgICAgICAgICAgICBuYW1lOlwic2F3YVwiLFxuLy8gICAgICAgICAgICAgbWVzc2FnZTogXCJcIixcbiAgICBcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuLy8gICAgICAgICAucG9zdChcIi9hcGkvbWVzc2FnZXNcIilcbi8vICAgICAgICAgLnNlbmQobWVzc2FnZSlcbi8vICAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9Pntcbi8vICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDMpO1xuLy8gICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJzZW5kZXIgYW5kIG1lc3NhZ2UgYXJlIHJlcXVpcmVkXCIpXG4vLyAgICAgICAgIGRvbmUoKTtcbi8vICAgICAgICAgfSlcbiAgICBcbi8vICAgICB9KVxuLy8gfSlcblxuLy8gICAgIC8qKlxuLy8gICAgICAqIEdFVCBDb250YWN0IHJvdXRlXG4vLyAgICAgICovXG5cbi8vICBkZXNjcmliZSgnR0VUIC9hcGkvbWVzc2FnZXMnLCAoKT0+e1xuLy8gICAgIGFmdGVyKCgpPT57XG4vLyAgICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oJ21lc3NhZ2VzJylcbi8vICAgICB9KVxuLy8gICAgIGl0KCdnZXQgYWxsIG1lc3NhZ2VzJywgKGRvbmUpPT57XG4vLyAgICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4vLyAgICAgICAgIC5nZXQoXCIvYXBpL21lc3NhZ2VzXCIpXG4vLyAgICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4vLyAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgICAgICAgIFxuLy8gICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJjb250YWN0cyBmZXRjaGVkIVwiKVxuLy8gICAgICAgICBkb25lKCk7XG4vLyAgICAgICAgIH0pXG4vLyAgICAgfSlcblxuLy8gICAgIC8vIGl0KCdkb25cXCd0IHJldHVybiBhbnkgbWVzc2FnZScsIChkb25lKT0+e1xuLy8gICAgIC8vICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuLy8gICAgIC8vICAgICAuZ2V0KFwiL2FwaS9tZXNzYWdlXCIpXG4vLyAgICAgLy8gICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4vLyAgICAgLy8gICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDA0KTtcbi8vICAgICAvLyAgICAgZG9uZSgpO1xuLy8gICAgIC8vICAgICB9KVxuLy8gICAgIC8vIH0pXG4vLyB9KVxuXG5cbi8vIH0pIl19","map":{"version":3,"sources":["contact_test.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AAEA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAGA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["// import mongoose from 'mongoose';\n// import chai from 'chai';\n// import server from \"../index\";\n// import chaiHttp from \"chai-http\";\n// import {Post} from \"../models/Post\";\n// require(\"dotenv\").config();\n\n\n// //to mock a function during testing\n// import { User } from '../models/User';\n\n// let user, autToken;\n\n// //assertion style\n// chai.should();\n\n// chai.use(chaiHttp)  \n    \n    \n// describe('Test for Message Endpoints', ()=>{\n//     before(function(done) {\n//         // Connect to MongoDB database\n//     const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n//     mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n//             console.log('Db Connected!')\n\n//             done();\n            \n//         }).catch((error)=>{\n//             console.log(error)\n//         })\n\n\n//     });     \n    \n\n//     /**\n//  * POST Contact route\n//  */\n\n// describe('POST /api/messages', ()=>{\n//     before(()=>{\n//         mongoose.connection.dropCollection('messages')\n//     })\n\n//     it('Send messages', (done)=>{\n//         const message = {\n//             sender: 'test@mail.com',\n//             name:\"Eric gasana\",\n//             message: \"I would like to thank you for those valuable posts\",\n    \n//         }\n//         chai.request(server)\n//         .post(\"/api/messages\")\n//         .send(message)\n//         .end((err, response)=>{\n//             response.should.have.status(201);\n//             response.body.should.property('message').eql(\"Message Sent successfully\")\n//         done();\n//         })\n//     })\n\n//     it('dont send a message when sender, message content is not provided', (done)=>{\n//         const message = {\n//             sender: '',\n//             name:\"sawa\",\n//             message: \"\",\n    \n//         }\n//         chai.request(server)\n//         .post(\"/api/messages\")\n//         .send(message)\n//         .end((err, response)=>{\n//             response.should.have.status(403);\n//             response.body.should.property('message').eql(\"sender and message are required\")\n//         done();\n//         })\n    \n//     })\n// })\n\n//     /**\n//      * GET Contact route\n//      */\n\n//  describe('GET /api/messages', ()=>{\n//     after(()=>{\n//         mongoose.connection.dropCollection('messages')\n//     })\n//     it('get all messages', (done)=>{\n//         chai.request(server)\n//         .get(\"/api/messages\")\n//         .end((err, response)=>{\n//             response.should.have.status(200);\n            \n//             response.body.should.property('message').eql(\"contacts fetched!\")\n//         done();\n//         })\n//     })\n\n//     // it('don\\'t return any message', (done)=>{\n//     //     chai.request(server)\n//     //     .get(\"/api/message\")\n//     //     .end((err, response)=>{\n//     //         response.should.have.status(404);\n//     //     done();\n//     //     })\n//     // })\n// })\n\n\n// })"]}},"mtime":1650541143971},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/post_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _Post = require(\"../models/Post\");\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config(); //to mock a function during testing\n\n\nlet user, autToken, id; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for Post Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n   * POST a post route\n   */\n\n  describe(\"POST /api/posts\", () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection('users');\n\n      _mongoose.default.connection.dropCollection('posts');\n    }); // create user and login \n\n    it('creates new user ', done => {\n      const newUser = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(newUser).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user created!\");\n        done();\n      });\n    }); // login\n\n    const logInUser = {\n      username: 'menase',\n      password: 'password test'\n    };\n    it('login a user', done => {\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        autToken = response.body.Token;\n        done();\n      });\n    });\n    it(\"creates a new post\", done => {\n      const userToken = 'Bearer ' + autToken;\n      const post = new _Post.Post({\n        title: \"unit testing\",\n        content: \"I am testing nodejs api using mocha with chai assertion library\"\n      });\n      post.save();\n\n      _chai.default.request(_index.default).post(\"/api/posts\") //set the auth header with our token\n      .set('Authorization', 'Bearer ' + autToken).send(post).end(function (error, response) {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Post Saved successfully\");\n        id = post.id;\n        done();\n      });\n    });\n    const userToken = 'Bearer ' + autToken;\n    it(\"fails to create a post due to unathorized user\", done => {\n      const post = new _Post.Post({\n        title: \"keza testing \",\n        content: \"unit testing with mocha and user keza\"\n      }); // post.save()\n\n      _chai.default.request(_index.default).post(\"/api/posts\").send(post) //set the auth header with our token\n      .set('Authorization', userToken).end(function (error, response) {\n        response.should.have.status(403);\n        response.body.should.have.property('message').eql(\"Invalid token\");\n        done();\n      });\n    });\n    it(\"do not create a post without title and content\", done => {\n      const post = new _Post.Post({\n        title: \"\",\n        content: \"\"\n      }); // post.save()\n\n      _chai.default.request(_index.default).post(\"/api/posts\") //set the auth header with our token\n      .set('Authorization', 'Bearer ' + autToken).send(post).end(function (error, response) {\n        response.should.have.status(400);\n        response.body.should.have.property('message').eql(\"Title and content are required\");\n        done();\n      });\n    });\n  });\n  /**\n   * test GET posts route\n   */\n\n  describe(\"GET /api/posts\", () => {\n    it(\"returns all posts\", done => {\n      _chai.default.request(_index.default).get(\"/api/posts\").end((err, response) => {\n        response.should.have.status(200);\n        response.body.message.should.be.eq(\"Fetched successfully\");\n        done();\n      });\n    }); // it(\"not returns all posts\", (done)=>{\n    //     chai.request(server)\n    //     .get(\"/api/post\")\n    //     .end((err, response)=>{\n    //         response.should.have.status(404);\n    //     done();\n    //     })\n    // })\n  });\n  /**\n   * test GET(by id) post route\n   */\n\n  describe(\"GET /api/posts/:id\", () => {\n    it(\"returns a single post\", done => {\n      const postId = id;\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}`).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        response.body.message.should.be.eq(\"successfully fetched\");\n        done();\n      });\n    });\n    it(\"not returns a single post at this id\", done => {\n      const postId = 1234;\n\n      _chai.default.request(_index.default).get(`/api/posts/${postId}`).end((err, responseponse) => {\n        responseponse.should.have.status(404);\n        responseponse.body.error.should.be.eq(\"Post does not exist!\");\n        done();\n      });\n    });\n  });\n  /**\n   * PUT a post route\n   */\n\n  describe('PUT /api/posts/:id', () => {\n    it('updates a post', done => {\n      const postId = id;\n      const post = {\n        title: \"unit testing\",\n        content: \"mocha Js framework for testing\"\n      };\n\n      _chai.default.request(_index.default).patch(`/api/posts/${postId}`).send(post).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Post successfully updated!\");\n        done();\n      });\n    });\n    it('don\\'t updates a post when title or content is empty', done => {\n      const postId = id;\n      const post = {\n        title: \"avicii\",\n        content: \"\"\n      };\n\n      _chai.default.request(_index.default).patch(`/api/posts/${postId}`).send(post).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(400);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Title and content need value!\");\n        done();\n      });\n    });\n  });\n  /**\n   * DELETE post route\n   */\n\n  describe('DELETE /api/posts/:id', () => {\n    after(() => {\n      _mongoose.default.connection.dropCollection('users');\n\n      _mongoose.default.connection.dropCollection('posts');\n    });\n    it('It deletes a post', done => {\n      const postId = id;\n\n      _chai.default.request(_index.default).delete(`/api/posts/${postId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(200);\n        done();\n      });\n    });\n    it('It should not delete post that doesn\\'t exist in DB', done => {\n      const postId = id;\n\n      _chai.default.request(_index.default).delete(`/api/posts/${postId}`).set('Authorization', 'Bearer ' + autToken).end((err, response) => {\n        response.should.have.status(404);\n        response.body.should.have.property('error').eql(\"Post doesn't exist!\");\n        done();\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImF1dFRva2VuIiwiaWQiLCJjaGFpIiwic2hvdWxkIiwidXNlIiwiY2hhaUh0dHAiLCJkZXNjcmliZSIsImJlZm9yZSIsImRvbmUiLCJkYlVSSSIsInByb2Nlc3MiLCJlbnYiLCJEQl9VU0VSIiwiREJfUEFTU1dPUkQiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwicmVzcG9uc2V1bHQiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsImNvbm5lY3Rpb24iLCJkcm9wQ29sbGVjdGlvbiIsIml0IiwibmV3VXNlciIsIlVzZXIiLCJ1c2VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJyZXF1ZXN0Iiwic2VydmVyIiwicG9zdCIsInNlbmQiLCJlbmQiLCJlcnIiLCJyZXNwb25zZSIsImhhdmUiLCJzdGF0dXMiLCJib2R5IiwiYmUiLCJhIiwicHJvcGVydHkiLCJlcWwiLCJsb2dJblVzZXIiLCJUb2tlbiIsInVzZXJUb2tlbiIsIlBvc3QiLCJ0aXRsZSIsImNvbnRlbnQiLCJzYXZlIiwic2V0IiwiZ2V0IiwibWVzc2FnZSIsImVxIiwicG9zdElkIiwicmVzcG9uc2Vwb25zZSIsInBhdGNoIiwiYWZ0ZXIiLCJkZWxldGUiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBS0E7Ozs7QUFKQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsRyxDQUdBOzs7QUFHQSxJQUFJQyxJQUFKLEVBQVVDLFFBQVYsRUFBb0JDLEVBQXBCLEMsQ0FFQTs7QUFDQUMsY0FBS0MsTUFBTDs7QUFFQUQsY0FBS0UsR0FBTCxDQUFTQyxpQkFBVDs7QUFHQUMsUUFBUSxDQUFDLHlCQUFELEVBQTRCLE1BQUk7QUFDcENDLEVBQUFBLE1BQU0sQ0FBQyxVQUFTQyxJQUFULEVBQWU7QUFDbEI7QUFDSixVQUFNQyxLQUFLLEdBQUcsaUJBQWdCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsT0FBUSxJQUFHRixPQUFPLENBQUNDLEdBQVIsQ0FBWUUsV0FBWSxnRkFBN0U7O0FBQ0FDLHNCQUFTQyxPQUFULENBQWlCTixLQUFqQixFQUF1QjtBQUFDTyxNQUFBQSxlQUFlLEVBQUMsSUFBakI7QUFBdUJDLE1BQUFBLGtCQUFrQixFQUFDO0FBQTFDLEtBQXZCLEVBQXdFQyxJQUF4RSxDQUE4RUMsV0FBRCxJQUFlO0FBRXBGQyxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxlQUFaO0FBRUFiLE1BQUFBLElBQUk7QUFFUCxLQU5MLEVBTU9jLEtBTlAsQ0FNY0MsS0FBRCxJQUFTO0FBQ2RILE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxLQUFaO0FBQ0gsS0FSTDtBQVdDLEdBZEssQ0FBTjtBQWlCQTtBQUNKO0FBQ0E7O0FBRUFqQixFQUFBQSxRQUFRLENBQUMsaUJBQUQsRUFBb0IsTUFBSTtBQUM1QkMsSUFBQUEsTUFBTSxDQUFDLE1BQUk7QUFDUE8sd0JBQVNVLFVBQVQsQ0FBb0JDLGNBQXBCLENBQW1DLE9BQW5DOztBQUNBWCx3QkFBU1UsVUFBVCxDQUFvQkMsY0FBcEIsQ0FBbUMsT0FBbkM7QUFDSCxLQUhLLENBQU4sQ0FENEIsQ0FRNUI7O0FBQ0FDLElBQUFBLEVBQUUsQ0FBQyxtQkFBRCxFQUF1QmxCLElBQUQsSUFBUTtBQUU1QixZQUFNbUIsT0FBTyxHQUFHLElBQUlDLFVBQUosQ0FBUztBQUNyQkMsUUFBQUEsUUFBUSxFQUFDLFFBRFk7QUFFckJDLFFBQUFBLEtBQUssRUFBQyxpQkFGZTtBQUdyQkMsUUFBQUEsUUFBUSxFQUFDO0FBSFksT0FBVCxDQUFoQjs7QUFPQTdCLG9CQUFLOEIsT0FBTCxDQUFhQyxjQUFiLEVBQ0NDLElBREQsQ0FDTSxZQUROLEVBRUNDLElBRkQsQ0FFTVIsT0FGTixFQUdDUyxHQUhELENBR0ssQ0FBQ0MsR0FBRCxFQUFNQyxRQUFOLEtBQWlCO0FBQ2xCQSxRQUFBQSxRQUFRLENBQUNuQyxNQUFULENBQWdCb0MsSUFBaEIsQ0FBcUJDLE1BQXJCLENBQTRCLEdBQTVCO0FBQ0FGLFFBQUFBLFFBQVEsQ0FBQ0csSUFBVCxDQUFjdEMsTUFBZCxDQUFxQnVDLEVBQXJCLENBQXdCQyxDQUF4QixDQUEwQixRQUExQjtBQUNBTCxRQUFBQSxRQUFRLENBQUNHLElBQVQsQ0FBY3RDLE1BQWQsQ0FBcUJvQyxJQUFyQixDQUEwQkssUUFBMUIsQ0FBbUMsU0FBbkMsRUFBOENDLEdBQTlDLENBQWtELGVBQWxEO0FBQ0pyQyxRQUFBQSxJQUFJO0FBQ0gsT0FSRDtBQVNILEtBbEJDLENBQUYsQ0FUNEIsQ0E4QjVCOztBQUNBLFVBQU1zQyxTQUFTLEdBQUc7QUFDZGpCLE1BQUFBLFFBQVEsRUFBQyxRQURLO0FBRWRFLE1BQUFBLFFBQVEsRUFBQztBQUZLLEtBQWxCO0FBS0FMLElBQUFBLEVBQUUsQ0FBQyxjQUFELEVBQWtCbEIsSUFBRCxJQUFRO0FBQ3ZCTixvQkFBSzhCLE9BQUwsQ0FBYUMsY0FBYixFQUNDQyxJQURELENBQ00sa0JBRE4sRUFFQ0MsSUFGRCxDQUVNO0FBQUNOLFFBQUFBLFFBQVEsRUFBQ2lCLFNBQVMsQ0FBQ2pCLFFBQXBCO0FBQThCRSxRQUFBQSxRQUFRLEVBQUNlLFNBQVMsQ0FBQ2Y7QUFBakQsT0FGTixFQUdDSyxHQUhELENBR0ssVUFBU0MsR0FBVCxFQUFjQyxRQUFkLEVBQXdCO0FBQ3pCLFlBQUlELEdBQUosRUFBUyxPQUFPN0IsSUFBSSxDQUFDNkIsR0FBRCxDQUFYO0FBRVRDLFFBQUFBLFFBQVEsQ0FBQ25DLE1BQVQsQ0FBZ0JvQyxJQUFoQixDQUFxQkMsTUFBckIsQ0FBNEIsR0FBNUI7QUFDQUYsUUFBQUEsUUFBUSxDQUFDRyxJQUFULENBQWN0QyxNQUFkLENBQXFCdUMsRUFBckIsQ0FBd0JDLENBQXhCLENBQTBCLFFBQTFCO0FBQ0EzQyxRQUFBQSxRQUFRLEdBQUdzQyxRQUFRLENBQUNHLElBQVQsQ0FBY00sS0FBekI7QUFFQXZDLFFBQUFBLElBQUk7QUFDUCxPQVhEO0FBYUgsS0FkQyxDQUFGO0FBZ0JBa0IsSUFBQUEsRUFBRSxDQUFDLG9CQUFELEVBQXdCbEIsSUFBRCxJQUFRO0FBQzdCLFlBQU13QyxTQUFTLEdBQUcsWUFBWWhELFFBQTlCO0FBRUEsWUFBTWtDLElBQUksR0FBRyxJQUFJZSxVQUFKLENBQVM7QUFDbEJDLFFBQUFBLEtBQUssRUFBRSxjQURXO0FBRWxCQyxRQUFBQSxPQUFPLEVBQUU7QUFGUyxPQUFULENBQWI7QUFLQWpCLE1BQUFBLElBQUksQ0FBQ2tCLElBQUw7O0FBRUFsRCxvQkFBSzhCLE9BQUwsQ0FBYUMsY0FBYixFQUNDQyxJQURELENBQ00sWUFETixFQUdBO0FBSEEsT0FJQ21CLEdBSkQsQ0FJSyxlQUpMLEVBSXNCLFlBQVlyRCxRQUpsQyxFQUtDbUMsSUFMRCxDQUtNRCxJQUxOLEVBTUNFLEdBTkQsQ0FNSyxVQUFTYixLQUFULEVBQWdCZSxRQUFoQixFQUEwQjtBQUMzQkEsUUFBQUEsUUFBUSxDQUFDbkMsTUFBVCxDQUFnQm9DLElBQWhCLENBQXFCQyxNQUFyQixDQUE0QixHQUE1QjtBQUNBRixRQUFBQSxRQUFRLENBQUNHLElBQVQsQ0FBY3RDLE1BQWQsQ0FBcUJ1QyxFQUFyQixDQUF3QkMsQ0FBeEIsQ0FBMEIsUUFBMUI7QUFDQUwsUUFBQUEsUUFBUSxDQUFDRyxJQUFULENBQWN0QyxNQUFkLENBQXFCb0MsSUFBckIsQ0FBMEJLLFFBQTFCLENBQW1DLFNBQW5DLEVBQThDQyxHQUE5QyxDQUFrRCx5QkFBbEQ7QUFFQTVDLFFBQUFBLEVBQUUsR0FBRWlDLElBQUksQ0FBQ2pDLEVBQVQ7QUFDSk8sUUFBQUEsSUFBSTtBQUNILE9BYkQ7QUFjSCxLQXhCQyxDQUFGO0FBMkJBLFVBQU13QyxTQUFTLEdBQUcsWUFBWWhELFFBQTlCO0FBRUEwQixJQUFBQSxFQUFFLENBQUMsZ0RBQUQsRUFBb0RsQixJQUFELElBQVE7QUFFekQsWUFBTTBCLElBQUksR0FBRyxJQUFJZSxVQUFKLENBQVM7QUFDbEJDLFFBQUFBLEtBQUssRUFBRSxlQURXO0FBRWxCQyxRQUFBQSxPQUFPLEVBQUU7QUFGUyxPQUFULENBQWIsQ0FGeUQsQ0FPekQ7O0FBRUFqRCxvQkFBSzhCLE9BQUwsQ0FBYUMsY0FBYixFQUNDQyxJQURELENBQ00sWUFETixFQUVDQyxJQUZELENBRU1ELElBRk4sRUFHQTtBQUhBLE9BSUNtQixHQUpELENBSUssZUFKTCxFQUlzQkwsU0FKdEIsRUFLQ1osR0FMRCxDQUtLLFVBQVNiLEtBQVQsRUFBZ0JlLFFBQWhCLEVBQTBCO0FBQzNCQSxRQUFBQSxRQUFRLENBQUNuQyxNQUFULENBQWdCb0MsSUFBaEIsQ0FBcUJDLE1BQXJCLENBQTRCLEdBQTVCO0FBQ0FGLFFBQUFBLFFBQVEsQ0FBQ0csSUFBVCxDQUFjdEMsTUFBZCxDQUFxQm9DLElBQXJCLENBQTBCSyxRQUExQixDQUFtQyxTQUFuQyxFQUE4Q0MsR0FBOUMsQ0FBa0QsZUFBbEQ7QUFDSnJDLFFBQUFBLElBQUk7QUFDSCxPQVREO0FBWUgsS0FyQkMsQ0FBRjtBQXVCQWtCLElBQUFBLEVBQUUsQ0FBQyxnREFBRCxFQUFvRGxCLElBQUQsSUFBUTtBQUV6RCxZQUFNMEIsSUFBSSxHQUFHLElBQUllLFVBQUosQ0FBUztBQUNsQkMsUUFBQUEsS0FBSyxFQUFFLEVBRFc7QUFFbEJDLFFBQUFBLE9BQU8sRUFBRTtBQUZTLE9BQVQsQ0FBYixDQUZ5RCxDQU96RDs7QUFFQWpELG9CQUFLOEIsT0FBTCxDQUFhQyxjQUFiLEVBQ0NDLElBREQsQ0FDTSxZQUROLEVBR0E7QUFIQSxPQUlDbUIsR0FKRCxDQUlLLGVBSkwsRUFJc0IsWUFBWXJELFFBSmxDLEVBS0NtQyxJQUxELENBS01ELElBTE4sRUFNQ0UsR0FORCxDQU1LLFVBQVNiLEtBQVQsRUFBZ0JlLFFBQWhCLEVBQTBCO0FBQzNCQSxRQUFBQSxRQUFRLENBQUNuQyxNQUFULENBQWdCb0MsSUFBaEIsQ0FBcUJDLE1BQXJCLENBQTRCLEdBQTVCO0FBQ0FGLFFBQUFBLFFBQVEsQ0FBQ0csSUFBVCxDQUFjdEMsTUFBZCxDQUFxQm9DLElBQXJCLENBQTBCSyxRQUExQixDQUFtQyxTQUFuQyxFQUE4Q0MsR0FBOUMsQ0FBa0QsZ0NBQWxEO0FBQ0pyQyxRQUFBQSxJQUFJO0FBQ0gsT0FWRDtBQVdILEtBcEJDLENBQUY7QUF1QkgsR0EvSE8sQ0FBUjtBQWtJSTtBQUNKO0FBQ0E7O0FBRUVGLEVBQUFBLFFBQVEsQ0FBQyxnQkFBRCxFQUFtQixNQUFJO0FBRTdCb0IsSUFBQUEsRUFBRSxDQUFDLG1CQUFELEVBQXVCbEIsSUFBRCxJQUFRO0FBQzVCTixvQkFBSzhCLE9BQUwsQ0FBYUMsY0FBYixFQUNDcUIsR0FERCxDQUNLLFlBREwsRUFFQ2xCLEdBRkQsQ0FFSyxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBaUI7QUFDbEJBLFFBQUFBLFFBQVEsQ0FBQ25DLE1BQVQsQ0FBZ0JvQyxJQUFoQixDQUFxQkMsTUFBckIsQ0FBNEIsR0FBNUI7QUFDQUYsUUFBQUEsUUFBUSxDQUFDRyxJQUFULENBQWNjLE9BQWQsQ0FBc0JwRCxNQUF0QixDQUE2QnVDLEVBQTdCLENBQWdDYyxFQUFoQyxDQUFtQyxzQkFBbkM7QUFDSmhELFFBQUFBLElBQUk7QUFDSCxPQU5EO0FBUUgsS0FUQyxDQUFGLENBRjZCLENBYTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFHSCxHQXpCUyxDQUFSO0FBMkJGO0FBQ0E7QUFDQTs7QUFFQUYsRUFBQUEsUUFBUSxDQUFDLG9CQUFELEVBQXVCLE1BQUk7QUFFL0JvQixJQUFBQSxFQUFFLENBQUMsdUJBQUQsRUFBMkJsQixJQUFELElBQVE7QUFDaEMsWUFBTWlELE1BQU0sR0FBR3hELEVBQWY7O0FBQ0FDLG9CQUFLOEIsT0FBTCxDQUFhQyxjQUFiLEVBQ0NxQixHQURELENBQ00sY0FBYUcsTUFBTyxFQUQxQixFQUVDckIsR0FGRCxDQUVLLENBQUNDLEdBQUQsRUFBTUMsUUFBTixLQUFpQjtBQUNsQkEsUUFBQUEsUUFBUSxDQUFDbkMsTUFBVCxDQUFnQm9DLElBQWhCLENBQXFCQyxNQUFyQixDQUE0QixHQUE1QjtBQUNBRixRQUFBQSxRQUFRLENBQUNHLElBQVQsQ0FBY3RDLE1BQWQsQ0FBcUJ1QyxFQUFyQixDQUF3QkMsQ0FBeEIsQ0FBMEIsUUFBMUI7QUFDQUwsUUFBQUEsUUFBUSxDQUFDRyxJQUFULENBQWNjLE9BQWQsQ0FBc0JwRCxNQUF0QixDQUE2QnVDLEVBQTdCLENBQWdDYyxFQUFoQyxDQUFtQyxzQkFBbkM7QUFFSmhELFFBQUFBLElBQUk7QUFDSCxPQVJEO0FBVUgsS0FaQyxDQUFGO0FBZUFrQixJQUFBQSxFQUFFLENBQUMsc0NBQUQsRUFBMENsQixJQUFELElBQVE7QUFDL0MsWUFBTWlELE1BQU0sR0FBRyxJQUFmOztBQUNBdkQsb0JBQUs4QixPQUFMLENBQWFDLGNBQWIsRUFDQ3FCLEdBREQsQ0FDTSxjQUFhRyxNQUFPLEVBRDFCLEVBRUNyQixHQUZELENBRUssQ0FBQ0MsR0FBRCxFQUFNcUIsYUFBTixLQUFzQjtBQUN2QkEsUUFBQUEsYUFBYSxDQUFDdkQsTUFBZCxDQUFxQm9DLElBQXJCLENBQTBCQyxNQUExQixDQUFpQyxHQUFqQztBQUNBa0IsUUFBQUEsYUFBYSxDQUFDakIsSUFBZCxDQUFtQmxCLEtBQW5CLENBQXlCcEIsTUFBekIsQ0FBZ0N1QyxFQUFoQyxDQUFtQ2MsRUFBbkMsQ0FBc0Msc0JBQXRDO0FBRUpoRCxRQUFBQSxJQUFJO0FBQ0gsT0FQRDtBQVNILEtBWEMsQ0FBRjtBQVlILEdBN0JPLENBQVI7QUFpQ0k7QUFDSjtBQUNBOztBQUVDRixFQUFBQSxRQUFRLENBQUMsb0JBQUQsRUFBdUIsTUFBSTtBQUNoQ29CLElBQUFBLEVBQUUsQ0FBQyxnQkFBRCxFQUFvQmxCLElBQUQsSUFBUTtBQUV6QixZQUFNaUQsTUFBTSxHQUFHeEQsRUFBZjtBQUNBLFlBQU1pQyxJQUFJLEdBQUc7QUFDVGdCLFFBQUFBLEtBQUssRUFBRSxjQURFO0FBRVRDLFFBQUFBLE9BQU8sRUFBRTtBQUZBLE9BQWI7O0FBS0FqRCxvQkFBSzhCLE9BQUwsQ0FBYUMsY0FBYixFQUNDMEIsS0FERCxDQUNRLGNBQWFGLE1BQU8sRUFENUIsRUFFQ3RCLElBRkQsQ0FFTUQsSUFGTixFQUdDbUIsR0FIRCxDQUdLLGVBSEwsRUFHc0IsWUFBWXJELFFBSGxDLEVBSUNvQyxHQUpELENBSUssQ0FBQ0MsR0FBRCxFQUFNQyxRQUFOLEtBQWlCO0FBQ2xCQSxRQUFBQSxRQUFRLENBQUNuQyxNQUFULENBQWdCb0MsSUFBaEIsQ0FBcUJDLE1BQXJCLENBQTRCLEdBQTVCO0FBQ0FGLFFBQUFBLFFBQVEsQ0FBQ0csSUFBVCxDQUFjdEMsTUFBZCxDQUFxQnVDLEVBQXJCLENBQXdCQyxDQUF4QixDQUEwQixRQUExQjtBQUNBTCxRQUFBQSxRQUFRLENBQUNHLElBQVQsQ0FBY3RDLE1BQWQsQ0FBcUJvQyxJQUFyQixDQUEwQkssUUFBMUIsQ0FBbUMsU0FBbkMsRUFBOENDLEdBQTlDLENBQWtELDRCQUFsRDtBQUVKckMsUUFBQUEsSUFBSTtBQUNILE9BVkQ7QUFXSCxLQW5CQyxDQUFGO0FBcUJBa0IsSUFBQUEsRUFBRSxDQUFDLHNEQUFELEVBQTBEbEIsSUFBRCxJQUFRO0FBRS9ELFlBQU1pRCxNQUFNLEdBQUd4RCxFQUFmO0FBQ0EsWUFBTWlDLElBQUksR0FBRztBQUNUZ0IsUUFBQUEsS0FBSyxFQUFFLFFBREU7QUFFVEMsUUFBQUEsT0FBTyxFQUFFO0FBRkEsT0FBYjs7QUFLQWpELG9CQUFLOEIsT0FBTCxDQUFhQyxjQUFiLEVBQ0MwQixLQURELENBQ1EsY0FBYUYsTUFBTyxFQUQ1QixFQUVDdEIsSUFGRCxDQUVNRCxJQUZOLEVBR0NtQixHQUhELENBR0ssZUFITCxFQUdzQixZQUFZckQsUUFIbEMsRUFJQ29DLEdBSkQsQ0FJSyxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBaUI7QUFDbEJBLFFBQUFBLFFBQVEsQ0FBQ25DLE1BQVQsQ0FBZ0JvQyxJQUFoQixDQUFxQkMsTUFBckIsQ0FBNEIsR0FBNUI7QUFDQUYsUUFBQUEsUUFBUSxDQUFDRyxJQUFULENBQWN0QyxNQUFkLENBQXFCdUMsRUFBckIsQ0FBd0JDLENBQXhCLENBQTBCLFFBQTFCO0FBQ0FMLFFBQUFBLFFBQVEsQ0FBQ0csSUFBVCxDQUFjdEMsTUFBZCxDQUFxQm9DLElBQXJCLENBQTBCSyxRQUExQixDQUFtQyxTQUFuQyxFQUE4Q0MsR0FBOUMsQ0FBa0QsK0JBQWxEO0FBRUpyQyxRQUFBQSxJQUFJO0FBQ0gsT0FWRDtBQVdILEtBbkJDLENBQUY7QUFzQkgsR0E1Q1EsQ0FBUjtBQThDRztBQUNKO0FBQ0E7O0FBRUVGLEVBQUFBLFFBQVEsQ0FBQyx1QkFBRCxFQUEwQixNQUFJO0FBQ2xDc0QsSUFBQUEsS0FBSyxDQUFDLE1BQUk7QUFDUjlDLHdCQUFTVSxVQUFULENBQW9CQyxjQUFwQixDQUFtQyxPQUFuQzs7QUFDQVgsd0JBQVNVLFVBQVQsQ0FBb0JDLGNBQXBCLENBQW1DLE9BQW5DO0FBQ0QsS0FISSxDQUFMO0FBTUZDLElBQUFBLEVBQUUsQ0FBQyxtQkFBRCxFQUF1QmxCLElBQUQsSUFBUTtBQUM1QixZQUFNaUQsTUFBTSxHQUFHeEQsRUFBZjs7QUFDQUMsb0JBQUs4QixPQUFMLENBQWFDLGNBQWIsRUFDQzRCLE1BREQsQ0FDUyxjQUFhSixNQUFPLEVBRDdCLEVBRUNKLEdBRkQsQ0FFSyxlQUZMLEVBRXNCLFlBQVlyRCxRQUZsQyxFQUdDb0MsR0FIRCxDQUdLLENBQUNDLEdBQUQsRUFBTUMsUUFBTixLQUFpQjtBQUNsQkEsUUFBQUEsUUFBUSxDQUFDbkMsTUFBVCxDQUFnQm9DLElBQWhCLENBQXFCQyxNQUFyQixDQUE0QixHQUE1QjtBQUVKaEMsUUFBQUEsSUFBSTtBQUNILE9BUEQ7QUFRSCxLQVZDLENBQUY7QUFZQWtCLElBQUFBLEVBQUUsQ0FBQyxxREFBRCxFQUF5RGxCLElBQUQsSUFBUTtBQUM5RCxZQUFNaUQsTUFBTSxHQUFHeEQsRUFBZjs7QUFDQUMsb0JBQUs4QixPQUFMLENBQWFDLGNBQWIsRUFDQzRCLE1BREQsQ0FDUyxjQUFhSixNQUFPLEVBRDdCLEVBRUNKLEdBRkQsQ0FFSyxlQUZMLEVBRXNCLFlBQVlyRCxRQUZsQyxFQUdDb0MsR0FIRCxDQUdLLENBQUNDLEdBQUQsRUFBTUMsUUFBTixLQUFpQjtBQUNsQkEsUUFBQUEsUUFBUSxDQUFDbkMsTUFBVCxDQUFnQm9DLElBQWhCLENBQXFCQyxNQUFyQixDQUE0QixHQUE1QjtBQUNBRixRQUFBQSxRQUFRLENBQUNHLElBQVQsQ0FBY3RDLE1BQWQsQ0FBcUJvQyxJQUFyQixDQUEwQkssUUFBMUIsQ0FBbUMsT0FBbkMsRUFBNENDLEdBQTVDLENBQWdELHFCQUFoRDtBQUNKckMsUUFBQUEsSUFBSTtBQUNILE9BUEQ7QUFRSCxLQVZDLENBQUY7QUFjSCxHQWpDUyxDQUFSO0FBbUNELENBclRPLENBQVIiLCJzb3VyY2VSb290IjoiL2hvbWUvbnlha2Ftd2UvRGVza3RvcC9teS1icmFuZC1ueWFrYW13ZS9zZXJ2ZXIvc3JjL3Rlc3QvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuaW1wb3J0IHNlcnZlciBmcm9tIFwiLi4vaW5kZXhcIjtcbmltcG9ydCBjaGFpSHR0cCBmcm9tIFwiY2hhaS1odHRwXCI7XG5pbXBvcnQge1Bvc3R9IGZyb20gXCIuLi9tb2RlbHMvUG9zdFwiO1xucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxuXG4vL3RvIG1vY2sgYSBmdW5jdGlvbiBkdXJpbmcgdGVzdGluZ1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uL21vZGVscy9Vc2VyJztcblxubGV0IHVzZXIsIGF1dFRva2VuLCBpZDtcblxuLy9hc3NlcnRpb24gc3R5bGVcbmNoYWkuc2hvdWxkKCk7XG5cbmNoYWkudXNlKGNoYWlIdHRwKSAgXG4gICAgXG4gICAgXG5kZXNjcmliZSgnVGVzdCBmb3IgUG9zdCBFbmRwb2ludHMnLCAoKT0+e1xuICAgIGJlZm9yZShmdW5jdGlvbihkb25lKSB7XG4gICAgICAgIC8vIENvbm5lY3QgdG8gTW9uZ29EQiBkYXRhYmFzZVxuICAgIGNvbnN0IGRiVVJJID1gbW9uZ29kYitzcnY6Ly8ke3Byb2Nlc3MuZW52LkRCX1VTRVJ9OiR7cHJvY2Vzcy5lbnYuREJfUEFTU1dPUkR9QG5vZGUtYXBwbGljYXRpb25zLmZlNGF1Lm1vbmdvZGIubmV0L25vZGUtdHV0b3JpYWw/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5YFxuICAgIG1vbmdvb3NlLmNvbm5lY3QoZGJVUkkse3VzZU5ld1VybFBhcnNlcjp0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6dHJ1ZX0pLnRoZW4oKHJlc3BvbnNldWx0KT0+e1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGIgQ29ubmVjdGVkIScpXG5cbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9KS5jYXRjaCgoZXJyb3IpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgICAgfSlcblxuXG4gICAgfSk7ICAgXG4gICAgXG4gICAgXG4gICAgLyoqXG4gICAgICogUE9TVCBhIHBvc3Qgcm91dGVcbiAgICAgKi9cblxuZGVzY3JpYmUoXCJQT1NUIC9hcGkvcG9zdHNcIiwgKCk9PntcbiAgICBiZWZvcmUoKCk9PntcbiAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wQ29sbGVjdGlvbigndXNlcnMnKVxuICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCdwb3N0cycpXG4gICAgfSlcbiAgIFxuICAgIFxuXG4gICAgLy8gY3JlYXRlIHVzZXIgYW5kIGxvZ2luIFxuICAgIGl0KCdjcmVhdGVzIG5ldyB1c2VyICcsIChkb25lKT0+e1xuXG4gICAgICAgIGNvbnN0IG5ld1VzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICB1c2VybmFtZTpcIm1lbmFzZVwiLFxuICAgICAgICAgICAgZW1haWw6XCJtZW5hc2VAbWFpbC5jb21cIixcbiAgICAgICAgICAgIHBhc3N3b3JkOlwicGFzc3dvcmQgdGVzdFwiXG4gICAgICAgXG4gICAgICAgIH0pXG5cbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoXCIvYXBpL3VzZXJzXCIpXG4gICAgICAgIC5zZW5kKG5ld1VzZXIpXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAxKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcInVzZXIgY3JlYXRlZCFcIik7XG4gICAgICAgIGRvbmUoKTsgICBcbiAgICAgICAgfSlcbiAgICB9KVxuXG5cbiAgICAvLyBsb2dpblxuICAgIGNvbnN0IGxvZ0luVXNlciA9IHtcbiAgICAgICAgdXNlcm5hbWU6J21lbmFzZScsXG4gICAgICAgIHBhc3N3b3JkOidwYXNzd29yZCB0ZXN0J1xuICAgIH1cblxuICAgIGl0KCdsb2dpbiBhIHVzZXInLCAoZG9uZSk9PntcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnMvbG9naW4nKVxuICAgICAgICAuc2VuZCh7dXNlcm5hbWU6bG9nSW5Vc2VyLnVzZXJuYW1lLCBwYXNzd29yZDpsb2dJblVzZXIucGFzc3dvcmR9KVxuICAgICAgICAuZW5kKGZ1bmN0aW9uKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiBkb25lKGVycik7XG5cbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICBhdXRUb2tlbiA9IHJlc3BvbnNlLmJvZHkuVG9rZW5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KTtcblxuICAgIH0pXG5cbiAgICBpdChcImNyZWF0ZXMgYSBuZXcgcG9zdFwiLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgdXNlclRva2VuID0gJ0JlYXJlciAnICsgYXV0VG9rZW5cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHBvc3QgPSBuZXcgUG9zdCh7XG4gICAgICAgICAgICB0aXRsZTogXCJ1bml0IHRlc3RpbmdcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiSSBhbSB0ZXN0aW5nIG5vZGVqcyBhcGkgdXNpbmcgbW9jaGEgd2l0aCBjaGFpIGFzc2VydGlvbiBsaWJyYXJ5XCJcbiAgICAgICAgICAgIFxuICAgICAgICB9KVxuICAgICAgICBwb3N0LnNhdmUoKVxuICAgICAgICBcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoXCIvYXBpL3Bvc3RzXCIpXG4gICAgXG4gICAgICAgIC8vc2V0IHRoZSBhdXRoIGhlYWRlciB3aXRoIG91ciB0b2tlblxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5zZW5kKHBvc3QpXG4gICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAxKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIlBvc3QgU2F2ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuXG4gICAgICAgICAgICBpZD0gcG9zdC5pZFxuICAgICAgICBkb25lKCk7ICBcbiAgICAgICAgfSk7XG4gICAgfSlcbiAgICAgICAgXG5cbiAgICBjb25zdCB1c2VyVG9rZW4gPSAnQmVhcmVyICcgKyBhdXRUb2tlblxuXG4gICAgaXQoXCJmYWlscyB0byBjcmVhdGUgYSBwb3N0IGR1ZSB0byB1bmF0aG9yaXplZCB1c2VyXCIsIChkb25lKT0+e1xuXG4gICAgICAgIGNvbnN0IHBvc3QgPSBuZXcgUG9zdCh7XG4gICAgICAgICAgICB0aXRsZTogXCJrZXphIHRlc3RpbmcgXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcInVuaXQgdGVzdGluZyB3aXRoIG1vY2hhIGFuZCB1c2VyIGtlemFcIlxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG4gICAgICAgIC8vIHBvc3Quc2F2ZSgpXG4gICAgICAgIFxuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAucG9zdChcIi9hcGkvcG9zdHNcIilcbiAgICAgICAgLnNlbmQocG9zdClcbiAgICAgICAgLy9zZXQgdGhlIGF1dGggaGVhZGVyIHdpdGggb3VyIHRva2VuXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCB1c2VyVG9rZW4pXG4gICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAzKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJJbnZhbGlkIHRva2VuXCIpO1xuICAgICAgICBkb25lKCk7ICBcbiAgICAgICAgfSk7XG4gICAgICAgXG4gICAgICAgIFxuICAgIH0pIFxuXG4gICAgaXQoXCJkbyBub3QgY3JlYXRlIGEgcG9zdCB3aXRob3V0IHRpdGxlIGFuZCBjb250ZW50XCIsIChkb25lKT0+e1xuXG4gICAgICAgIGNvbnN0IHBvc3QgPSBuZXcgUG9zdCh7XG4gICAgICAgICAgICB0aXRsZTogXCJcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiXCJcbiAgICAgICAgICAgIFxuICAgICAgICB9KVxuICAgICAgICAvLyBwb3N0LnNhdmUoKVxuICAgICAgICBcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBvc3QoXCIvYXBpL3Bvc3RzXCIpXG4gICAgXG4gICAgICAgIC8vc2V0IHRoZSBhdXRoIGhlYWRlciB3aXRoIG91ciB0b2tlblxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5zZW5kKHBvc3QpXG4gICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAwKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJUaXRsZSBhbmQgY29udGVudCBhcmUgcmVxdWlyZWRcIilcbiAgICAgICAgZG9uZSgpOyAgXG4gICAgICAgIH0pO1xuICAgIH0pXG5cbiAgICAgICAgXG59KSBcbiAgICBcbiAgICBcbiAgICAvKipcbiAgICAgKiB0ZXN0IEdFVCBwb3N0cyByb3V0ZVxuICAgICAqL1xuXG4gIGRlc2NyaWJlKFwiR0VUIC9hcGkvcG9zdHNcIiwgKCk9PntcbiAgICAgICAgXG4gICAgaXQoXCJyZXR1cm5zIGFsbCBwb3N0c1wiLCAoZG9uZSk9PntcbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLmdldChcIi9hcGkvcG9zdHNcIilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5tZXNzYWdlLnNob3VsZC5iZS5lcShcIkZldGNoZWQgc3VjY2Vzc2Z1bGx5XCIpXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgfSlcblxuICAgIC8vIGl0KFwibm90IHJldHVybnMgYWxsIHBvc3RzXCIsIChkb25lKT0+e1xuICAgIC8vICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgIC8vICAgICAuZ2V0KFwiL2FwaS9wb3N0XCIpXG4gICAgLy8gICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgLy8gICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDA0KTtcblxuICAgIC8vICAgICBkb25lKCk7XG4gICAgLy8gICAgIH0pXG4gICAgICAgIFxuICAgIC8vIH0pXG5cbiAgICBcbn0pO1xuXG4vKipcbiAqIHRlc3QgR0VUKGJ5IGlkKSBwb3N0IHJvdXRlXG4gKi9cblxuZGVzY3JpYmUoXCJHRVQgL2FwaS9wb3N0cy86aWRcIiwgKCk9PntcbiAgICBcbiAgICBpdChcInJldHVybnMgYSBzaW5nbGUgcG9zdFwiLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgcG9zdElkID0gaWQ7XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5nZXQoYC9hcGkvcG9zdHMvJHtwb3N0SWR9YClcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5Lm1lc3NhZ2Uuc2hvdWxkLmJlLmVxKFwic3VjY2Vzc2Z1bGx5IGZldGNoZWRcIilcbiAgICAgICAgICAgIFxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgIH0pO1xuXG4gICAgXG4gICAgaXQoXCJub3QgcmV0dXJucyBhIHNpbmdsZSBwb3N0IGF0IHRoaXMgaWRcIiwgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IDEyMzQ7XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5nZXQoYC9hcGkvcG9zdHMvJHtwb3N0SWR9YClcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZXBvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Vwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDA0KTtcbiAgICAgICAgICAgIHJlc3BvbnNlcG9uc2UuYm9keS5lcnJvci5zaG91bGQuYmUuZXEoXCJQb3N0IGRvZXMgbm90IGV4aXN0IVwiKVxuICAgICAgICAgICAgXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgfSlcbn0pXG5cblxuXG4gICAgLyoqXG4gICAgICogUFVUIGEgcG9zdCByb3V0ZVxuICAgICAqL1xuXG4gZGVzY3JpYmUoJ1BVVCAvYXBpL3Bvc3RzLzppZCcsICgpPT57XG4gICAgaXQoJ3VwZGF0ZXMgYSBwb3N0JywgKGRvbmUpPT57XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwb3N0SWQgPSBpZFxuICAgICAgICBjb25zdCBwb3N0ID0ge1xuICAgICAgICAgICAgdGl0bGU6IFwidW5pdCB0ZXN0aW5nXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIm1vY2hhIEpzIGZyYW1ld29yayBmb3IgdGVzdGluZ1wiLFxuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgLnBhdGNoKGAvYXBpL3Bvc3RzLyR7cG9zdElkfWApXG4gICAgICAgIC5zZW5kKHBvc3QpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiUG9zdCBzdWNjZXNzZnVsbHkgdXBkYXRlZCFcIilcbiAgICAgICAgICAgIFxuICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdkb25cXCd0IHVwZGF0ZXMgYSBwb3N0IHdoZW4gdGl0bGUgb3IgY29udGVudCBpcyBlbXB0eScsIChkb25lKT0+e1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcG9zdElkID0gaWRcbiAgICAgICAgY29uc3QgcG9zdCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiBcImF2aWNpaVwiLFxuICAgICAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5wYXRjaChgL2FwaS9wb3N0cy8ke3Bvc3RJZH1gKVxuICAgICAgICAuc2VuZChwb3N0KVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYXV0VG9rZW4pXG4gICAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpPT57XG4gICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAwKTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbWVzc2FnZScpLmVxbChcIlRpdGxlIGFuZCBjb250ZW50IG5lZWQgdmFsdWUhXCIpXG4gICAgICAgICAgICBcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIH0pXG5cblxufSlcblxuICAgIC8qKlxuICAgICAqIERFTEVURSBwb3N0IHJvdXRlXG4gICAgICovXG5cbiAgZGVzY3JpYmUoJ0RFTEVURSAvYXBpL3Bvc3RzLzppZCcsICgpPT57XG4gICAgICBhZnRlcigoKT0+e1xuICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCd1c2VycycpIFxuICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCdwb3N0cycpXG4gICAgICB9KVxuICAgIFxuXG4gICAgaXQoJ0l0IGRlbGV0ZXMgYSBwb3N0JywgKGRvbmUpPT57XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IGlkO1xuICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAuZGVsZXRlKGAvYXBpL3Bvc3RzLyR7cG9zdElkfWApXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyBhdXRUb2tlbilcbiAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDApO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ0l0IHNob3VsZCBub3QgZGVsZXRlIHBvc3QgdGhhdCBkb2VzblxcJ3QgZXhpc3QgaW4gREInLCAoZG9uZSk9PntcbiAgICAgICAgY29uc3QgcG9zdElkID0gaWQ7XG4gICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgIC5kZWxldGUoYC9hcGkvcG9zdHMvJHtwb3N0SWR9YClcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGF1dFRva2VuKVxuICAgICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKT0+e1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDQwNCk7XG4gICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdlcnJvcicpLmVxbChcIlBvc3QgZG9lc24ndCBleGlzdCFcIilcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBcblxufSlcblxufSkiXX0=","map":{"version":3,"sources":["post_test.js"],"names":["require","config","user","autToken","id","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","logInUser","Token","userToken","Post","title","content","save","set","get","message","eq","postId","responseponse","patch","after","delete"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AAKA;;;;AAJAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB,G,CAGA;;;AAGA,IAAIC,IAAJ,EAAUC,QAAV,EAAoBC,EAApB,C,CAEA;;AACAC,cAAKC,MAAL;;AAEAD,cAAKE,GAAL,CAASC,iBAAT;;AAGAC,QAAQ,CAAC,yBAAD,EAA4B,MAAI;AACpCC,EAAAA,MAAM,CAAC,UAASC,IAAT,EAAe;AAClB;AACJ,UAAMC,KAAK,GAAG,iBAAgBC,OAAO,CAACC,GAAR,CAAYC,OAAQ,IAAGF,OAAO,CAACC,GAAR,CAAYE,WAAY,gFAA7E;;AACAC,sBAASC,OAAT,CAAiBN,KAAjB,EAAuB;AAACO,MAAAA,eAAe,EAAC,IAAjB;AAAuBC,MAAAA,kBAAkB,EAAC;AAA1C,KAAvB,EAAwEC,IAAxE,CAA8EC,WAAD,IAAe;AAEpFC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AAEAb,MAAAA,IAAI;AAEP,KANL,EAMOc,KANP,CAMcC,KAAD,IAAS;AACdH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,KARL;AAWC,GAdK,CAAN;AAiBA;AACJ;AACA;;AAEAjB,EAAAA,QAAQ,CAAC,iBAAD,EAAoB,MAAI;AAC5BC,IAAAA,MAAM,CAAC,MAAI;AACPO,wBAASU,UAAT,CAAoBC,cAApB,CAAmC,OAAnC;;AACAX,wBAASU,UAAT,CAAoBC,cAApB,CAAmC,OAAnC;AACH,KAHK,CAAN,CAD4B,CAQ5B;;AACAC,IAAAA,EAAE,CAAC,mBAAD,EAAuBlB,IAAD,IAAQ;AAE5B,YAAMmB,OAAO,GAAG,IAAIC,UAAJ,CAAS;AACrBC,QAAAA,QAAQ,EAAC,QADY;AAErBC,QAAAA,KAAK,EAAC,iBAFe;AAGrBC,QAAAA,QAAQ,EAAC;AAHY,OAAT,CAAhB;;AAOA7B,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,YADN,EAECC,IAFD,CAEMR,OAFN,EAGCS,GAHD,CAGK,CAACC,GAAD,EAAMC,QAAN,KAAiB;AAClBA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACAL,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,eAAlD;AACJrC,QAAAA,IAAI;AACH,OARD;AASH,KAlBC,CAAF,CAT4B,CA8B5B;;AACA,UAAMsC,SAAS,GAAG;AACdjB,MAAAA,QAAQ,EAAC,QADK;AAEdE,MAAAA,QAAQ,EAAC;AAFK,KAAlB;AAKAL,IAAAA,EAAE,CAAC,cAAD,EAAkBlB,IAAD,IAAQ;AACvBN,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,kBADN,EAECC,IAFD,CAEM;AAACN,QAAAA,QAAQ,EAACiB,SAAS,CAACjB,QAApB;AAA8BE,QAAAA,QAAQ,EAACe,SAAS,CAACf;AAAjD,OAFN,EAGCK,GAHD,CAGK,UAASC,GAAT,EAAcC,QAAd,EAAwB;AACzB,YAAID,GAAJ,EAAS,OAAO7B,IAAI,CAAC6B,GAAD,CAAX;AAETC,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACA3C,QAAAA,QAAQ,GAAGsC,QAAQ,CAACG,IAAT,CAAcM,KAAzB;AAEAvC,QAAAA,IAAI;AACP,OAXD;AAaH,KAdC,CAAF;AAgBAkB,IAAAA,EAAE,CAAC,oBAAD,EAAwBlB,IAAD,IAAQ;AAC7B,YAAMwC,SAAS,GAAG,YAAYhD,QAA9B;AAEA,YAAMkC,IAAI,GAAG,IAAIe,UAAJ,CAAS;AAClBC,QAAAA,KAAK,EAAE,cADW;AAElBC,QAAAA,OAAO,EAAE;AAFS,OAAT,CAAb;AAKAjB,MAAAA,IAAI,CAACkB,IAAL;;AAEAlD,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,YADN,EAGA;AAHA,OAICmB,GAJD,CAIK,eAJL,EAIsB,YAAYrD,QAJlC,EAKCmC,IALD,CAKMD,IALN,EAMCE,GAND,CAMK,UAASb,KAAT,EAAgBe,QAAhB,EAA0B;AAC3BA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACAL,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,yBAAlD;AAEA5C,QAAAA,EAAE,GAAEiC,IAAI,CAACjC,EAAT;AACJO,QAAAA,IAAI;AACH,OAbD;AAcH,KAxBC,CAAF;AA2BA,UAAMwC,SAAS,GAAG,YAAYhD,QAA9B;AAEA0B,IAAAA,EAAE,CAAC,gDAAD,EAAoDlB,IAAD,IAAQ;AAEzD,YAAM0B,IAAI,GAAG,IAAIe,UAAJ,CAAS;AAClBC,QAAAA,KAAK,EAAE,eADW;AAElBC,QAAAA,OAAO,EAAE;AAFS,OAAT,CAAb,CAFyD,CAOzD;;AAEAjD,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,YADN,EAECC,IAFD,CAEMD,IAFN,EAGA;AAHA,OAICmB,GAJD,CAIK,eAJL,EAIsBL,SAJtB,EAKCZ,GALD,CAKK,UAASb,KAAT,EAAgBe,QAAhB,EAA0B;AAC3BA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,eAAlD;AACJrC,QAAAA,IAAI;AACH,OATD;AAYH,KArBC,CAAF;AAuBAkB,IAAAA,EAAE,CAAC,gDAAD,EAAoDlB,IAAD,IAAQ;AAEzD,YAAM0B,IAAI,GAAG,IAAIe,UAAJ,CAAS;AAClBC,QAAAA,KAAK,EAAE,EADW;AAElBC,QAAAA,OAAO,EAAE;AAFS,OAAT,CAAb,CAFyD,CAOzD;;AAEAjD,oBAAK8B,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,YADN,EAGA;AAHA,OAICmB,GAJD,CAIK,eAJL,EAIsB,YAAYrD,QAJlC,EAKCmC,IALD,CAKMD,IALN,EAMCE,GAND,CAMK,UAASb,KAAT,EAAgBe,QAAhB,EAA0B;AAC3BA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,gCAAlD;AACJrC,QAAAA,IAAI;AACH,OAVD;AAWH,KApBC,CAAF;AAuBH,GA/HO,CAAR;AAkII;AACJ;AACA;;AAEEF,EAAAA,QAAQ,CAAC,gBAAD,EAAmB,MAAI;AAE7BoB,IAAAA,EAAE,CAAC,mBAAD,EAAuBlB,IAAD,IAAQ;AAC5BN,oBAAK8B,OAAL,CAAaC,cAAb,EACCqB,GADD,CACK,YADL,EAEClB,GAFD,CAEK,CAACC,GAAD,EAAMC,QAAN,KAAiB;AAClBA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAAcc,OAAd,CAAsBpD,MAAtB,CAA6BuC,EAA7B,CAAgCc,EAAhC,CAAmC,sBAAnC;AACJhD,QAAAA,IAAI;AACH,OAND;AAQH,KATC,CAAF,CAF6B,CAa7B;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAGH,GAzBS,CAAR;AA2BF;AACA;AACA;;AAEAF,EAAAA,QAAQ,CAAC,oBAAD,EAAuB,MAAI;AAE/BoB,IAAAA,EAAE,CAAC,uBAAD,EAA2BlB,IAAD,IAAQ;AAChC,YAAMiD,MAAM,GAAGxD,EAAf;;AACAC,oBAAK8B,OAAL,CAAaC,cAAb,EACCqB,GADD,CACM,cAAaG,MAAO,EAD1B,EAECrB,GAFD,CAEK,CAACC,GAAD,EAAMC,QAAN,KAAiB;AAClBA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACAL,QAAAA,QAAQ,CAACG,IAAT,CAAcc,OAAd,CAAsBpD,MAAtB,CAA6BuC,EAA7B,CAAgCc,EAAhC,CAAmC,sBAAnC;AAEJhD,QAAAA,IAAI;AACH,OARD;AAUH,KAZC,CAAF;AAeAkB,IAAAA,EAAE,CAAC,sCAAD,EAA0ClB,IAAD,IAAQ;AAC/C,YAAMiD,MAAM,GAAG,IAAf;;AACAvD,oBAAK8B,OAAL,CAAaC,cAAb,EACCqB,GADD,CACM,cAAaG,MAAO,EAD1B,EAECrB,GAFD,CAEK,CAACC,GAAD,EAAMqB,aAAN,KAAsB;AACvBA,QAAAA,aAAa,CAACvD,MAAd,CAAqBoC,IAArB,CAA0BC,MAA1B,CAAiC,GAAjC;AACAkB,QAAAA,aAAa,CAACjB,IAAd,CAAmBlB,KAAnB,CAAyBpB,MAAzB,CAAgCuC,EAAhC,CAAmCc,EAAnC,CAAsC,sBAAtC;AAEJhD,QAAAA,IAAI;AACH,OAPD;AASH,KAXC,CAAF;AAYH,GA7BO,CAAR;AAiCI;AACJ;AACA;;AAECF,EAAAA,QAAQ,CAAC,oBAAD,EAAuB,MAAI;AAChCoB,IAAAA,EAAE,CAAC,gBAAD,EAAoBlB,IAAD,IAAQ;AAEzB,YAAMiD,MAAM,GAAGxD,EAAf;AACA,YAAMiC,IAAI,GAAG;AACTgB,QAAAA,KAAK,EAAE,cADE;AAETC,QAAAA,OAAO,EAAE;AAFA,OAAb;;AAKAjD,oBAAK8B,OAAL,CAAaC,cAAb,EACC0B,KADD,CACQ,cAAaF,MAAO,EAD5B,EAECtB,IAFD,CAEMD,IAFN,EAGCmB,GAHD,CAGK,eAHL,EAGsB,YAAYrD,QAHlC,EAICoC,GAJD,CAIK,CAACC,GAAD,EAAMC,QAAN,KAAiB;AAClBA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACAL,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,4BAAlD;AAEJrC,QAAAA,IAAI;AACH,OAVD;AAWH,KAnBC,CAAF;AAqBAkB,IAAAA,EAAE,CAAC,sDAAD,EAA0DlB,IAAD,IAAQ;AAE/D,YAAMiD,MAAM,GAAGxD,EAAf;AACA,YAAMiC,IAAI,GAAG;AACTgB,QAAAA,KAAK,EAAE,QADE;AAETC,QAAAA,OAAO,EAAE;AAFA,OAAb;;AAKAjD,oBAAK8B,OAAL,CAAaC,cAAb,EACC0B,KADD,CACQ,cAAaF,MAAO,EAD5B,EAECtB,IAFD,CAEMD,IAFN,EAGCmB,GAHD,CAGK,eAHL,EAGsB,YAAYrD,QAHlC,EAICoC,GAJD,CAIK,CAACC,GAAD,EAAMC,QAAN,KAAiB;AAClBA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBuC,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACAL,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,SAAnC,EAA8CC,GAA9C,CAAkD,+BAAlD;AAEJrC,QAAAA,IAAI;AACH,OAVD;AAWH,KAnBC,CAAF;AAsBH,GA5CQ,CAAR;AA8CG;AACJ;AACA;;AAEEF,EAAAA,QAAQ,CAAC,uBAAD,EAA0B,MAAI;AAClCsD,IAAAA,KAAK,CAAC,MAAI;AACR9C,wBAASU,UAAT,CAAoBC,cAApB,CAAmC,OAAnC;;AACAX,wBAASU,UAAT,CAAoBC,cAApB,CAAmC,OAAnC;AACD,KAHI,CAAL;AAMFC,IAAAA,EAAE,CAAC,mBAAD,EAAuBlB,IAAD,IAAQ;AAC5B,YAAMiD,MAAM,GAAGxD,EAAf;;AACAC,oBAAK8B,OAAL,CAAaC,cAAb,EACC4B,MADD,CACS,cAAaJ,MAAO,EAD7B,EAECJ,GAFD,CAEK,eAFL,EAEsB,YAAYrD,QAFlC,EAGCoC,GAHD,CAGK,CAACC,GAAD,EAAMC,QAAN,KAAiB;AAClBA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AAEJhC,QAAAA,IAAI;AACH,OAPD;AAQH,KAVC,CAAF;AAYAkB,IAAAA,EAAE,CAAC,qDAAD,EAAyDlB,IAAD,IAAQ;AAC9D,YAAMiD,MAAM,GAAGxD,EAAf;;AACAC,oBAAK8B,OAAL,CAAaC,cAAb,EACC4B,MADD,CACS,cAAaJ,MAAO,EAD7B,EAECJ,GAFD,CAEK,eAFL,EAEsB,YAAYrD,QAFlC,EAGCoC,GAHD,CAGK,CAACC,GAAD,EAAMC,QAAN,KAAiB;AAClBA,QAAAA,QAAQ,CAACnC,MAAT,CAAgBoC,IAAhB,CAAqBC,MAArB,CAA4B,GAA5B;AACAF,QAAAA,QAAQ,CAACG,IAAT,CAActC,MAAd,CAAqBoC,IAArB,CAA0BK,QAA1B,CAAmC,OAAnC,EAA4CC,GAA5C,CAAgD,qBAAhD;AACJrC,QAAAA,IAAI;AACH,OAPD;AAQH,KAVC,CAAF;AAcH,GAjCS,CAAR;AAmCD,CArTO,CAAR","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nimport {Post} from \"../models/Post\";\nrequire(\"dotenv\").config();\n\n\n//to mock a function during testing\nimport { User } from '../models/User';\n\nlet user, autToken, id;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for Post Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n\n\n    });   \n    \n    \n    /**\n     * POST a post route\n     */\n\ndescribe(\"POST /api/posts\", ()=>{\n    before(()=>{\n        mongoose.connection.dropCollection('users')\n        mongoose.connection.dropCollection('posts')\n    })\n   \n    \n\n    // create user and login \n    it('creates new user ', (done)=>{\n\n        const newUser = new User({\n            username:\"menase\",\n            email:\"menase@mail.com\",\n            password:\"password test\"\n       \n        })\n\n        chai.request(server)\n        .post(\"/api/users\")\n        .send(newUser)\n        .end((err, response)=>{\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"user created!\");\n        done();   \n        })\n    })\n\n\n    // login\n    const logInUser = {\n        username:'menase',\n        password:'password test'\n    }\n\n    it('login a user', (done)=>{\n        chai.request(server)\n        .post('/api/users/login')\n        .send({username:logInUser.username, password:logInUser.password})\n        .end(function(err, response) {\n            if (err) return done(err);\n\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            autToken = response.body.Token\n            \n            done();\n        });\n\n    })\n\n    it(\"creates a new post\", (done)=>{\n        const userToken = 'Bearer ' + autToken\n        \n        const post = new Post({\n            title: \"unit testing\",\n            content: \"I am testing nodejs api using mocha with chai assertion library\"\n            \n        })\n        post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n    \n        //set the auth header with our token\n        .set('Authorization', 'Bearer ' + autToken)\n        .send(post)\n        .end(function(error, response) {\n            response.should.have.status(201);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post Saved successfully\");\n\n            id= post.id\n        done();  \n        });\n    })\n        \n\n    const userToken = 'Bearer ' + autToken\n\n    it(\"fails to create a post due to unathorized user\", (done)=>{\n\n        const post = new Post({\n            title: \"keza testing \",\n            content: \"unit testing with mocha and user keza\"\n            \n        })\n        // post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n        .send(post)\n        //set the auth header with our token\n        .set('Authorization', userToken)\n        .end(function(error, response) {\n            response.should.have.status(403);\n            response.body.should.have.property('message').eql(\"Invalid token\");\n        done();  \n        });\n       \n        \n    }) \n\n    it(\"do not create a post without title and content\", (done)=>{\n\n        const post = new Post({\n            title: \"\",\n            content: \"\"\n            \n        })\n        // post.save()\n        \n        chai.request(server)\n        .post(\"/api/posts\")\n    \n        //set the auth header with our token\n        .set('Authorization', 'Bearer ' + autToken)\n        .send(post)\n        .end(function(error, response) {\n            response.should.have.status(400);\n            response.body.should.have.property('message').eql(\"Title and content are required\")\n        done();  \n        });\n    })\n\n        \n}) \n    \n    \n    /**\n     * test GET posts route\n     */\n\n  describe(\"GET /api/posts\", ()=>{\n        \n    it(\"returns all posts\", (done)=>{\n        chai.request(server)\n        .get(\"/api/posts\")\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.message.should.be.eq(\"Fetched successfully\")\n        done();\n        })\n        \n    })\n\n    // it(\"not returns all posts\", (done)=>{\n    //     chai.request(server)\n    //     .get(\"/api/post\")\n    //     .end((err, response)=>{\n    //         response.should.have.status(404);\n\n    //     done();\n    //     })\n        \n    // })\n\n    \n});\n\n/**\n * test GET(by id) post route\n */\n\ndescribe(\"GET /api/posts/:id\", ()=>{\n    \n    it(\"returns a single post\", (done)=>{\n        const postId = id;\n        chai.request(server)\n        .get(`/api/posts/${postId}`)\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            response.body.message.should.be.eq(\"successfully fetched\")\n            \n        done();\n        })\n        \n    });\n\n    \n    it(\"not returns a single post at this id\", (done)=>{\n        const postId = 1234;\n        chai.request(server)\n        .get(`/api/posts/${postId}`)\n        .end((err, responseponse)=>{\n            responseponse.should.have.status(404);\n            responseponse.body.error.should.be.eq(\"Post does not exist!\")\n            \n        done();\n        })\n        \n    })\n})\n\n\n\n    /**\n     * PUT a post route\n     */\n\n describe('PUT /api/posts/:id', ()=>{\n    it('updates a post', (done)=>{\n        \n        const postId = id\n        const post = {\n            title: \"unit testing\",\n            content: \"mocha Js framework for testing\",\n            \n        }\n        chai.request(server)\n        .patch(`/api/posts/${postId}`)\n        .send(post)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Post successfully updated!\")\n            \n        done();\n        })\n    })\n\n    it('don\\'t updates a post when title or content is empty', (done)=>{\n        \n        const postId = id\n        const post = {\n            title: \"avicii\",\n            content: \"\",\n            \n        }\n        chai.request(server)\n        .patch(`/api/posts/${postId}`)\n        .send(post)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(400);\n            response.body.should.be.a('object');\n            response.body.should.have.property('message').eql(\"Title and content need value!\")\n            \n        done();\n        })\n    })\n\n\n})\n\n    /**\n     * DELETE post route\n     */\n\n  describe('DELETE /api/posts/:id', ()=>{\n      after(()=>{\n        mongoose.connection.dropCollection('users') \n        mongoose.connection.dropCollection('posts')\n      })\n    \n\n    it('It deletes a post', (done)=>{\n        const postId = id;\n        chai.request(server)\n        .delete(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(200);\n\n        done();\n        })\n    })\n\n    it('It should not delete post that doesn\\'t exist in DB', (done)=>{\n        const postId = id;\n        chai.request(server)\n        .delete(`/api/posts/${postId}`)\n        .set('Authorization', 'Bearer ' + autToken)\n        .end((err, response)=>{\n            response.should.have.status(404);\n            response.body.should.have.property('error').eql(\"Post doesn't exist!\")\n        done();\n        })\n    })\n\n    \n\n})\n\n})"]}},"mtime":1650530666865},"{\"assumptions\":{},\"sourceRoot\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"filename\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/user_test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nyakamwe/Desktop/my-brand-nyakamwe/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _chai = _interopRequireDefault(require(\"chai\"));\n\nvar _index = _interopRequireDefault(require(\"../index\"));\n\nvar _chaiHttp = _interopRequireDefault(require(\"chai-http\"));\n\nvar _User = require(\"../models/User\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config();\n\nlet user; //assertion style\n\n_chai.default.should();\n\n_chai.default.use(_chaiHttp.default);\n\ndescribe('Test for User Endpoints', () => {\n  before(function (done) {\n    // Connect to MongoDB database\n    const dbURI = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`;\n\n    _mongoose.default.connect(dbURI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(responseult => {\n      console.log('Db Connected!');\n      done();\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  /**\n   * Test create new user\n   */\n\n  describe('POST /api/users', () => {\n    before(() => {\n      _mongoose.default.connection.dropCollection(\"users\");\n    });\n    it('creates new user ', done => {\n      const newUser = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(newUser).end((err, response) => {\n        response.should.have.status(201);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user created!\");\n        done();\n      });\n    });\n    it('User exists', done => {\n      user = new _User.User({\n        username: \"menase\",\n        email: \"menase@mail.com\",\n        password: \"password test\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(user).end((err, response) => {\n        response.should.have.status(403);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"user already exists\");\n        done();\n      });\n    });\n    it('No new user without username, email or password ', done => {\n      const user = new _User.User({\n        username: \"\",\n        email: \"\",\n        password: \"\"\n      });\n\n      _chai.default.request(_index.default).post(\"/api/users\").send(user).end((err, response) => {\n        response.should.have.status(403);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"All fields are required\");\n        done();\n      });\n    });\n  });\n  /**\n   * POST User login\n   */\n\n  describe('POST /api/users/login', () => {\n    after(() => {\n      _mongoose.default.connection.dropCollection('users');\n    });\n    const logInUser = {\n      username: 'menase',\n      password: 'password test'\n    };\n    it('login a user', done => {\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(200);\n        response.body.should.be.a('object');\n        autToken = response.body.Token;\n        done();\n      });\n    });\n    it('not login a user with incorrect credentials', done => {\n      const logInUser = {\n        username: 'menase',\n        password: 'password'\n      };\n\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(403);\n        response.body.should.be.a('object');\n        response.body.should.have.property('message').eql(\"Invalid username or password.\");\n        done();\n      });\n    });\n    it('not login anonymous user', done => {\n      const logInUser = {\n        username: 'hereweare',\n        password: 'hereweare'\n      };\n\n      _chai.default.request(_index.default).post('/api/users/login').send({\n        username: logInUser.username,\n        password: logInUser.password\n      }).end(function (err, response) {\n        if (err) return done(err);\n        response.should.have.status(400);\n        response.body.should.have.property('message').eql(\"Not User.\");\n        done();\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJfdGVzdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwidXNlciIsImNoYWkiLCJzaG91bGQiLCJ1c2UiLCJjaGFpSHR0cCIsImRlc2NyaWJlIiwiYmVmb3JlIiwiZG9uZSIsImRiVVJJIiwicHJvY2VzcyIsImVudiIsIkRCX1VTRVIiLCJEQl9QQVNTV09SRCIsIm1vbmdvb3NlIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInRoZW4iLCJyZXNwb25zZXVsdCIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwiY29ubmVjdGlvbiIsImRyb3BDb2xsZWN0aW9uIiwiaXQiLCJuZXdVc2VyIiwiVXNlciIsInVzZXJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInJlcXVlc3QiLCJzZXJ2ZXIiLCJwb3N0Iiwic2VuZCIsImVuZCIsImVyciIsInJlc3BvbnNlIiwiaGF2ZSIsInN0YXR1cyIsImJvZHkiLCJiZSIsImEiLCJwcm9wZXJ0eSIsImVxbCIsImFmdGVyIiwibG9nSW5Vc2VyIiwiYXV0VG9rZW4iLCJUb2tlbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7OztBQURBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFHQSxJQUFJQyxJQUFKLEMsQ0FFQTs7QUFDQUMsY0FBS0MsTUFBTDs7QUFFQUQsY0FBS0UsR0FBTCxDQUFTQyxpQkFBVDs7QUFHQUMsUUFBUSxDQUFDLHlCQUFELEVBQTRCLE1BQUk7QUFDcENDLEVBQUFBLE1BQU0sQ0FBQyxVQUFTQyxJQUFULEVBQWU7QUFDbEI7QUFDSixVQUFNQyxLQUFLLEdBQUcsaUJBQWdCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsT0FBUSxJQUFHRixPQUFPLENBQUNDLEdBQVIsQ0FBWUUsV0FBWSxnRkFBN0U7O0FBQ0FDLHNCQUFTQyxPQUFULENBQWlCTixLQUFqQixFQUF1QjtBQUFDTyxN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QWxEO0FBQ0pyQyxRQUFBQSxJQUFJO0FBQ0gsT0FWRDtBQVlILEtBakJDLENBQUY7QUFtQkFrQixJQUFBQSxFQUFFLENBQUMsMEJBQUQsRUFBOEJsQixJQUFELElBQVE7QUFDbkMsWUFBTXVDLFNBQVMsR0FBRztBQUNkbEIsUUFBQUEsUUFBUSxFQUFDLFdBREs7QUFFZEUsUUFBQUEsUUFBUSxFQUFDO0FBRkssT0FBbEI7O0FBSUE3QixvQkFBSzhCLE9BQUwsQ0FBYUMsY0FBYixFQUNDQyxJQURELENBQ00sa0JBRE4sRUFFQ0MsSUFGRCxDQUVNO0FBQUNOLFFBQUFBLFFBQVEsRUFBQ2tCLFNBQVMsQ0FBQ2xCLFFBQXBCO0FBQThCRSxRQUFBQSxRQUFRLEVBQUNnQixTQUFTLENBQUNoQjtBQUFqRCxPQUZOLEVBR0NLLEdBSEQsQ0FHSyxVQUFTQyxHQUFULEVBQWNDLFFBQWQsRUFBd0I7QUFDekIsWUFBSUQsR0FBSixFQUFTLE9BQU83QixJQUFJLENBQUM2QixHQUFELENBQVg7QUFFVEMsUUFBQUEsUUFBUSxDQUFDbkMsTUFBVCxDQUFnQm9DLElBQWhCLENBQXFCQyxNQUFyQixDQUE0QixHQUE1QjtBQUNBRixRQUFBQSxRQUFRLENBQUNHLElBQVQsQ0FBY3RDLE1BQWQsQ0FBcUJvQyxJQUFyQixDQUEwQkssUUFBMUIsQ0FBbUMsU0FBbkMsRUFBOENDLEdBQTlDLENBQWtELFdBQWxEO0FBQ0pyQyxRQUFBQSxJQUFJO0FBQ0gsT0FURDtBQVdILEtBaEJDLENBQUY7QUFvQkgsR0FqRVEsQ0FBUjtBQW1FSixDQXJLTyxDQUFSIiwic291cmNlUm9vdCI6Ii9ob21lL255YWthbXdlL0Rlc2t0b3AvbXktYnJhbmQtbnlha2Ftd2Uvc2VydmVyL3NyYy90ZXN0LyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgY2hhaSBmcm9tICdjaGFpJztcbmltcG9ydCBzZXJ2ZXIgZnJvbSBcIi4uL2luZGV4XCI7XG5pbXBvcnQgY2hhaUh0dHAgZnJvbSBcImNoYWktaHR0cFwiO1xucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuLi9tb2RlbHMvVXNlcic7XG5cbmxldCB1c2VyO1xuXG4vL2Fzc2VydGlvbiBzdHlsZVxuY2hhaS5zaG91bGQoKTtcblxuY2hhaS51c2UoY2hhaUh0dHApICBcbiAgICBcbiAgICBcbmRlc2NyaWJlKCdUZXN0IGZvciBVc2VyIEVuZHBvaW50cycsICgpPT57XG4gICAgYmVmb3JlKGZ1bmN0aW9uKGRvbmUpIHtcbiAgICAgICAgLy8gQ29ubmVjdCB0byBNb25nb0RCIGRhdGFiYXNlXG4gICAgY29uc3QgZGJVUkkgPWBtb25nb2RiK3NydjovLyR7cHJvY2Vzcy5lbnYuREJfVVNFUn06JHtwcm9jZXNzLmVudi5EQl9QQVNTV09SRH1Abm9kZS1hcHBsaWNhdGlvbnMuZmU0YXUubW9uZ29kYi5uZXQvbm9kZS10dXRvcmlhbD9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHlgXG4gICAgbW9uZ29vc2UuY29ubmVjdChkYlVSSSx7dXNlTmV3VXJsUGFyc2VyOnRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTp0cnVlfSkudGhlbigocmVzcG9uc2V1bHQpPT57XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEYiBDb25uZWN0ZWQhJylcbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgIH0pXG4gICAgXG4gICAgIFxuXG4gICAgfSk7XG4gICAgXG4gICAgXG5cbiAgICAvKipcbiAgICAgKiBUZXN0IGNyZWF0ZSBuZXcgdXNlclxuICAgICAqL1xuXG4gICAgIGRlc2NyaWJlKCdQT1NUIC9hcGkvdXNlcnMnLCAoKT0+e1xuICAgICAgICBiZWZvcmUoKCk9PntcbiAgICAgICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uZHJvcENvbGxlY3Rpb24oXCJ1c2Vyc1wiKTtcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnY3JlYXRlcyBuZXcgdXNlciAnLCAoZG9uZSk9PntcblxuICAgICAgICAgICAgY29uc3QgbmV3VXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTpcIm1lbmFzZVwiLFxuICAgICAgICAgICAgICAgIGVtYWlsOlwibWVuYXNlQG1haWwuY29tXCIsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6XCJwYXNzd29yZCB0ZXN0XCJcbiAgICAgICAgICAgXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoXCIvYXBpL3VzZXJzXCIpXG4gICAgICAgICAgICAuc2VuZChuZXdVc2VyKVxuICAgICAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAxKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwidXNlciBjcmVhdGVkIVwiKTtcbiAgICAgICAgICAgIGRvbmUoKTsgICBcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cblxuICAgICAgICBpdCgnVXNlciBleGlzdHMnLCAoZG9uZSk9PntcblxuICAgICAgICAgICAgdXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTpcIm1lbmFzZVwiLFxuICAgICAgICAgICAgICAgIGVtYWlsOlwibWVuYXNlQG1haWwuY29tXCIsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6XCJwYXNzd29yZCB0ZXN0XCJcbiAgICAgICAgICAgXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoXCIvYXBpL3VzZXJzXCIpXG4gICAgICAgICAgICAuc2VuZCh1c2VyKVxuICAgICAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAzKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwidXNlciBhbHJlYWR5IGV4aXN0c1wiKTtcbiAgICAgICAgICAgIGRvbmUoKTsgICBcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnTm8gbmV3IHVzZXIgd2l0aG91dCB1c2VybmFtZSwgZW1haWwgb3IgcGFzc3dvcmQgJywgKGRvbmUpPT57XG5cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6XCJcIixcbiAgICAgICAgICAgICAgICBlbWFpbDpcIlwiLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOlwiXCJcbiAgICAgICAgICAgXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoXCIvYXBpL3VzZXJzXCIpXG4gICAgICAgICAgICAuc2VuZCh1c2VyKVxuICAgICAgICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSk9PntcbiAgICAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAzKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiQWxsIGZpZWxkcyBhcmUgcmVxdWlyZWRcIik7XG4gICAgICAgICAgICBkb25lKCk7ICAgXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgfSlcblxuICAgIC8qKlxuICAgICAqIFBPU1QgVXNlciBsb2dpblxuICAgICAqL1xuXG4gICAgIGRlc2NyaWJlKCdQT1NUIC9hcGkvdXNlcnMvbG9naW4nLCAoKT0+e1xuICAgICAgICAgYWZ0ZXIoKCk9PntcbiAgICAgICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLmRyb3BDb2xsZWN0aW9uKCd1c2VycycpXG4gICAgICAgICB9KVxuICAgICAgIFxuICAgICAgICBjb25zdCBsb2dJblVzZXIgPSB7XG4gICAgICAgICAgICB1c2VybmFtZTonbWVuYXNlJyxcbiAgICAgICAgICAgIHBhc3N3b3JkOidwYXNzd29yZCB0ZXN0J1xuICAgICAgICB9XG5cbiAgICAgICAgaXQoJ2xvZ2luIGEgdXNlcicsIChkb25lKT0+e1xuICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgICAgICAgIC5wb3N0KCcvYXBpL3VzZXJzL2xvZ2luJylcbiAgICAgICAgICAgIC5zZW5kKHt1c2VybmFtZTpsb2dJblVzZXIudXNlcm5hbWUsIHBhc3N3b3JkOmxvZ0luVXNlci5wYXNzd29yZH0pXG4gICAgICAgICAgICAuZW5kKGZ1bmN0aW9uKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuXG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgYXV0VG9rZW4gPSByZXNwb25zZS5ib2R5LlRva2VuXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnbm90IGxvZ2luIGEgdXNlciB3aXRoIGluY29ycmVjdCBjcmVkZW50aWFscycsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgbG9nSW5Vc2VyID0ge1xuICAgICAgICAgICAgICAgIHVzZXJuYW1lOidtZW5hc2UnLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOidwYXNzd29yZCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAgICAgICAucG9zdCgnL2FwaS91c2Vycy9sb2dpbicpXG4gICAgICAgICAgICAuc2VuZCh7dXNlcm5hbWU6bG9nSW5Vc2VyLnVzZXJuYW1lLCBwYXNzd29yZDpsb2dJblVzZXIucGFzc3dvcmR9KVxuICAgICAgICAgICAgLmVuZChmdW5jdGlvbihlcnIsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGRvbmUoZXJyKTtcblxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDMpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmJlLmEoJ29iamVjdCcpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkuc2hvdWxkLmhhdmUucHJvcGVydHkoJ21lc3NhZ2UnKS5lcWwoXCJJbnZhbGlkIHVzZXJuYW1lIG9yIHBhc3N3b3JkLlwiKTtcbiAgICAgICAgICAgIGRvbmUoKTsgICBcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pXG5cbiAgICAgICAgaXQoJ25vdCBsb2dpbiBhbm9ueW1vdXMgdXNlcicsIChkb25lKT0+e1xuICAgICAgICAgICAgY29uc3QgbG9nSW5Vc2VyID0ge1xuICAgICAgICAgICAgICAgIHVzZXJuYW1lOidoZXJld2VhcmUnLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOidoZXJld2VhcmUnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgICAgICAgLnBvc3QoJy9hcGkvdXNlcnMvbG9naW4nKVxuICAgICAgICAgICAgLnNlbmQoe3VzZXJuYW1lOmxvZ0luVXNlci51c2VybmFtZSwgcGFzc3dvcmQ6bG9nSW5Vc2VyLnBhc3N3b3JkfSlcbiAgICAgICAgICAgIC5lbmQoZnVuY3Rpb24oZXJyLCByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiBkb25lKGVycik7XG5cbiAgICAgICAgICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAwKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdtZXNzYWdlJykuZXFsKFwiTm90IFVzZXIuXCIpO1xuICAgICAgICAgICAgZG9uZSgpOyAgIFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSlcblxuXG4gICAgICAgXG4gICAgfSlcblxufSkgICAgIl19","map":{"version":3,"sources":["user_test.js"],"names":["require","config","user","chai","should","use","chaiHttp","describe","before","done","dbURI","process","env","DB_USER","DB_PASSWORD","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","responseult","console","log","catch","error","connection","dropCollection","it","newUser","User","username","email","password","request","server","post","send","end","err","response","have","status","body","be","a","property","eql","after","logInUser","autToken","Token"],"mappings":"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","sourceRoot":"/home/nyakamwe/Desktop/my-brand-nyakamwe/server/src/test/","sourcesContent":["import mongoose from 'mongoose';\nimport chai from 'chai';\nimport server from \"../index\";\nimport chaiHttp from \"chai-http\";\nrequire(\"dotenv\").config();\nimport { User } from '../models/User';\n\nlet user;\n\n//assertion style\nchai.should();\n\nchai.use(chaiHttp)  \n    \n    \ndescribe('Test for User Endpoints', ()=>{\n    before(function(done) {\n        // Connect to MongoDB database\n    const dbURI =`mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASSWORD}@node-applications.fe4au.mongodb.net/node-tutorial?retryWrites=true&w=majority`\n    mongoose.connect(dbURI,{useNewUrlParser:true, useUnifiedTopology:true}).then((responseult)=>{\n\n            console.log('Db Connected!')\n            \n\n            done();\n            \n        }).catch((error)=>{\n            console.log(error)\n        })\n    \n     \n\n    });\n    \n    \n\n    /**\n     * Test create new user\n     */\n\n     describe('POST /api/users', ()=>{\n        before(()=>{\n            mongoose.connection.dropCollection(\"users\");\n        })\n\n        it('creates new user ', (done)=>{\n\n            const newUser = new User({\n                username:\"menase\",\n                email:\"menase@mail.com\",\n                password:\"password test\"\n           \n            })\n\n            chai.request(server)\n            .post(\"/api/users\")\n            .send(newUser)\n            .end((err, response)=>{\n                response.should.have.status(201);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"user created!\");\n            done();   \n            })\n        })\n\n\n        it('User exists', (done)=>{\n\n            user = new User({\n                username:\"menase\",\n                email:\"menase@mail.com\",\n                password:\"password test\"\n           \n            })\n\n            chai.request(server)\n            .post(\"/api/users\")\n            .send(user)\n            .end((err, response)=>{\n                response.should.have.status(403);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"user already exists\");\n            done();   \n            })\n\n        })\n\n        it('No new user without username, email or password ', (done)=>{\n\n            const user = new User({\n                username:\"\",\n                email:\"\",\n                password:\"\"\n           \n            })\n\n            chai.request(server)\n            .post(\"/api/users\")\n            .send(user)\n            .end((err, response)=>{\n                response.should.have.status(403);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"All fields are required\");\n            done();   \n            })\n        })\n\n    })\n\n    /**\n     * POST User login\n     */\n\n     describe('POST /api/users/login', ()=>{\n         after(()=>{\n             mongoose.connection.dropCollection('users')\n         })\n       \n        const logInUser = {\n            username:'menase',\n            password:'password test'\n        }\n\n        it('login a user', (done)=>{\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(200);\n                response.body.should.be.a('object');\n                autToken = response.body.Token\n                \n                done();\n            });\n\n        })\n\n        it('not login a user with incorrect credentials', (done)=>{\n            const logInUser = {\n                username:'menase',\n                password:'password'\n            }\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(403);\n                response.body.should.be.a('object');\n                response.body.should.have.property('message').eql(\"Invalid username or password.\");\n            done();   \n            });\n\n        })\n\n        it('not login anonymous user', (done)=>{\n            const logInUser = {\n                username:'hereweare',\n                password:'hereweare'\n            }\n            chai.request(server)\n            .post('/api/users/login')\n            .send({username:logInUser.username, password:logInUser.password})\n            .end(function(err, response) {\n                if (err) return done(err);\n\n                response.should.have.status(400);\n                response.body.should.have.property('message').eql(\"Not User.\");\n            done();   \n            });\n\n        })\n\n\n       \n    })\n\n})    "]}},"mtime":1650440466929}}